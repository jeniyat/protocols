{"uri":"Script-R14-CARD-Antibiotic-Resistance-Analysis-ejnbcme","version_id":"0","protocol_name":"Script R14: CARD Antibiotic Resistance Analysis","protocol_name_html":"Script R14: CARD Antibiotic Resistance Analysis","is_prepublished":"0","can_edit":"0","parent_id":null,"api_version":"2","is_new_mode":"1","last_modified":"1516341603","type_id":"1","link":"http:\/\/mbio.asm.org\/content\/6\/5\/e01578-15.full","fork_id":"","public_fork_note":"","number_of_steps":"13","has_versions":"0","first_published_date":"1457616475","publish_date":"2016-03-11 03:00:40","documents":null,"have_protocol_in_step":"0","is_protocol_in_step":"0","vendor_name":"Contributed by users","vendor_link":"https:\/\/www.protocols.io","vendor_logo":"\/img\/vendors\/1.png","mod_mins":"-45","mod_secs":"1","description":"This protocol\u00a0outlines our analysis of the potential antibiotic resistance genes found within the skin virome. We start by visualizing the relative abundances of the top 10 antibiotic resistance categories (according to the CARD). We then quantify the number of unique antibiotic resistance gene categories annotated in the samples at each skin site, and also look at the percent CARD annotated ORFs of the overall ORFs present in each sample at each skin site.","is_bookmarked":"0","can_reassign":"1","before_start":"Supplemental information available at:<br \/><br \/><a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248<\/a>","has_guidelines":"1","materials":[],"warning":"","version_class":"2382","public":"1","is_owner":"1","is_original_owner":"1","created_on":"1455656398","protocol_affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","affiliation":"Merck Research Labs","doi":"dx.doi.org\/10.17504\/protocols.io.ejnbcme","doi_status":"2","changed_fork_steps":null,"profile_url":"Geoffrey-w2y254v2q2","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","created_by":"Geoffrey Hannigan","private_link":"BB2AD10BFC6B559FAE97646AEAD8B5F2","original_img":"1","username":"geoffrey-hannigan","is_retracted":"0","retraction_reason":null,"plos_id":null,"manuscript_citation":null,"journal_name":null,"is_donations_disabled":"0","is_donations_disabled_by_user":"9","item_record_id":226795,"fork_info":[],"compare_forks":[],"protocols":[],"groups":[{"group_id":"45","group_uri":"verve-net","group_name":"VERVE Net","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/cdqcwwe.png","requested_uid":null,"request_flag":null,"my_request":"1"},{"group_id":"138","group_uri":"club-grice","group_name":"Club Grice","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/cp7dzme.png","requested_uid":null,"request_flag":null,"my_request":"1"}],"number_of_shared_runs":[],"ownership_history":[],"keywords":"","transfer_to_user":[],"sub_transfer":false,"is_transfer_pending":false,"number_of_bookmarks":"1","collections":[{"protocol_name":"The Human Skin dsDNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and its Dynamic Associations with the Host Microbiome","protocol_name_html":"The Human Skin dsDNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and its Dynamic Associations with the Host Microbiome","uri":"The-Human-Skin-dsDNA-Virome-Topographical-and-Temp-ekubcww","username":"geoffrey-hannigan","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","full_name":"Geoffrey Hannigan"}],"tags":[],"archived":0,"sub_authors":[],"sub_protocols_number":0,"can_edit_shared":0,"shared_runs":[],"is_shared_run":0,"is_shared":1,"banner":null,"contact_badges":[{"badge_id":"4","badge_image":"\/img\/badges\/gold.svg","badge_description":"Gold power author!"},{"badge_id":"5","badge_image":"\/img\/badges\/earlyadopter.svg","badge_description":"Early adopter"},{"badge_id":"6","badge_image":"\/img\/badges\/socialbutterfly.svg","badge_description":"Social butterfly"}],"number_of_comments":0,"is_locked":0,"is_locked_by":false,"authors":"HANNIGAN GD, GRICE EA, ET AL.","authors_list":[{"name":"HANNIGAN GD","affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null},{"name":" GRICE EA","affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null},{"name":" ET AL.","affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null}],"user":{"profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","username":"geoffrey-hannigan","full_name":"Geoffrey Hannigan","created_by":"Geoffrey Hannigan"},"access":{"can_view":"1","can_remove":"0","can_add":"0","can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":"0","can_move":"1","can_transfer":"1","can_download":"1","is_locked":"0"},"is_contact_suspended":0,"guidelines":"<span class=\"identifier\">sessionInfo<\/span><span class=\"paren\">(<\/span><span class=\"paren\">)<br \/><br \/>## R version 3.2.0 (2015-04-16) <br \/>## Platform: x86_64-apple-darwin13.4.0 (64-bit) <br \/>## Running under: OS X 10.10.4 (Yosemite) <br \/>## ## locale: <br \/>## [1] en_US.UTF-8\/en_US.UTF-8\/en_US.UTF-8\/C\/en_US.UTF-8\/en_US.UTF-8 <br \/>## <br \/>## attached base packages: <br \/>## [1] stats graphics grDevices utils datasets methods base <br \/>## <br \/>## loaded via a namespace (and not attached): <br \/>## [1] magrittr_1.5 \u00a0 \u00a0formatR_1.2 \u00a0 \u00a0tools_3.2.0 \u00a0 \u00a0htmltools_0.2.6 <br \/>## [5] yaml_2.1.13 \u00a0 \u00a0stringi_0.4-1 \u00a0 \u00a0rmarkdown_0.7 \u00a0 \u00a0knitr_1.10.5 <br \/>## [9] stringr_1.0.0 \u00a0 \u00a0digest_0.6.8 \u00a0 \u00a0evaluate_0.7<\/span>","status_id":"1","is_research":"1","status_info":null,"steps":[{"id":"142908","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"3ED48A2F7CA34D5F9B3B901C05B5DA93","previous_guid":null,"previous_id":"0","last_modified":"1502718730","components":[{"component_id":"978153","previous_id":0,"original_id":"0","guid":"C3F9A03DF51F48F78C9296FF141B721B","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150947","previous_id":"978153","original_id":"0","guid":"B4EA97C09817417A9C4E4B185E663280","previous_guid":"C3F9A03DF51F48F78C9296FF141B721B","component_type_id":"1","data_id":"0","data":"Load the required R packages.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Load the required R packages."},"is_project":0},{"component_id":"150948","previous_id":"150947","original_id":"0","guid":"EC06974826304DD1BD9CD14BA974825E","previous_guid":"B4EA97C09817417A9C4E4B185E663280","component_type_id":"15","data_id":"953","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"library(plyr)\npackageVersion(\"plyr\")\n\nlibrary(reshape2)\npackageVersion(\"reshape2\")\n\nlibrary(ggplot2)\npackageVersion(\"ggplot2\")\n\nlibrary(vegan)\npackageVersion(\"vegan\")\n\nlibrary(pgirmess)\npackageVersion(\"pgirmess\")","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0},{"component_id":"150949","previous_id":"150948","original_id":"0","guid":"903B7477FB9847C7A51D2D49563F59EE","previous_guid":"EC06974826304DD1BD9CD14BA974825E","component_type_id":"17","data_id":"210","data":"<pre><code>## [1] '1.8.2'<\/code><\/pre>\n<pre class=\"r\">\u00a0<\/pre>","order_id":"3","name":"Expected result","data_by_id":"1","type_id":"17","source_data":{"result":"<pre><code>## [1] '1.8.2'<\/code><\/pre>\n<pre class=\"r\">\u00a0<\/pre>"},"is_project":0},{"component_id":"150950","previous_id":"150949","original_id":"0","guid":"340B10E6D5C64233A9B018022619D6D0","previous_guid":"903B7477FB9847C7A51D2D49563F59EE","component_type_id":"17","data_id":"211","data":"<pre><code>## [1] '1.4.1'<\/code><\/pre>\n<pre class=\"r\">\u00a0<\/pre>","order_id":"4","name":"Expected result","data_by_id":"1","type_id":"17","source_data":{"result":"<pre><code>## [1] '1.4.1'<\/code><\/pre>\n<pre class=\"r\">\u00a0<\/pre>"},"is_project":0},{"component_id":"150951","previous_id":"150950","original_id":"0","guid":"09200F9529E1454581ACAB61E0B1BA4B","previous_guid":"340B10E6D5C64233A9B018022619D6D0","component_type_id":"17","data_id":"212","data":"<pre><code>## [1] '1.0.1'<\/code><\/pre>\n<pre class=\"r\">\u00a0<\/pre>","order_id":"5","name":"Expected result","data_by_id":"1","type_id":"17","source_data":{"result":"<pre><code>## [1] '1.0.1'<\/code><\/pre>\n<pre class=\"r\">\u00a0<\/pre>"},"is_project":0},{"component_id":"150952","previous_id":"150951","original_id":"0","guid":"EA67DD5567DB4ACB848EEB4B5E46613C","previous_guid":"09200F9529E1454581ACAB61E0B1BA4B","component_type_id":"17","data_id":"213","data":"<pre><code>## [1] '2.3.0'<\/code><\/pre>\n<pre class=\"r\">\u00a0<\/pre>","order_id":"6","name":"Expected result","data_by_id":"1","type_id":"17","source_data":{"result":"<pre><code>## [1] '2.3.0'<\/code><\/pre>\n<pre class=\"r\">\u00a0<\/pre>"},"is_project":0},{"component_id":"150953","previous_id":"150952","original_id":"0","guid":"839D192EE9DE4019B3A452312DA39D91","previous_guid":"EA67DD5567DB4ACB848EEB4B5E46613C","component_type_id":"17","data_id":"214","data":"<pre><code>## [1] '1.6.0'<\/code><\/pre>","order_id":"7","name":"Expected result","data_by_id":"1","type_id":"17","source_data":{"result":"<pre><code>## [1] '1.6.0'<\/code><\/pre>"},"is_project":0}]},{"id":"142910","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"A85515C0AD1E4211B6D28B0F5302A88E","previous_guid":"3ED48A2F7CA34D5F9B3B901C05B5DA93","previous_id":"142908","last_modified":"1502718730","components":[{"component_id":"978154","previous_id":0,"original_id":"0","guid":"75143F8068A14AF09A4E1CB81AFD2FD5","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150955","previous_id":"978154","original_id":"0","guid":"8819BB66899F48A6999E86C281FA5D25","previous_guid":"75143F8068A14AF09A4E1CB81AFD2FD5","component_type_id":"1","data_id":"0","data":"Load in the data files that will be analyzed.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Load in the data files that will be analyzed."},"is_project":0},{"component_id":"150956","previous_id":"150955","original_id":"0","guid":"699CE1C4082045DC8318F308E3F08168","previous_guid":"8819BB66899F48A6999E86C281FA5D25","component_type_id":"15","data_id":"954","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"INPUT <- read.delim(\"..\/..\/IntermediateOutput\/CARD_abx_resistance\/CARD_annotated_orfs_in_otu_table.tsv\", sep=\"\\t\", header=TRUE)\n#See a quick summary of the data frame we just loaded into R\nINPUT[c(1:5),c(1:5)]\n\nMAP <- read.delim(\"..\/..\/IntermediateOutput\/Mapping_files\/SkinMet_and_Virome_001_metadata.tsv\", sep=\"\\t\", header=TRUE)\nMAP[c(1:5),c(1:5)]","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"142911","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"892B18641A3F4FB6B6156AABC4C566BF","previous_guid":"A85515C0AD1E4211B6D28B0F5302A88E","previous_id":"142910","last_modified":"1502718730","components":[{"component_id":"978155","previous_id":0,"original_id":"0","guid":"81A2556354DE414A8E039402AB403E41","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150957","previous_id":"978155","original_id":"0","guid":"BCEB30D43F754ED9AF184D7B642FBA4E","previous_guid":"81A2556354DE414A8E039402AB403E41","component_type_id":"1","data_id":"0","data":"<p>Format the input dataframes and prepare for visualization. To do this, we determine which categories have the top 10 relative abundance, and sum the other category relative abundances into the \u201cother\u201d category.<\/p>\n<p>Here we also need to reformat the mapping files. This means only looking at the two time points for which we have a complete data set (we have only partial data for time point 1), as well as excluding the sites and subjects for which we only have partial sampling.<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Format the input dataframes and prepare for visualization. To do this, we determine which categories have the top 10 relative abundance, and sum the other category relative abundances into the \u201cother\u201d category.<\/p>\n<p>Here we also need to reformat the mapping files. This means only looking at the two time points for which we have a complete data set (we have only partial data for time point 1), as well as excluding the sites and subjects for which we only have partial sampling.<\/p>"},"is_project":0},{"component_id":"150958","previous_id":"150957","original_id":"0","guid":"E8C5F98DAB0B4F6AB25C0032B4542829","previous_guid":"BCEB30D43F754ED9AF184D7B642FBA4E","component_type_id":"15","data_id":"955","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"MAP_SUBSET <- MAP[-which(MAP$TimePoint %in% 1), ]\nMAP_SUBSET <- MAP_SUBSET[-which(MAP_SUBSET$NexteraXT_Virome_SampleID %in% NA), ]\nMAP_SUBSET <- MAP_SUBSET[-which(MAP_SUBSET$Site_Symbol %in% c(\"Ba\",\"Ph\",\"Vf\",\"Neg\")), ]","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"142912","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"C210B28A424142D8B28C7AF813B7C3AA","previous_guid":"892B18641A3F4FB6B6156AABC4C566BF","previous_id":"142911","last_modified":"1502718730","components":[{"component_id":"978156","previous_id":0,"original_id":"0","guid":"8AE8DA094ADE48948A2BCAA88BBCED1C","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150959","previous_id":"978156","original_id":"0","guid":"5E5E80B8D4134856BCC13B743401AD7A","previous_guid":"8AE8DA094ADE48948A2BCAA88BBCED1C","component_type_id":"1","data_id":"0","data":"Sum the columns be rows, such that, for example, I sum all of the column values whose rows correspond to tetracycline_inactivation_enzyme.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Sum the columns be rows, such that, for example, I sum all of the column values whose rows correspond to tetracycline_inactivation_enzyme."},"is_project":0},{"component_id":"150960","previous_id":"150959","original_id":"0","guid":"141A9C2BFDE541ACB42127DF498EAB84","previous_guid":"5E5E80B8D4134856BCC13B743401AD7A","component_type_id":"15","data_id":"956","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"UNIQ_ORF_NAMES <- as.vector(unique(INPUT$ORF_ID))\nSUM_BY_NAMES <- data.frame(lapply(UNIQ_ORF_NAMES, function(i) {\n  SUBSET <- data.frame(INPUT[c(INPUT$ORF_ID==i), ])\n  SUMS <- data.frame(colSums(SUBSET[,-1]))\n  colnames(SUMS) <- c(i)\n  return(SUMS)\n}))\nSUM_BY_NAMES$SampleID <- rownames(SUM_BY_NAMES)\nMELT_SUM <- melt(SUM_BY_NAMES)\n\nMEAN_NAMES <- ddply(MELT_SUM, c(\"variable\"), summarise, mean=mean(value))\nSORT_MEAN_NAMES <- MEAN_NAMES[order(-MEAN_NAMES$mean),]\nTOP10 <- as.vector(SORT_MEAN_NAMES[1:10,1])\n\nTOP10_MELT <- MELT_SUM[which(MELT_SUM$variable %in% TOP10),]\nOTHER_MELT <- MELT_SUM[-which(MELT_SUM$variable %in% TOP10),]","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"142913","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"1E64F1FAC3F7405F8023E60586163FFA","previous_guid":"C210B28A424142D8B28C7AF813B7C3AA","previous_id":"142912","last_modified":"1502718730","components":[{"component_id":"978157","previous_id":0,"original_id":"0","guid":"022E50D4660840CDA4D5897C2181748F","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150961","previous_id":"978157","original_id":"0","guid":"803BDE110FB449D3B94801BA21CF3A4D","previous_guid":"022E50D4660840CDA4D5897C2181748F","component_type_id":"1","data_id":"0","data":"Sum values by sampleID.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Sum values by sampleID."},"is_project":0},{"component_id":"150962","previous_id":"150961","original_id":"0","guid":"FE8717022E8A425FAC4049E7E41CED70","previous_guid":"803BDE110FB449D3B94801BA21CF3A4D","component_type_id":"15","data_id":"957","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"OTHER_MELT_SUM <- tapply(OTHER_MELT$value, INDEX=list(OTHER_MELT$SampleID), FUN=sum)\nROWNAMES <- c(row.names(OTHER_MELT_SUM))","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"142914","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"5CF6877F2C7549DEBCC93E1A1D2973D7","previous_guid":"1E64F1FAC3F7405F8023E60586163FFA","previous_id":"142913","last_modified":"1502718730","components":[{"component_id":"978158","previous_id":0,"original_id":"0","guid":"90D84C5C1752463499DAAF96D248325E","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150963","previous_id":"978158","original_id":"0","guid":"AD95FCAA18FB42DF9D4CE25CD9DB9D1C","previous_guid":"90D84C5C1752463499DAAF96D248325E","component_type_id":"1","data_id":"0","data":"You can confirm the merge here.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"You can confirm the merge here."},"is_project":0},{"component_id":"150964","previous_id":"150963","original_id":"0","guid":"C038C58EE4564F749F731063515183CE","previous_guid":"AD95FCAA18FB42DF9D4CE25CD9DB9D1C","component_type_id":"15","data_id":"958","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"OTHER_MELT_SUM_WITH_NAMES <- data.frame(cbind(ROWNAMES, OTHER_MELT_SUM))\ncolnames(OTHER_MELT_SUM_WITH_NAMES) <- c(\"SampleID\", \"value\")\nOTHER_MELT_SUM_WITH_NAMES$value <- as.numeric(as.character(OTHER_MELT_SUM_WITH_NAMES$value))\nOTHER_MELT_SUM_WITH_NAMES$variable <- \"Other\"","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"142915","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"A1868FCC81E14818A95FAA02729C257A","previous_guid":"5CF6877F2C7549DEBCC93E1A1D2973D7","previous_id":"142914","last_modified":"1502718730","components":[{"component_id":"978159","previous_id":0,"original_id":"0","guid":"E76326757FA34C5A8A5FC4E91852BEBF","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150965","previous_id":"978159","original_id":"0","guid":"6D7211AEC14649C79CDB53E3476D321C","previous_guid":"E76326757FA34C5A8A5FC4E91852BEBF","component_type_id":"1","data_id":"0","data":"Reorder the columns to match the TOP10_MELT","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Reorder the columns to match the TOP10_MELT"},"is_project":0},{"component_id":"150966","previous_id":"150965","original_id":"0","guid":"7D6165659DB84BA9BE0BFFB3F9A12127","previous_guid":"6D7211AEC14649C79CDB53E3476D321C","component_type_id":"15","data_id":"959","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"OTHER_MELT_FOR_MERGE <- OTHER_MELT_SUM_WITH_NAMES[ ,c(1,3,2)]","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"142916","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"223D1BE84B754515AE231624BD06537E","previous_guid":"A1868FCC81E14818A95FAA02729C257A","previous_id":"142915","last_modified":"1502718730","components":[{"component_id":"978160","previous_id":0,"original_id":"0","guid":"37BF105828A6417AA70AC7FE5BFE699C","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150967","previous_id":"978160","original_id":"0","guid":"4E029D222C754A0C91727729697217DF","previous_guid":"37BF105828A6417AA70AC7FE5BFE699C","component_type_id":"1","data_id":"0","data":"Confirm the other is properly merged.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Confirm the other is properly merged."},"is_project":0},{"component_id":"150968","previous_id":"150967","original_id":"0","guid":"D6E581B462274E2D940542EC7CE95B34","previous_guid":"4E029D222C754A0C91727729697217DF","component_type_id":"15","data_id":"960","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"unique(rbind(TOP10_MELT, OTHER_MELT_FOR_MERGE)$variable)\n\nTOP10_WITH_OTHER <- rbind(TOP10_MELT, OTHER_MELT_FOR_MERGE)","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0},{"component_id":"150969","previous_id":"150968","original_id":"0","guid":"0D86A6A05EF74039B410FC160776DEDB","previous_guid":"D6E581B462274E2D940542EC7CE95B34","component_type_id":"17","data_id":"215","data":"<pre><code>##  [1] antibiotic_resistant_DNA_topoisomerase_subunit_gyrA    \n##  [2] antibiotic_resistant_gene_variant_or_mutant            \n##  [3] antibiotic_resistant_DNA_topoisomerase_subunit_parC    \n##  [4] elfamycin_resistance_gene                              \n##  [5] subunit_of_efflux_pump_conferring_antibiotic_resistance\n##  [6] OXA_beta.lactamase                                     \n##  [7] antibiotic_resistant_DNA_topoisomerase_subunit_parE    \n##  [8] rifampin_inactivation_enzyme                           \n##  [9] tetracycline_resistance_MFS_efflux_pump                \n## [10] TEM_beta.lactamase                                     \n## [11] Other                                                  \n## 30 Levels: antibiotic_resistant_DNA_topoisomerase_subunit_gyrA ...<\/code><\/pre>\n<pre class=\"r\">\u00a0<\/pre>","order_id":"3","name":"Expected result","data_by_id":"1","type_id":"17","source_data":{"result":"<pre><code>##  [1] antibiotic_resistant_DNA_topoisomerase_subunit_gyrA    \n##  [2] antibiotic_resistant_gene_variant_or_mutant            \n##  [3] antibiotic_resistant_DNA_topoisomerase_subunit_parC    \n##  [4] elfamycin_resistance_gene                              \n##  [5] subunit_of_efflux_pump_conferring_antibiotic_resistance\n##  [6] OXA_beta.lactamase                                     \n##  [7] antibiotic_resistant_DNA_topoisomerase_subunit_parE    \n##  [8] rifampin_inactivation_enzyme                           \n##  [9] tetracycline_resistance_MFS_efflux_pump                \n## [10] TEM_beta.lactamase                                     \n## [11] Other                                                  \n## 30 Levels: antibiotic_resistant_DNA_topoisomerase_subunit_gyrA ...<\/code><\/pre>\n<pre class=\"r\">\u00a0<\/pre>"},"is_project":0}]},{"id":"142917","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"D7D2890141364B3DABE36FCBE78A990D","previous_guid":"223D1BE84B754515AE231624BD06537E","previous_id":"142916","last_modified":"1502718730","components":[{"component_id":"978161","previous_id":0,"original_id":"0","guid":"AE7BB16B82544B04BF37A79A49EB0EB1","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150970","previous_id":"978161","original_id":"0","guid":"96D5820C877846AFB816BDF6BCB50BCC","previous_guid":"AE7BB16B82544B04BF37A79A49EB0EB1","component_type_id":"1","data_id":"0","data":"Test that the summing worked.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Test that the summing worked."},"is_project":0},{"component_id":"150971","previous_id":"150970","original_id":"0","guid":"C7764ACD09C848A389C59FF9D75E6E4F","previous_guid":"96D5820C877846AFB816BDF6BCB50BCC","component_type_id":"15","data_id":"961","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sum(OTHER_MELT[c(OTHER_MELT$SampleID == \"MG100098\"),\"value\"])\n\nTOP10_MERGE <- merge(TOP10_WITH_OTHER, MAP_SUBSET, by.x=\"SampleID\", by.y=\"NexteraXT_Virome_SampleID\")\n\nTOP10_MERGE_SORT <- TOP10_MERGE[order(TOP10_MERGE$variable), ]","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0},{"component_id":"150972","previous_id":"150971","original_id":"0","guid":"B97EA7D9EFB0484EB8E9624AA6898E06","previous_guid":"C7764ACD09C848A389C59FF9D75E6E4F","component_type_id":"17","data_id":"216","data":"<pre><code>## [1] 28.1389<\/code><\/pre>\n<pre class=\"r\">\u00a0<\/pre>","order_id":"3","name":"Expected result","data_by_id":"1","type_id":"17","source_data":{"result":"<pre><code>## [1] 28.1389<\/code><\/pre>\n<pre class=\"r\">\u00a0<\/pre>"},"is_project":0}]},{"id":"142918","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"BA8C5622A2784C61BA444DAB9FC996DC","previous_guid":"D7D2890141364B3DABE36FCBE78A990D","previous_id":"142917","last_modified":"1502718730","components":[{"component_id":"978162","previous_id":0,"original_id":"0","guid":"9CD844DBF1E14D25B201774AC785056C","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150973","previous_id":"978162","original_id":"0","guid":"51F9F2163C9B47B2AFC8A3692B08D413","previous_guid":"9CD844DBF1E14D25B201774AC785056C","component_type_id":"1","data_id":"0","data":"Order according to relative abundance.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Order according to relative abundance."},"is_project":0},{"component_id":"150974","previous_id":"150973","original_id":"0","guid":"78750B02EB3645AEBBD7D59FD20E2375","previous_guid":"51F9F2163C9B47B2AFC8A3692B08D413","component_type_id":"15","data_id":"962","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"TOP10_WITH_OTHER <- ddply(TOP10_MERGE_SORT, c(\"variable\"), summarise, mean=mean(value))\nTOP10_WITH_OTHER <- TOP10_WITH_OTHER[!c(TOP10_WITH_OTHER$variable==\"Other\"),]\nTOP10_WITH_OTHER <- TOP10_WITH_OTHER[order(TOP10_WITH_OTHER$mean, decreasing=TRUE), ]\nORDER_MEAN_NAMES_WITH_OTHER <- as.vector(TOP10_WITH_OTHER$variable)","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"142919","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"335616627148479CBE74BDD39F9B4B83","previous_guid":"BA8C5622A2784C61BA444DAB9FC996DC","previous_id":"142918","last_modified":"1502718730","components":[{"component_id":"978163","previous_id":0,"original_id":"0","guid":"34AE955F106D48F69FFD8F5618F05E4F","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150975","previous_id":"978163","original_id":"0","guid":"73D64678399F4D71831E12AAC9A20F0E","previous_guid":"34AE955F106D48F69FFD8F5618F05E4F","component_type_id":"1","data_id":"0","data":"Append other to the vector.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Append other to the vector."},"is_project":0},{"component_id":"150976","previous_id":"150975","original_id":"0","guid":"61DF8C8F3625472585A3D25A2F69870C","previous_guid":"73D64678399F4D71831E12AAC9A20F0E","component_type_id":"15","data_id":"963","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"ORDER_MEAN_NAMES_WITH_OTHER <- c(ORDER_MEAN_NAMES_WITH_OTHER, \"Other\")\nTOP10_MERGE_SORT$variable <- factor(TOP10_MERGE_SORT$variable, levels=c(ORDER_MEAN_NAMES_WITH_OTHER))","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"142920","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"875988D4B5794CF9B192EEC1A66B30F0","previous_guid":"335616627148479CBE74BDD39F9B4B83","previous_id":"142919","last_modified":"1502718730","components":[{"component_id":"978164","previous_id":0,"original_id":"0","guid":"E147A3375E2F4C65AF7EAAA07BB2A742","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150977","previous_id":"978164","original_id":"0","guid":"87EC34F5B53040E38C555AE35BAC7D7B","previous_guid":"E147A3375E2F4C65AF7EAAA07BB2A742","component_type_id":"1","data_id":"0","data":"Use ggplot2 to visualize the antibiotic resistance gene relative abundance information (top 10 taxa).","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Use ggplot2 to visualize the antibiotic resistance gene relative abundance information (top 10 taxa)."},"is_project":0},{"component_id":"150978","previous_id":"150977","original_id":"0","guid":"471F5262B95A49EDA162DC4FD39A5C51","previous_guid":"87EC34F5B53040E38C555AE35BAC7D7B","component_type_id":"15","data_id":"964","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"ggplot(TOP10_MERGE_SORT, aes(x=factor(SubjectID), y=value, fill=variable, order=variable)) + theme_bw() + geom_bar(stat=\"identity\", position=\"fill\") + facet_grid(TimePoint~Site_Symbol, scales=\"free\")","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0},{"component_id":"150979","previous_id":"150978","original_id":"0","guid":"B48E3FACDD364C69B48DE034A49FE155","previous_guid":"471F5262B95A49EDA162DC4FD39A5C51","component_type_id":"17","data_id":"217","data":"<img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/ch4c2w6.png\" alt=\"\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/ch3c2w6.png\" data-ofn=\"r14_plot1.png\" \/>","order_id":"3","name":"Expected result","data_by_id":"1","type_id":"17","source_data":{"result":"<img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/ch4c2w6.png\" alt=\"\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/ch3c2w6.png\" data-ofn=\"r14_plot1.png\" \/>"},"is_project":0}]},{"id":"142921","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"982753AE81A64910936C2322F6D0765D","previous_guid":"875988D4B5794CF9B192EEC1A66B30F0","previous_id":"142920","last_modified":"1502718730","components":[{"component_id":"978165","previous_id":0,"original_id":"0","guid":"01508130874343F38E5267E1BF4EF76C","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150980","previous_id":"978165","original_id":"0","guid":"EE27A090E8284FF29C94355D90EE8BD4","previous_guid":"01508130874343F38E5267E1BF4EF76C","component_type_id":"1","data_id":"0","data":"Plot it again without the legend so we can actually see what is going on.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Plot it again without the legend so we can actually see what is going on."},"is_project":0},{"component_id":"150981","previous_id":"150980","original_id":"0","guid":"1889E972A78A43F9ADD9DC08088FF4B6","previous_guid":"EE27A090E8284FF29C94355D90EE8BD4","component_type_id":"15","data_id":"965","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"ggplot(TOP10_MERGE_SORT, aes(x=factor(SubjectID), y=value, fill=variable, order=variable)) + theme_bw() + theme(legend.position=\"none\") + geom_bar(stat=\"identity\", position=\"fill\") + facet_grid(TimePoint~Site_Symbol, scales=\"free\")","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0},{"component_id":"150982","previous_id":"150981","original_id":"0","guid":"B45BD96A79834C839310E1BF03CAD9BC","previous_guid":"1889E972A78A43F9ADD9DC08088FF4B6","component_type_id":"17","data_id":"218","data":"<img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/ch6c2w6.png\" alt=\"\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/ch5c2w6.png\" data-ofn=\"r14_plot2.png\" \/>","order_id":"3","name":"Expected result","data_by_id":"1","type_id":"17","source_data":{"result":"<img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/ch6c2w6.png\" alt=\"\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/ch5c2w6.png\" data-ofn=\"r14_plot2.png\" \/>"},"is_project":0}]}]}