{"uri":"multiple-alignments-and-weblogo-gscbwaw","version_id":"0","protocol_name":"Multiple Alignments and Weblogo","protocol_name_html":"Multiple Alignments and Weblogo","is_prepublished":"0","can_edit":"0","parent_id":null,"api_version":"2","is_new_mode":"1","last_modified":"1522216802","type_id":"1","link":"https:\/\/bmcevolbiol.biomedcentral.com\/articles\/10.1186\/s12862-017-0999-7","fork_id":"","public_fork_note":"","number_of_steps":"4","has_versions":"0","first_published_date":"1482153168","publish_date":"2016-12-19 13:12:48","documents":null,"have_protocol_in_step":"1","is_protocol_in_step":"0","vendor_name":"Contributed by users","vendor_link":"https:\/\/www.protocols.io","vendor_logo":"\/img\/vendors\/1.png","mod_mins":"-45","mod_secs":"1","description":"<p>This protocol show you how to create a sequence alignment with multiple sequences using CLUSTAL Omega and to futher modify it with Jalview and visualize it with Weblogo.<\/p>","is_bookmarked":"0","can_reassign":"1","before_start":"","has_guidelines":"0","materials":[],"warning":"","version_class":"4644","public":"1","is_owner":"1","is_original_owner":"1","created_on":"1481814974","protocol_affiliation":"Institute of Synthetic Microbiology, Heinrich Heine University D\u00fcsseldorf","affiliation":"Institute of Synthetic Microbiology Heinrich Heine University","doi":"dx.doi.org\/10.17504\/protocols.io.gscbwaw","doi_status":"1","changed_fork_steps":null,"profile_url":"NicolasSchmelling-w2136443r2","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/hamerye.jpg","full_name":"Nicolas Schmelling","created_by":"Nicolas Schmelling","private_link":"5A40E7804E1D8FF48AF4569FE2A3FE56","original_img":"1","username":"nicolas-schmelling","is_retracted":"0","retraction_reason":null,"plos_id":null,"manuscript_citation":"Schmelling NM,  Lehmann R,  Chaudhury P,  Beck C,  Albers S,  Axmann IM,  Wiegard A, Minimal tool set for a prokaryotic circadian clock. BMC Evolutionary Biology  doi: <a target=\"_blank\" href=\"https:\/\/bmcevolbiol.biomedcentral.com\/articles\/10.1186\/s12862-017-0999-7\">999<\/a> ","journal_name":"BMC Evolutionary Biology","is_donations_disabled":"0","is_donations_disabled_by_user":"9","item_record_id":231904,"fork_info":[],"compare_forks":[],"protocols":[],"groups":[{"group_id":"234","group_uri":"axmann-lab","group_name":"Axmann Lab","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/qe9erye.png","requested_uid":null,"request_flag":null,"my_request":"1"}],"number_of_shared_runs":[],"ownership_history":[],"keywords":"","transfer_to_user":[],"sub_transfer":false,"is_transfer_pending":false,"number_of_bookmarks":"0","collections":[{"protocol_name":"Bioinformatic Protocols","protocol_name_html":"Bioinformatic Protocols","uri":"bioinformatic-protocols-gtfbwjn","username":"nicolas-schmelling","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/hamerye.jpg","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","full_name":"Nicolas Schmelling"}],"tags":[{"tag_id":"458","tag_name":"Jalview"},{"tag_id":"459","tag_name":"sequence alignment"},{"tag_id":"460","tag_name":"CLUSTAL"},{"tag_id":"461","tag_name":"Weblogo"}],"archived":0,"sub_authors":[[{"protocol_id":"4622","author_name":"Nicolas Schmelling","affiliation":"Institute of Synthetic Microbiology Heinrich Heine University","uri":"reciprocal-best-hit-blast-grnbv5e"}]],"sub_protocols_number":1,"can_edit_shared":0,"shared_runs":[],"is_shared_run":0,"is_shared":1,"banner":null,"contact_badges":[{"badge_id":"1","badge_image":"\/img\/ambassador.svg","badge_description":"Ambassador"},{"badge_id":"4","badge_image":"\/img\/badges\/gold.svg","badge_description":"Gold power author!"},{"badge_id":"5","badge_image":"\/img\/badges\/earlyadopter.svg","badge_description":"Early adopter"},{"badge_id":"6","badge_image":"\/img\/badges\/socialbutterfly.svg","badge_description":"Social butterfly"}],"number_of_comments":0,"is_locked":0,"is_locked_by":false,"authors":"Nicolas Schmelling","authors_list":[{"name":"Nicolas Schmelling","affiliation":"Institute of Synthetic Microbiology, Heinrich Heine University D\u00fcsseldorf","username":null,"profile_image":null}],"user":{"profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/hamerye.jpg","username":"nicolas-schmelling","full_name":"Nicolas Schmelling","created_by":"Nicolas Schmelling"},"access":{"can_view":"1","can_remove":"0","can_add":"0","can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":"0","can_move":"1","can_transfer":"1","can_download":"1","is_locked":"0"},"is_contact_suspended":0,"guidelines":"","status_id":"1","is_research":"1","status_info":null,"steps":[{"id":"221402","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"1B53531B31774CA09D97D3F22312CCBF","previous_guid":null,"previous_id":"0","last_modified":"1482150285","components":[{"component_id":"304840","previous_id":0,"original_id":"0","guid":"1F3CA4B02A334D70B2348AE10DDE80AE","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Before you can start with the creation of multiple sequence alignments you need to have a FASTA file containing multiple full length sequences. One way to create such a FASTA file is using BLAST. Attached is a protocol for\u00a0a reciprocal best hit BLAST that creates the FASTA files you need. The Python script\u00a0csv<em>_to_fasta.py<\/em>\u00a0will create FASTA files from the CSV files that are normally produced by the attached protocol.<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Before you can start with the creation of multiple sequence alignments you need to have a FASTA file containing multiple full length sequences. One way to create such a FASTA file is using BLAST. Attached is a protocol for\u00a0a reciprocal best hit BLAST that creates the FASTA files you need. The Python script\u00a0csv<em>_to_fasta.py<\/em>\u00a0will create FASTA files from the CSV files that are normally produced by the attached protocol.<\/p>"},"is_project":0},{"component_id":"287813","previous_id":"304840","original_id":"0","guid":"9A52D52566EF4C4A85458FD05445C051","previous_guid":"1F3CA4B02A334D70B2348AE10DDE80AE","component_type_id":"6","data_id":"0","data":"Preparation","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Preparation"},"is_project":0},{"component_id":"304737","previous_id":"287813","original_id":"0","guid":"2A3396A79EBC4F4786DE9A07254256F4","previous_guid":"9A52D52566EF4C4A85458FD05445C051","component_type_id":"15","data_id":"1501","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"python csv_to_fasta.py","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0},{"component_id":"304346","previous_id":"304737","original_id":"0","guid":"B48BB485953542C0AF15EC3167746B6D","previous_guid":"2A3396A79EBC4F4786DE9A07254256F4","component_type_id":"18","data_id":"4622","data":"","order_id":"3","name":"Protocol","data_by_id":"1","type_id":"18","source_data":{"protocol_id":"4622","uri":"reciprocal-best-hit-blast-grnbv5e","version_id":"0","protocol_name":"Reciprocal Best Hit BLAST","protocol_name_html":"Reciprocal Best Hit BLAST","is_prepublished":"0","can_edit":"0","parent_id":null,"api_version":"2","is_new_mode":"1","last_modified":"1522216802","views":"1887","downloads":"0","type_id":"1","link":"https:\/\/dx.doi.org\/10.1186\/s12862-017-0999-7","fork_id":"","public_fork_note":"","number_of_steps":"6","vendor_id":"1","has_versions":"0","first_published_date":"1482143011","publish_date":"2016-12-19 10:23:31","documents":null,"have_protocol_in_step":"0","is_protocol_in_step":"1","vendor_name":"Contributed by users","vendor_link":"https:\/\/www.protocols.io","vendor_logo":"\/img\/vendors\/1.png","mod_mins":"-45","mod_secs":"1","description":"<p>This protocol describes the basic steps for a reciprocal best hit BLAST. It will show you how to\u00a0download sequences from NCBI, creating BLAST databases, and how to blast.<\/p>","is_bookmarked":"0","can_make_private":"0","can_add_version":"1","can_reassign":"1","show_version":"1","before_start":"","has_guidelines":"1","materials":[],"warning":"","version_class":"4622","public":"1","is_owner":"1","is_original_owner":"1","created_on":"1481725873","protocol_affiliation":"Institute of Synthetic Microbiology Heinrich Heine University","affiliation":"Institute of Synthetic Microbiology Heinrich Heine University","doi":"dx.doi.org\/10.17504\/protocols.io.grnbv5e","doi_status":"2","changed_fork_steps":"","profile_url":"NicolasSchmelling-w2136443r2","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/hamerye.jpg","full_name":"Nicolas Schmelling","created_by":"Nicolas Schmelling","private_link":"B95790966BB24D7308DC5F0C6C0E0FCB","original_img":"1","username":"nicolas-schmelling","is_retracted":"0","retraction_reason":null,"plos_id":null,"manuscript_citation":"Schmelling NM,  Lehmann R,  Chaudhury P,  Beck C,  Albers S,  Axmann IM,  Wiegard A, Minimal tool set for a prokaryotic circadian clock. BMC Evolutionary Biology  doi: <a target=\"_blank\" href=https:\/\/dx.doi.org\/10.1186\/s12862-017-0999-7\">10.1186\/s12862-017-0999-7<\/a> ","journal_name":"BMC Evolutionary Biology","is_donations_disabled":"0","is_donations_disabled_by_user":"9","item_record_id":231903,"forks_count":{"public":"0","private":"4"},"fork_info":[],"compare_forks":[],"versions":[{"protocol_id":"4622","protocol_name":"Reciprocal Best Hit BLAST","protocol_name_html":"Reciprocal Best Hit BLAST","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","user_id":"0","uri":"reciprocal-best-hit-blast-grnbv5e","version_id":"0","date_created":"2016-12-14 14:31:13","created_on":"1481725873","published_on":"1482143011","full_name":"Nicolas Schmelling","username":"nicolas-schmelling","affiliation":"Institute of Synthetic Microbiology Heinrich Heine University","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/hamerye.jpg","has_access":"1"}],"protocols":[],"groups":[{"group_id":"234","group_uri":"axmann-lab","group_name":"Axmann Lab","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/qe9erye.png","requested_uid":null,"request_flag":null,"my_request":"1"}],"number_of_shared_runs":[],"ownership_history":[],"keywords":"reciprocal BLAST, bioinformatics, sequence similarity, NCBI, database","transfer_to_user":[],"sub_transfer":false,"is_transfer_pending":false,"number_of_bookmarks":"5","collections":[{"protocol_name":"Bioinformatic Protocols","protocol_name_html":"Bioinformatic Protocols","uri":"bioinformatic-protocols-gtfbwjn","username":"nicolas-schmelling","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/hamerye.jpg","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","full_name":"Nicolas Schmelling"}],"tags":[{"tag_id":"142","tag_name":"blast"},{"tag_id":"453","tag_name":"reciprocal BLAST"},{"tag_id":"454","tag_name":"bioinformatics"},{"tag_id":"455","tag_name":"sequence similarity"},{"tag_id":"456","tag_name":"database"},{"tag_id":"457","tag_name":"NCBI"}],"archived":0,"sub_authors":[],"sub_protocols_number":0,"can_edit_shared":0,"shared_runs":[],"is_shared_run":0,"is_shared":1,"banner":null,"contact_badges":[{"badge_id":"1","badge_image":"\/img\/ambassador.svg","badge_description":"Ambassador"},{"badge_id":"4","badge_image":"\/img\/badges\/gold.svg","badge_description":"Gold power author!"},{"badge_id":"5","badge_image":"\/img\/badges\/earlyadopter.svg","badge_description":"Early adopter"},{"badge_id":"6","badge_image":"\/img\/badges\/socialbutterfly.svg","badge_description":"Social butterfly"}],"number_of_comments":1,"is_locked":0,"is_locked_by":false,"authors":"Nicolas Schmelling","authors_list":[{"name":"Nicolas Schmelling","affiliation":"Institute of Synthetic Microbiology Heinrich Heine University","username":null,"profile_image":null}],"user":{"profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/hamerye.jpg","username":"nicolas-schmelling","full_name":"Nicolas Schmelling","created_by":"Nicolas Schmelling"},"access":{"can_view":"1","can_remove":"0","can_add":"0","can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":"0","can_move":"1","can_transfer":"1","can_download":"1","is_locked":"0"},"is_contact_suspended":0,"guidelines":"<p>I recommend running this protocol in a docker container, so you don't have to worry about installation.<\/p>\n<p>\u00a0<\/p>\n<p>Use this docker container:\u00a0https:\/\/hub.docker.com\/r\/biodckr\/blast\/<\/p>","status_id":"1","is_research":"1","status_info":null,"steps":[{"id":"214749","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"887F847D0295421B840CBFDC682FCEF9","previous_guid":null,"previous_id":"0","last_modified":"1482142428","components":[{"component_id":"275277","previous_id":0,"original_id":"0","guid":"BDC443FBE6EA43C5B3C1990A37839712","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>The first thing you need to do is to download the sequences of choice from the NCBI server. You need to decide whether you need the nucleotide or protein sequences. I recommend only downloading sequences from genomes that are labeled as <em>Complete<\/em> or<em> Chromosome<\/em> level to ensure a certain quality of the genome assembly.<\/p>\n<p>\u00a0<\/p>\n<p>The following commands will download all protein sequences from genome assemblies labeled as <em>Complete<\/em>\u00a0or<em>\u00a0Chromosome<\/em>, futher merge them into a single sequence FASTA file, and move them into the newly created <em>db<\/em> directory.<\/p>\n<p>\u00a0<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>The first thing you need to do is to download the sequences of choice from the NCBI server. You need to decide whether you need the nucleotide or protein sequences. I recommend only downloading sequences from genomes that are labeled as <em>Complete<\/em> or<em> Chromosome<\/em> level to ensure a certain quality of the genome assembly.<\/p>\n<p>\u00a0<\/p>\n<p>The following commands will download all protein sequences from genome assemblies labeled as <em>Complete<\/em>\u00a0or<em>\u00a0Chromosome<\/em>, futher merge them into a single sequence FASTA file, and move them into the newly created <em>db<\/em> directory.<\/p>\n<p>\u00a0<\/p>"},"is_project":0},{"component_id":"274299","previous_id":"275277","original_id":"0","guid":"CDEECAE1AE3C4DAB8DFDBD2B3DB849E9","previous_guid":"BDC443FBE6EA43C5B3C1990A37839712","component_type_id":"6","data_id":"0","data":"Download sequences from NCBI","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Download sequences from NCBI"},"is_project":0},{"component_id":"277123","previous_id":"274299","original_id":"0","guid":"8E70F4E65E774B138F753458514634BE","previous_guid":"CDEECAE1AE3C4DAB8DFDBD2B3DB849E9","component_type_id":"15","data_id":"1473","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir PROJECT_NAME\ncd PROJECT_NAME\n\nwget ftp:\/\/ftp.ncbi.nih.gov\/genomes\/refseq\/assembly_summary_refseq.txt\n\nawk -F '\\t' '{if($12==\"Complete Genome\") print $20}' assembly_summary_refseq.txt > assembly_summary_complete_genomes.txt\nawk -F '\\t' '{if($12==\"Chromosome\") print $20}' assembly_summary_refseq.txt > assembly_summary_chromosome.txt\n\nmkdir RefSeqCompleteGenomes\nmkdir RefSeqCompleteReports\nmkdir RefSeqChromosomeGenomes\nmkdir RefSeqChromosomeReports\nmkdir db\n\nfor next in $(cat assembly_summary_complete_genomes.txt);\ndo\nwget -P RefSeqCompleteGenomes \"$next\"\/*protein.faa.gz;\nwget -P RefSeqCompleteReports \"$next\"\/*assembly_report.txt;\ndone\n\nfor next in $(cat assembly_summary_chromosome.txt);\ndo\nwget -P RefSeqChromosomeGenomes \"$next\"\/*protein.faa.gz;\nwget -P RefSeqChromosomeReports \"$next\"\/*assembly_report.txt;\ndone\n\ngunzip RefSeqCompleteGenomes\/*.gz\ngunzip RefSeqChromosomeGenomes\/*.gz\n\npython change_fasta_header.py RefSeqCompleteGenomes\npython change_fasta_header.py RefSeqChromosomeGenomes\n\ncat RefSeqCompleteGenomes\/*.fasta > db\/all_complete_genomes.fasta\ncat RefSeqChromosomeGenomes\/*.fasta > db\/all_chromosomes.fasta\n\ncat db\/all_complete_genome.fasta db\/all_chromosome.fasta > db\/all_genomes.fasta","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"214755","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"1BFE4FDF8E7E47298EDECCDED5705D4F","previous_guid":"887F847D0295421B840CBFDC682FCEF9","previous_id":"214749","last_modified":"1481814230","components":[{"component_id":"274798","previous_id":0,"original_id":"0","guid":"B1B41090807243CA9D6E93B7391F7365","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>After downloading the sequences of choice from NCBI, you need to create a database. Therefore you change the directory into the <em>db<\/em>\u00a0directory where all the sequences are stored. Next you run the second command. This will create a protein database with all the downloaded sequences. If you downloaded nucleotide sequence make sure you change the <em>dbtype<\/em> option to <em>nucleotide<\/em>.<\/p>\n<p>\u00a0<\/p>\n<p><strong>Parameters<\/strong><\/p>\n<p><strong>in:<\/strong>\u00a0FASTA file including all sequences for you database<\/p>\n<p><strong>out:<\/strong> Database name<\/p>\n<p><strong>dbtype:<\/strong> Database type usually 'prot' for proteins or 'nucleotide' for nucleotides<\/p>\n<p>\u00a0<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>After downloading the sequences of choice from NCBI, you need to create a database. Therefore you change the directory into the <em>db<\/em>\u00a0directory where all the sequences are stored. Next you run the second command. This will create a protein database with all the downloaded sequences. If you downloaded nucleotide sequence make sure you change the <em>dbtype<\/em> option to <em>nucleotide<\/em>.<\/p>\n<p>\u00a0<\/p>\n<p><strong>Parameters<\/strong><\/p>\n<p><strong>in:<\/strong>\u00a0FASTA file including all sequences for you database<\/p>\n<p><strong>out:<\/strong> Database name<\/p>\n<p><strong>dbtype:<\/strong> Database type usually 'prot' for proteins or 'nucleotide' for nucleotides<\/p>\n<p>\u00a0<\/p>"},"is_project":0},{"component_id":"274303","previous_id":"274798","original_id":"0","guid":"D9B132C1375B44B0BCD289A0A79932A8","previous_guid":"B1B41090807243CA9D6E93B7391F7365","component_type_id":"6","data_id":"0","data":"Create database from sequences","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Create database from sequences"},"is_project":0},{"component_id":"274363","previous_id":"274303","original_id":"0","guid":"D42355DE95BE4D198B8C9D75E2EDD689","previous_guid":"D9B132C1375B44B0BCD289A0A79932A8","component_type_id":"15","data_id":"1468","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd db\nmakeblastdb -in FILE_NAME.fasta -dbtype 'TYPE' -out DATABASE_NAME","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"214765","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"E61689A5CDED4FFD82C0B40F5D5D3455","previous_guid":"1BFE4FDF8E7E47298EDECCDED5705D4F","previous_id":"214755","last_modified":"1481814248","components":[{"component_id":"275268","previous_id":0,"original_id":"0","guid":"7FC6B6A258E744A3B7939E80D1D6E2DE","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>After downloading the sequences and creating the database you want to start with your first BLAST run. To do that you need to place your sequences of choice in the directory <em>seq<\/em>. Use a single FASTA file for each query sequence. The following commands will loop over the query sequences and serach for homologs in your database. The program used here is BLASTP, which is used for protein sequences. Other BLAST programs can be found in the documentation.<\/p>\n<p>\u00a0<\/p>\n<p><strong>Parameters<\/strong><\/p>\n<p><strong>query:<\/strong> Input sequence<\/p>\n<p><strong>db:<\/strong> BLAST database<\/p>\n<p><strong>out:<\/strong> Name of the output file<\/p>\n<p><strong>outfmt:<\/strong> Output format<\/p>\n<p><strong>evalue:<\/strong> Arbitrary cut-off of sequence similarity. The e-value depends on your database size, so the large your database the smaller your e-value can be. I recommend something between 10<sup>-5<\/sup> and 10<sup>-20<\/sup>.<\/p>\n<p><strong>word_size:<\/strong> Number of nucleotides\/amino acids, which resembles the smallest unit of your query<\/p>\n<p><strong>num_alignments:<\/strong> Maximum number of alignment partner in the database for a single query sequence<\/p>\n<p>\u00a0<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>After downloading the sequences and creating the database you want to start with your first BLAST run. To do that you need to place your sequences of choice in the directory <em>seq<\/em>. Use a single FASTA file for each query sequence. The following commands will loop over the query sequences and serach for homologs in your database. The program used here is BLASTP, which is used for protein sequences. Other BLAST programs can be found in the documentation.<\/p>\n<p>\u00a0<\/p>\n<p><strong>Parameters<\/strong><\/p>\n<p><strong>query:<\/strong> Input sequence<\/p>\n<p><strong>db:<\/strong> BLAST database<\/p>\n<p><strong>out:<\/strong> Name of the output file<\/p>\n<p><strong>outfmt:<\/strong> Output format<\/p>\n<p><strong>evalue:<\/strong> Arbitrary cut-off of sequence similarity. The e-value depends on your database size, so the large your database the smaller your e-value can be. I recommend something between 10<sup>-5<\/sup> and 10<sup>-20<\/sup>.<\/p>\n<p><strong>word_size:<\/strong> Number of nucleotides\/amino acids, which resembles the smallest unit of your query<\/p>\n<p><strong>num_alignments:<\/strong> Maximum number of alignment partner in the database for a single query sequence<\/p>\n<p>\u00a0<\/p>"},"is_project":0},{"component_id":"274313","previous_id":"275268","original_id":"0","guid":"740F6726868C4919B2CC5683110C9A18","previous_guid":"7FC6B6A258E744A3B7939E80D1D6E2DE","component_type_id":"6","data_id":"0","data":"Select sequences as queries to search for homologs in database","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Select sequences as queries to search for homologs in database"},"is_project":0},{"component_id":"274366","previous_id":"274313","original_id":"0","guid":"AC12BDEA2851423EBFFB0A3F15F9F388","previous_guid":"740F6726868C4919B2CC5683110C9A18","component_type_id":"15","data_id":"1469","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir seq\n# Add sequence FASTA files in seq directory\n\nfor f in seq\/*.fasta\ndo\nblastp -query \"$f\" -db DATABASE_NAME -out \"${f%.fasta}_blast.xml\" -outfmt 5 -evalue NUMBER -word_size NUMBER -num_alignments NUMBER\ndone","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"214792","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"2F9536095B0B46049F36C92837C1EAA3","previous_guid":"A45D1A53F2714EE8AE63AFD1EDF4B989","previous_id":"215788","last_modified":"1481814257","components":[{"component_id":"275273","previous_id":0,"original_id":"0","guid":"0924FDED51094283A9929BA08EB8F09D","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Now that you have FASTA files for the hits you can start the second BLAST run and align the hits back to the original genome from the query sequence. You need to create a database from the genomic sequences first and then start your BLAST run. This time you set the <em>num_alignments<\/em> parameter to 1, because you only want to record the best alignment partner in the genome. You don't have to worry about the <em>evalue<\/em> since the best hit will most likely be 0 or in close proximity.<\/p>\n<p>\u00a0<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Now that you have FASTA files for the hits you can start the second BLAST run and align the hits back to the original genome from the query sequence. You need to create a database from the genomic sequences first and then start your BLAST run. This time you set the <em>num_alignments<\/em> parameter to 1, because you only want to record the best alignment partner in the genome. You don't have to worry about the <em>evalue<\/em> since the best hit will most likely be 0 or in close proximity.<\/p>\n<p>\u00a0<\/p>"},"is_project":0},{"component_id":"274340","previous_id":"275273","original_id":"0","guid":"B1EF94441B1048B48B8C38C608C9E0FE","previous_guid":"0924FDED51094283A9929BA08EB8F09D","component_type_id":"6","data_id":"0","data":"Align hits against original genome","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Align hits against original genome"},"is_project":0},{"component_id":"274379","previous_id":"274340","original_id":"0","guid":"D7B59F2A6CAA42F1A94B92653B70FCE1","previous_guid":"B1EF94441B1048B48B8C38C608C9E0FE","component_type_id":"15","data_id":"1472","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"makeblastdb -in GENOME_FILE.fasta -dbtype 'TYPE' -out DATABASE_NAME\n\nfor f in seq\/*_matches.fasta\ndo\nblastp -query \"$f\" -db DATABASE_NAME -out \"${f%_matches.fasta}_back_blast.xml\" -outfmt 5 -word_size NUMBER  -num_alignments 1\ndone","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"215788","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"A45D1A53F2714EE8AE63AFD1EDF4B989","previous_guid":"E61689A5CDED4FFD82C0B40F5D5D3455","previous_id":"214765","last_modified":"1481814252","components":[{"component_id":"277067","previous_id":0,"original_id":"0","guid":"7ED74B9E3C094E9D9DF7C2DD05DE25E8","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>You now created your first BLAST results. For a reciprocal BLAST you need to align these hits back to the original genome from your query sequence. For this you need to create FASTA files from your BLAST results. The Python script <em>parse_hits.py<\/em> will do this for you. You just need to run the following command.<\/p>\n<p>\u00a0<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>You now created your first BLAST results. For a reciprocal BLAST you need to align these hits back to the original genome from your query sequence. For this you need to create FASTA files from your BLAST results. The Python script <em>parse_hits.py<\/em> will do this for you. You just need to run the following command.<\/p>\n<p>\u00a0<\/p>"},"is_project":0},{"component_id":"277047","previous_id":"277067","original_id":"0","guid":"87BE86A341FC4DD2B1313B86E8F8805E","previous_guid":"7ED74B9E3C094E9D9DF7C2DD05DE25E8","component_type_id":"6","data_id":"0","data":"Create new FASTA files for BLAST hits","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Create new FASTA files for BLAST hits"},"is_project":0},{"component_id":"277350","previous_id":"277047","original_id":"0","guid":"0F45A3A269734369A267CB2E4BB31C92","previous_guid":"87BE86A341FC4DD2B1313B86E8F8805E","component_type_id":"15","data_id":"1474","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"python parse_hits.py","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"215814","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"F468FCC6BB554097A4897B9962AC0164","previous_guid":"2F9536095B0B46049F36C92837C1EAA3","previous_id":"214792","last_modified":"1482142103","components":[{"component_id":"301990","previous_id":0,"original_id":"0","guid":"BC6AF7C5AE7F41BD840ED6DAB01007D7","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>In the last step you need to filter those hits that aligned back to the original query sequence. These are the only valid hits following the\u00a0standard procedure for a reciprocal best hit BLAST. To filter these hits you need to run the Python script <em>hits_to_csv.py.<\/em><\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>In the last step you need to filter those hits that aligned back to the original query sequence. These are the only valid hits following the\u00a0standard procedure for a reciprocal best hit BLAST. To filter these hits you need to run the Python script <em>hits_to_csv.py.<\/em><\/p>"},"is_project":0},{"component_id":"277087","previous_id":"301990","original_id":"0","guid":"BBB425F9DA374212BA81BE7ABF1E11B6","previous_guid":"BC6AF7C5AE7F41BD840ED6DAB01007D7","component_type_id":"6","data_id":"0","data":"Filter hits and create CSV files for each query sequence","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Filter hits and create CSV files for each query sequence"},"is_project":0},{"component_id":"277386","previous_id":"277087","original_id":"0","guid":"66A3DEBEC7304FE186D36DAB76A6AEB7","previous_guid":"BBB425F9DA374212BA81BE7ABF1E11B6","component_type_id":"15","data_id":"1475","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"python hits_to_csv.py","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]}]},"is_project":0}]},{"id":"221439","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"D63698F485FE410F9320B44A7CCEA7F2","previous_guid":"1B53531B31774CA09D97D3F22312CCBF","previous_id":"221402","last_modified":"1482147145","components":[{"component_id":"304575","previous_id":0,"original_id":"0","guid":"7947FD6569F44CC5B81501FFAFB626FC","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Once you have the FASTA file with multiple sequences you can start aligning them. The following command will create such an alignment. You need to specify the <em>input<\/em> and <em>output<\/em> file name, the\u00a0<em>seqtype<\/em> (whether it is protein or nucleotide), and the number of iterations. The output FASTA file can directly be used for the creation for Weblogos or the optional modification with Jalview.<\/p>\n<p>\u00a0<\/p>\n<p><strong>Parameter<\/strong><\/p>\n<p><strong>in:<\/strong> Input file name.<\/p>\n<p><strong>infmt: <\/strong>Input format. Recommended: FASTA<\/p>\n<p><strong>seqtype:\u00a0<\/strong>Type of sequences in your input file (protein or nucleotide).<\/p>\n<p><strong>out:<\/strong> Output file name<\/p>\n<p><strong>outfmt:\u00a0<\/strong>Output format. Recommended: FASTA<\/p>\n<p><strong>dealign:\u00a0<\/strong>Dealignes the sequences before the actual alignment.<\/p>\n<p><strong>iter:\u00a0<\/strong>Number of iterations, i.e. number of sequence alignments that are produced to calculate the average alignment<\/p>\n<p><strong>max-guidetree-iteration:\u00a0<\/strong>Number of iterations to create the guidetree.<\/p>\n<p>\u00a0<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Once you have the FASTA file with multiple sequences you can start aligning them. The following command will create such an alignment. You need to specify the <em>input<\/em> and <em>output<\/em> file name, the\u00a0<em>seqtype<\/em> (whether it is protein or nucleotide), and the number of iterations. The output FASTA file can directly be used for the creation for Weblogos or the optional modification with Jalview.<\/p>\n<p>\u00a0<\/p>\n<p><strong>Parameter<\/strong><\/p>\n<p><strong>in:<\/strong> Input file name.<\/p>\n<p><strong>infmt: <\/strong>Input format. Recommended: FASTA<\/p>\n<p><strong>seqtype:\u00a0<\/strong>Type of sequences in your input file (protein or nucleotide).<\/p>\n<p><strong>out:<\/strong> Output file name<\/p>\n<p><strong>outfmt:\u00a0<\/strong>Output format. Recommended: FASTA<\/p>\n<p><strong>dealign:\u00a0<\/strong>Dealignes the sequences before the actual alignment.<\/p>\n<p><strong>iter:\u00a0<\/strong>Number of iterations, i.e. number of sequence alignments that are produced to calculate the average alignment<\/p>\n<p><strong>max-guidetree-iteration:\u00a0<\/strong>Number of iterations to create the guidetree.<\/p>\n<p>\u00a0<\/p>"},"is_project":0},{"component_id":"287830","previous_id":"304575","original_id":"0","guid":"DCED496500F24ECDA54FDD3B9C975D33","previous_guid":"7947FD6569F44CC5B81501FFAFB626FC","component_type_id":"6","data_id":"0","data":"Sequence alignment with CLUSTAL","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Sequence alignment with CLUSTAL"},"is_project":0},{"component_id":"304572","previous_id":"287830","original_id":"0","guid":"3DE399EE1F7F486E8A722369FFAFB145","previous_guid":"DCED496500F24ECDA54FDD3B9C975D33","component_type_id":"15","data_id":"1500","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"clustalo --in INPUT_FILE --infmt fasta --seqtype TYPE --dealign --out OUTPUT_FILE --outfmt fasta --iter NUMBER --max-guidetree-iterations NUMBER --force","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"221444","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"2EF95513BC9F4356AA67CA43280DB1F1","previous_guid":"D63698F485FE410F9320B44A7CCEA7F2","previous_id":"221439","last_modified":"1495033612","components":[{"component_id":"309156","previous_id":0,"original_id":"0","guid":"2D4645BA545540B0BC644665587C0939","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>You can use Jalview to analyze your alignment with graphical visualization. Jalview provides also a convenient way to slice alignments and remove gaps for a single reference sequence. The following instructions describes how to do it.<\/p>\n<p>\u00a0<\/p>\n<p>1. Open the alignment FASTA file in Jalview.<\/p>\n<p>\u00a0<\/p>\n<p><img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hcxerye.png\" width=\"490\" height=\"280\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hcwerye.png\" data-ofn=\"Bildschirmfoto 2016-12-19 um 13.57.35.png\" \/><\/p>\n<p>\u00a0<\/p>\n<p>2. Choose a reference sequence, right click on it and select <em>Hide Insertion<\/em>.<\/p>\n<p>\u00a0<\/p>\n<p><img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hcyerye.png\" width=\"491\" height=\"126\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hcyerye.png\" data-ofn=\"Bildschirmfoto 2016-12-19 um 13.58.13.png\" \/><\/p>\n<p>\u00a0<\/p>\n<p>3. Save alignment under a new name.<\/p>\n<p>\u00a0<\/p>\n<p><img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hczerye.png\" width=\"200\" height=\"270\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hczerye.png\" data-ofn=\"Bildschirmfoto 2016-12-19 um 14.05.28.png\" \/><\/p>\n<p>\u00a0<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>You can use Jalview to analyze your alignment with graphical visualization. Jalview provides also a convenient way to slice alignments and remove gaps for a single reference sequence. The following instructions describes how to do it.<\/p>\n<p>\u00a0<\/p>\n<p>1. Open the alignment FASTA file in Jalview.<\/p>\n<p>\u00a0<\/p>\n<p><img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hcxerye.png\" width=\"490\" height=\"280\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hcwerye.png\" data-ofn=\"Bildschirmfoto 2016-12-19 um 13.57.35.png\" \/><\/p>\n<p>\u00a0<\/p>\n<p>2. Choose a reference sequence, right click on it and select <em>Hide Insertion<\/em>.<\/p>\n<p>\u00a0<\/p>\n<p><img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hcyerye.png\" width=\"491\" height=\"126\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hcyerye.png\" data-ofn=\"Bildschirmfoto 2016-12-19 um 13.58.13.png\" \/><\/p>\n<p>\u00a0<\/p>\n<p>3. Save alignment under a new name.<\/p>\n<p>\u00a0<\/p>\n<p><img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hczerye.png\" width=\"200\" height=\"270\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hczerye.png\" data-ofn=\"Bildschirmfoto 2016-12-19 um 14.05.28.png\" \/><\/p>\n<p>\u00a0<\/p>"},"is_project":0},{"component_id":"287835","previous_id":"309156","original_id":"0","guid":"147BE802418A40D5A84211382BFCC600","previous_guid":"2D4645BA545540B0BC644665587C0939","component_type_id":"6","data_id":"0","data":"Modify with Jalview (Optional)","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Modify with Jalview (Optional)"},"is_project":0},{"component_id":"306361","previous_id":"287835","original_id":"0","guid":"61C257BB2D574C18A025ED2E33D2BA5C","previous_guid":"147BE802418A40D5A84211382BFCC600","component_type_id":"7","data_id":"276","data":"http:\/\/www.jalview.org","order_id":"2","name":"External Link","data_by_id":"1","type_id":"7","source_data":{"link":"http:\/\/www.jalview.org"},"is_project":0}]},{"id":"221459","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"16EDAE9F1322470692FADBC9FE19E166","previous_guid":"2EF95513BC9F4356AA67CA43280DB1F1","previous_id":"221444","last_modified":"1495033612","components":[{"component_id":"307672","previous_id":0,"original_id":"0","guid":"9A99D8CC55A84E05A874F094AA5BF32E","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>In the last step you want to create a summary visualization of your alignment. Weblogos are a great way to do so, because they create a conservation score for each position. You can use your original alignment or use the modified alignment that you created with Jalview<\/p>\n<p>\u00a0<\/p>\n<p><strong><img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hcterye.png\" width=\"701\" height=\"211\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hcserye.png\" data-ofn=\"Bildschirmfoto 2016-12-19 um 13.39.24.png\" \/><\/strong><\/p>\n<ol>\n<li>Upload FASTA file from computer.<\/li>\n<li>Choose output format.\u00a0Vector graphic format is recommended.<\/li>\n<\/ol>\n<p><img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hcverye.png\" width=\"700\" height=\"320\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hcuerye.png\" data-ofn=\"Bildschirmfoto 2016-12-19 um 13.44.50.png\" \/><\/p>\n<ol>\n<li>If you produce multiple alignments, it is recommended to set a fixed line length.<\/li>\n<li>If you choose a non-vector graphic format, it is recommended to set a high resolution, i.e. 300 dpi.<\/li>\n<\/ol>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>In the last step you want to create a summary visualization of your alignment. Weblogos are a great way to do so, because they create a conservation score for each position. You can use your original alignment or use the modified alignment that you created with Jalview<\/p>\n<p>\u00a0<\/p>\n<p><strong><img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hcterye.png\" width=\"701\" height=\"211\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hcserye.png\" data-ofn=\"Bildschirmfoto 2016-12-19 um 13.39.24.png\" \/><\/strong><\/p>\n<ol>\n<li>Upload FASTA file from computer.<\/li>\n<li>Choose output format.\u00a0Vector graphic format is recommended.<\/li>\n<\/ol>\n<p><img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hcverye.png\" width=\"700\" height=\"320\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/hcuerye.png\" data-ofn=\"Bildschirmfoto 2016-12-19 um 13.44.50.png\" \/><\/p>\n<ol>\n<li>If you produce multiple alignments, it is recommended to set a fixed line length.<\/li>\n<li>If you choose a non-vector graphic format, it is recommended to set a high resolution, i.e. 300 dpi.<\/li>\n<\/ol>"},"is_project":0},{"component_id":"287850","previous_id":"307672","original_id":"0","guid":"2978282179784B65AD2AFAFF6DB6D996","previous_guid":"9A99D8CC55A84E05A874F094AA5BF32E","component_type_id":"6","data_id":"0","data":"Visualize with Weblogo","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Visualize with Weblogo"},"is_project":0},{"component_id":"306402","previous_id":"287850","original_id":"0","guid":"A4EBE4ECBAB64BAD9B56A8566A3274D4","previous_guid":"2978282179784B65AD2AFAFF6DB6D996","component_type_id":"7","data_id":"277","data":"http:\/\/weblogo.berkeley.edu\/logo.cgi","order_id":"2","name":"External Link","data_by_id":"1","type_id":"7","source_data":{"link":"http:\/\/weblogo.berkeley.edu\/logo.cgi"},"is_project":0}]}]}