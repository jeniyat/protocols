{"uri":"Script-P11-Functional-Analysis-ehubb6w","version_id":"0","protocol_name":"Script P11: Functional Analysis","protocol_name_html":"Script P11: Functional Analysis","is_prepublished":"0","can_edit":"0","parent_id":null,"api_version":"2","is_new_mode":"1","last_modified":"1510247633","type_id":"1","link":"http:\/\/mbio.asm.org\/content\/6\/5\/e01578-15.full","fork_id":"","public_fork_note":"","number_of_steps":"29","has_versions":"0","first_published_date":"1457616380","publish_date":"2016-03-11 02:57:21","documents":"null","have_protocol_in_step":"0","is_protocol_in_step":"0","vendor_name":"Contributed by users","vendor_link":"https:\/\/www.protocols.io","vendor_logo":"\/img\/vendors\/1.png","mod_mins":"-45","mod_secs":"1","description":"This protocol provides method for KEGG Analysis, Gene Ontology Analysis, and Operational Protein Family Analysis. Based on the methods from the following publication:\u00a0<br \/><br \/>Hannigan, Geoffrey D., et al. \"The Human Skin Double-Stranded DNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and Dynamic Associations with the Host Microbiome.\"\u00a0<em>mBio<\/em>\u00a06.5 (2015): e01578-15.","is_bookmarked":"0","can_reassign":"1","before_start":"Perl scripts and other supplemental information available at:<br \/><br \/><a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248<\/a>","has_guidelines":"1","materials":[],"warning":"","version_class":"2324","public":"1","is_owner":"1","is_original_owner":"1","created_on":"1454621955","protocol_affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","affiliation":"Merck Research Labs","doi":"dx.doi.org\/10.17504\/protocols.io.ehubb6w","doi_status":"2","changed_fork_steps":null,"profile_url":"Geoffrey-w2y254v2q2","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","created_by":"Geoffrey Hannigan","private_link":"D0DDC5C371E32EFF2BDE4F752692812C","original_img":"1","username":"geoffrey-hannigan","is_retracted":"0","retraction_reason":null,"plos_id":null,"manuscript_citation":null,"journal_name":null,"is_donations_disabled":"0","is_donations_disabled_by_user":"9","item_record_id":226780,"fork_info":[],"compare_forks":[],"protocols":[],"groups":[{"group_id":"45","group_uri":"verve-net","group_name":"VERVE Net","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/cdqcwwe.png","requested_uid":null,"request_flag":null,"my_request":"1"},{"group_id":"138","group_uri":"club-grice","group_name":"Club Grice","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/cp7dzme.png","requested_uid":null,"request_flag":null,"my_request":"1"}],"number_of_shared_runs":[],"ownership_history":[],"keywords":"","transfer_to_user":[],"sub_transfer":false,"is_transfer_pending":false,"number_of_bookmarks":"0","collections":[{"protocol_name":"The Human Skin dsDNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and its Dynamic Associations with the Host Microbiome","protocol_name_html":"The Human Skin dsDNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and its Dynamic Associations with the Host Microbiome","uri":"The-Human-Skin-dsDNA-Virome-Topographical-and-Temp-ekubcww","username":"geoffrey-hannigan","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","full_name":"Geoffrey Hannigan"}],"tags":[],"archived":0,"sub_authors":[],"sub_protocols_number":0,"can_edit_shared":0,"shared_runs":[],"is_shared_run":0,"is_shared":1,"banner":null,"contact_badges":[{"badge_id":"4","badge_image":"\/img\/badges\/gold.svg","badge_description":"Gold power author!"},{"badge_id":"5","badge_image":"\/img\/badges\/earlyadopter.svg","badge_description":"Early adopter"},{"badge_id":"6","badge_image":"\/img\/badges\/socialbutterfly.svg","badge_description":"Social butterfly"}],"number_of_comments":0,"is_locked":0,"is_locked_by":false,"authors":"HANNIGAN GD, GRICE EA, ET AL.","authors_list":[{"name":"HANNIGAN GD","affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null},{"name":" GRICE EA","affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null},{"name":" ET AL.","affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null}],"user":{"profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","username":"geoffrey-hannigan","full_name":"Geoffrey Hannigan","created_by":"Geoffrey Hannigan"},"access":{"can_view":"1","can_remove":"0","can_add":"0","can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":"0","can_move":"1","can_transfer":"1","can_download":"1","is_locked":"0"},"is_contact_suspended":0,"guidelines":"<ul>\n<li>Output\n<ul>\n<li>For KEGG analysis:\n<ul>\n<li>KEGG_humann\/04b-hit-keg-mpm-cop-nul-nve-nve-skinmet.txt<\/li>\n<li>KEGG_humann\/04b-hit-keg-mpm-cop-nul-nve-nve-virome.txt<\/li>\n<\/ul>\n<\/li>\n<li>For GOEAST analysis\n<ul>\n<li>Step one input files in IntermediateOutput\/GOEAST\/\n<ul>\n<li>sebaceous_GO_ids_formatted.txt<\/li>\n<li>moist_GO_ids_formatted.txt<\/li>\n<li>rimoist_GO_ids_formatted.txt<\/li>\n<\/ul>\n<\/li>\n<li>Step two input files in IntermediateOutput\/GOEAST\/\n<ul>\n<li>sebaceous_skinmet_uniprot_blastx_unique_probes.txt &amp; sebaceous_virome_uniprot_blastx_unique_probes.txt<\/li>\n<li>moist_skinmet_uniprot_blastx_unique_probes.txt &amp; moist_virome_uniprot_blastx_unique_probes.txt<\/li>\n<li>rimoist_skinmet_uniprot_blastx_unique_probes.txt &amp; rimoist_virome_uniprot_blastx_unique_probes.txt<\/li>\n<\/ul>\n<\/li>\n<li>GOEAST output files (for visualization with Multi-GOEAST) in IntermediateOutput\/GOEAST\/output\/\n<ul>\n<li>result_contigs-seb-skinmet.txt &amp; result_contigs-seb-virome.txt<\/li>\n<li>result_contigs-moist-skinmet.txt &amp; result_contigs-moist-virome.txt<\/li>\n<li>result_contigs-rimoist-skinmet.txt &amp; result_contigs-rimoist-virome.txt<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<\/li>\n<li>For Operational Protein Family analysis\n<ul>\n<li>.\/protein_cluster_rel_abund_table\/contig_otu_table_transposed.txt<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<\/li>\n<li>R scripts: <a href=\"https:\/\/www.protocols.io\/view\/Script-R12-Functional-Analysis-ejibcke\" target=\"_blank\">R12<\/a> and <a href=\"https:\/\/www.protocols.io\/view\/Script-R13-OPF-and-AMG-Analysis-ejkbckw\" target=\"_blank\">R13<\/a><\/li>\n<\/ul>","status_id":"1","is_research":"1","status_info":null,"steps":[{"id":"141731","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"E9DE0DCA160F4B9181CF85A194661256","previous_guid":null,"previous_id":"0","last_modified":"1457537938","components":[{"component_id":"148740","previous_id":0,"original_id":"0","guid":"E7AB1C7E54DC47FC8779F1C08078167E","previous_guid":null,"component_type_id":"1","data_id":"0","data":"In order to perform KEGG functional analysis, we had to blast our samples against the KEGG database and then use the program HUMAnN to analyze coverage\/abundance of different modules\/pathways. First we downloaded the program, HUMAnN. Then, since blastx is very time intensive, we first subsampled our sequences to 10,000 using the seqtk toolkit.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"In order to perform KEGG functional analysis, we had to blast our samples against the KEGG database and then use the program HUMAnN to analyze coverage\/abundance of different modules\/pathways. First we downloaded the program, HUMAnN. Then, since blastx is very time intensive, we first subsampled our sequences to 10,000 using the seqtk toolkit."},"is_project":0},{"component_id":"148751","previous_id":"148740","original_id":"0","guid":"2C58FE07D8B648AEA699166F4F3A2206","previous_guid":"E7AB1C7E54DC47FC8779F1C08078167E","component_type_id":"6","data_id":"0","data":"KEGG Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"KEGG Analysis"},"is_project":0},{"component_id":"148752","previous_id":"148751","original_id":"0","guid":"7702DCAC5E664786AA273D0E4AC78115","previous_guid":"2C58FE07D8B648AEA699166F4F3A2206","component_type_id":"15","data_id":"613","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/HUMAnN_10k\nmkdir .\/HUMAnN_10k\/subsampled_input\n\nfor file in $(ls .\/MetaPhlAn_trimmed\/input_reads); do\n    seqtk sample .\/MetaPhlAn_trimmed\/input_reads\/$file 10000 > .\/HUMAnN_10k\/subsampled_input\/${file\/fastq\/_subsampled.fastq}\n    seqtk seq -a .\/HUMAnN_10k\/subsampled_input\/${file\/fastq\/_subsampled.fastq} > .\/HUMAnN_10k\/subsampled_input\/${file\/.fastq\/_subsampled.fa}\ndone\n\ncd .\/HUMAnN_10k\/subsampled_input\/\nrm *.fastq","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141737","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"604A3356B10E4ADDA6FF08FFADE0ADF6","previous_guid":"E9DE0DCA160F4B9181CF85A194661256","previous_id":"141731","last_modified":"1457537938","components":[{"component_id":"148754","previous_id":0,"original_id":"0","guid":"CFF270894CAE4ED68AE9A822A6E7CE6C","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Some of our samples had fewer than 10,000 sequences, and were removed from further analysis. This included samples MG100184 and MG100755 for the metagenome and samples MG100099, MG100105, MG100416, MG100497, and MG100613 for the virome. Next, we blasted our samples against the KEGG database. We used an e-value of 1e-10 for the whole metagenome samples and 1e-5 for the virome samples.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Some of our samples had fewer than 10,000 sequences, and were removed from further analysis. This included samples MG100184 and MG100755 for the metagenome and samples MG100099, MG100105, MG100416, MG100497, and MG100613 for the virome. Next, we blasted our samples against the KEGG database. We used an e-value of 1e-10 for the whole metagenome samples and 1e-5 for the virome samples."},"is_project":0},{"component_id":"148755","previous_id":"148754","original_id":"0","guid":"772A9DAC7048470F910F72D05C54F06A","previous_guid":"CFF270894CAE4ED68AE9A822A6E7CE6C","component_type_id":"6","data_id":"0","data":"KEGG Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"KEGG Analysis"},"is_project":0},{"component_id":"148756","previous_id":"148755","original_id":"0","guid":"F9C55E62205C42BC87CB9B6338E94A8C","previous_guid":"772A9DAC7048470F910F72D05C54F06A","component_type_id":"8","data_id":"22","data":null,"order_id":"2","name":"Software package","data_by_id":"1","type_id":"8","source_data":{"id":"22","name":"BLAST Toolkit","developer":"NCBI","repository":"ftp:\/\/ftp.ncbi.nlm.nih.gov\/blast\/executables\/blast+\/LATEST\/","link":"https:\/\/blast.ncbi.nlm.nih.gov\/Blast.cgi?PAGE_TYPE=BlastDocs&DOC_TYPE=Download","os_name":"Unix","os_version":"","version":"2.2.0","can_edit":"0"},"is_project":0},{"component_id":"148757","previous_id":"148756","original_id":"0","guid":"411B4FB04A1B4B1A8A90BD1B7F8AA247","previous_guid":"F9C55E62205C42BC87CB9B6338E94A8C","component_type_id":"15","data_id":"614","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"run.blast.parallel.for.kegg.HUMAnN () {\n     blastx -query .\/HUMAnN_10k\/subsampled_input\/${1}.fa -out .\/HUMAnN_10k\/humann-0.99\/input\/${1}.blastx -db references\/kegg\/kegg.reduced.fasta -outfmt 6 -num_threads 2 -evalue 1e-10\n}\n\nexport -f run.blast.parallel.for.kegg.HUMAnN\nls .\/HUMAnN_10k\/subsampled_input\/ | sed -e 's\/^.*\\\/.*\\\/\/\/g' | sed 's\/\\.fa\/\/g' | xargs -I {} --max-procs=128 sh -c '\"run.blast.parallel.for.kegg.HUMAnN {}\"'","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141738","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"06E51911D13946A8B7025036A5A7544F","previous_guid":"604A3356B10E4ADDA6FF08FFADE0ADF6","previous_id":"141737","last_modified":"1457537938","components":[{"component_id":"148758","previous_id":0,"original_id":"0","guid":"7534F6F684AC4D75998B57B5085EB65C","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Finally, we are ready to run HUMAnN","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Finally, we are ready to run HUMAnN"},"is_project":0},{"component_id":"148759","previous_id":"148758","original_id":"0","guid":"97030F3553FF488D8F3DE69EFDD31CA2","previous_guid":"7534F6F684AC4D75998B57B5085EB65C","component_type_id":"6","data_id":"0","data":"KEGG Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"KEGG Analysis"},"is_project":0},{"component_id":"148760","previous_id":"148759","original_id":"0","guid":"97D3028AF43142158DDED4AC86BA0BB6","previous_guid":"97030F3553FF488D8F3DE69EFDD31CA2","component_type_id":"8","data_id":"33","data":null,"order_id":"2","name":"Software package","data_by_id":"1","type_id":"8","source_data":{"id":"33","name":"HUMAnN: The HMP Unified Metabolic Analysis Network","developer":"Curtis Huttenhower","repository":"","link":"http:\/\/huttenhower.sph.harvard.edu\/humann","os_name":"Unix","os_version":"","version":"0.99","can_edit":"0"},"is_project":0},{"component_id":"148761","previous_id":"148760","original_id":"0","guid":"29362E9147AA4D6EB30784D235AE3FF0","previous_guid":"97D3028AF43142158DDED4AC86BA0BB6","component_type_id":"26","data_id":"10246","data":"","order_id":"3","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10246","thread_id":"10246","id":"10246","thread_title":"Annotation on step 3 of Script P11: Functional Analysis","uri":"annotation-on-step-3-of-script-p11-functional-analysis","thread_uri":"annotation-on-step-3-of-script-p11-functional-analysis","step_id":"141738","protocol_uri":"Script-P11-Functional-Analysis-ehubb6w","protocol_name":"Script P11: Functional Analysis","protocol_name_html":"Script P11: Functional Analysis","annotation":"We performed downstream analyses in R in order to generate Supplemental Figure 12.","thread_text":"We performed downstream analyses in R in order to generate Supplemental Figure 12.","body":"We performed downstream analyses in R in order to generate Supplemental Figure 12.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454622774","created_on":"1454622774","modified_on":"1457537938","last_updated":"1457537938","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"148762","previous_id":"148761","original_id":"0","guid":"C834BFF262804990956B4E47890A4564","previous_guid":"29362E9147AA4D6EB30784D235AE3FF0","component_type_id":"15","data_id":"615","data":null,"order_id":"4","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd .\/HUMAnN_10k\/humann-0.99\/\nscons","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141739","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"BE1D5628C1E1483195021C78A68F68DC","previous_guid":"06E51911D13946A8B7025036A5A7544F","previous_id":"141738","last_modified":"1457537938","components":[{"component_id":"148763","previous_id":0,"original_id":"0","guid":"F72822C7DF26426AB13AE27045873586","previous_guid":null,"component_type_id":"1","data_id":"0","data":"In order to perform gene ontology analysis, we used the online Gene Ontology Enrichment Analysis Software Toolkit. Under GOEAST Advance, we used Customized-GOEAST. This treats the data like it is a microarray. In our case, the microarray probes are the open reading frames (ORFs) from our contigs.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"In order to perform gene ontology analysis, we used the online Gene Ontology Enrichment Analysis Software Toolkit. Under GOEAST Advance, we used Customized-GOEAST. This treats the data like it is a microarray. In our case, the microarray probes are the open reading frames (ORFs) from our contigs."},"is_project":0},{"component_id":"148764","previous_id":"148763","original_id":"0","guid":"A6202CC6C94E401DA6C53A8213AE0A9E","previous_guid":"F72822C7DF26426AB13AE27045873586","component_type_id":"6","data_id":"0","data":"Gene Ontology Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Gene Ontology Analysis"},"is_project":0}]},{"id":"141740","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"2FEAAE60C7614DF0B7BA43B7A3699BB8","previous_guid":"BE1D5628C1E1483195021C78A68F68DC","previous_id":"141739","last_modified":"1457537938","components":[{"component_id":"148765","previous_id":0,"original_id":"0","guid":"D045E75545F04F269C87BCE08D5DA19C","previous_guid":null,"component_type_id":"1","data_id":"0","data":"In order to compare the virome and metagenome samples, we first grouped them by microenvironment (sebaceous, moist, and intermittently moist). For each microenvironment, we annotated all of the virome ORFs and metagenome ORFs with GO terms by blasting the contigs against the UniProt SwissProt database and mapping the SwissProt hits to GO IDs.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"In order to compare the virome and metagenome samples, we first grouped them by microenvironment (sebaceous, moist, and intermittently moist). For each microenvironment, we annotated all of the virome ORFs and metagenome ORFs with GO terms by blasting the contigs against the UniProt SwissProt database and mapping the SwissProt hits to GO IDs."},"is_project":0},{"component_id":"148766","previous_id":"148765","original_id":"0","guid":"BBAF9A151E084185BD1504754D7C690F","previous_guid":"D045E75545F04F269C87BCE08D5DA19C","component_type_id":"6","data_id":"0","data":"Gene Ontology Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Gene Ontology Analysis"},"is_project":0}]},{"id":"141741","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"DAD9277F9D1F47B2A164BCFF88577E4B","previous_guid":"2FEAAE60C7614DF0B7BA43B7A3699BB8","previous_id":"141740","last_modified":"1457537938","components":[{"component_id":"148767","previous_id":0,"original_id":"0","guid":"839B342C01994120B54B7B231A1820B5","previous_guid":null,"component_type_id":"1","data_id":"0","data":"For step one of Customized-GOEAST, our annotation file contained all of the annotated contigs from both the virome and metagenome samples. We ran this analysis twice, first using only the virome contigs as our input list of probes and then using only the metagenome contigs as our list of probes for step 2 of Customized-GOEAST. We used the default parameter settings in the optional section.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"For step one of Customized-GOEAST, our annotation file contained all of the annotated contigs from both the virome and metagenome samples. We ran this analysis twice, first using only the virome contigs as our input list of probes and then using only the metagenome contigs as our list of probes for step 2 of Customized-GOEAST. We used the default parameter settings in the optional section."},"is_project":0},{"component_id":"148768","previous_id":"148767","original_id":"0","guid":"6DDA2A5FC2CC41EA89665970EA3D0D2F","previous_guid":"839B342C01994120B54B7B231A1820B5","component_type_id":"6","data_id":"0","data":"Gene Ontology Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Gene Ontology Analysis"},"is_project":0}]},{"id":"141742","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"CFA7E90B68E24FC5B8742B69414ED136","previous_guid":"DAD9277F9D1F47B2A164BCFF88577E4B","previous_id":"141741","last_modified":"1457537938","components":[{"component_id":"148769","previous_id":0,"original_id":"0","guid":"81E199E475214D63BF1AF555CF8F6935","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Since we need to map our ORFs (detected by glimmer3) to GO IDs, we first subsampled (to 1000 sequences) and blasted the ORFs against the SwissProt database. We do not remove any samples with fewer than 1000 sequences.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Since we need to map our ORFs (detected by glimmer3) to GO IDs, we first subsampled (to 1000 sequences) and blasted the ORFs against the SwissProt database. We do not remove any samples with fewer than 1000 sequences."},"is_project":0},{"component_id":"148770","previous_id":"148769","original_id":"0","guid":"D2028C64C47F401A8DE0D982B6911EF1","previous_guid":"81E199E475214D63BF1AF555CF8F6935","component_type_id":"6","data_id":"0","data":"Gene Ontology Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Gene Ontology Analysis"},"is_project":0},{"component_id":"148771","previous_id":"148770","original_id":"0","guid":"24BBD3DA3186418D8BDB35A6044202E1","previous_guid":"D2028C64C47F401A8DE0D982B6911EF1","component_type_id":"15","data_id":"616","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd .\/glimmer3\nmkdir orf_uniprot_blast_swissprot_sub\n\nrunblastxorfs () {\n     # Remove block formatting\n     fasta_formatter -w 0 < .\/glimmer3\/output\/${1}.genes > .\/glimmer3\/output\/${1}_no_block.genes\n     # Subsample\n     seqtk sample .\/glimmer3\/output\/${1}_no_block.genes 1000 > .\/glimmer3\/orf_uniprot_blast_swissprot_sub\/${1}_sub.genes\n     # Blast\n     blastx -query .\/glimmer3\/orf_uniprot_blast_swissprot_sub\/${1}_sub.genes -out .\/glimmer3\/orf_uniprot_blast_swissprot_sub\/${1}_orf_uniprot_blastx.txt -db references\/SwissProt\/uniprot_sprot.fasta -outfmt 6 -num_threads 16 -evalue 1e-10 -max_target_seqs 1\n}\n\nexport -f runblastxorfs\nls .\/glimmer3\/output\/*_no_block.genes | sed -e 's\/^.*\\\/.*\\\/\/\/g' | sed 's\/\\_no_block.genes\/\/g' | xargs -I {} --max-procs=128 sh -c 'runblastxorfs {}'","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141743","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"E4BF1A3A88154CA1AD3C620F3BEC079F","previous_guid":"CFA7E90B68E24FC5B8742B69414ED136","previous_id":"141742","last_modified":"1457537938","components":[{"component_id":"148772","previous_id":0,"original_id":"0","guid":"975ECF209271427C8AB68E826685BB5A","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Now that we have UniProt hits for our open reading frames, we had to find a way to match our UniProt hits to GO IDs. We downloaded and formatted the following reference file for our use:","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Now that we have UniProt hits for our open reading frames, we had to find a way to match our UniProt hits to GO IDs. We downloaded and formatted the following reference file for our use:"},"is_project":0},{"component_id":"148773","previous_id":"148772","original_id":"0","guid":"C4002047E916440EB954234B72F29C9D","previous_guid":"975ECF209271427C8AB68E826685BB5A","component_type_id":"6","data_id":"0","data":"Gene Ontology Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Gene Ontology Analysis"},"is_project":0},{"component_id":"148774","previous_id":"148773","original_id":"0","guid":"FCA335BB91604B62900DCBFFEB410A52","previous_guid":"C4002047E916440EB954234B72F29C9D","component_type_id":"15","data_id":"617","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"wget ftp:\/\/ftp.ebi.ac.uk\/pub\/databases\/GO\/goa\/UNIPROT\/gp_association.goa_uniprot.gz\ngunzip gp_association.goa_uniprot.gz\ntail -n +24 gp_association.goa_uniprot | awk '{print $2,$4}' > gp_association.goa_uniprot.goeast_formatted","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141744","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"F57C0F0FD2DD45778DE0D03A706B7F2F","previous_guid":"E4BF1A3A88154CA1AD3C620F3BEC079F","previous_id":"141743","last_modified":"1457537938","components":[{"component_id":"148775","previous_id":0,"original_id":"0","guid":"8827C9BE28B64AEF9EE1EB3240AF064C","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Next, we combine samples by their microenvironment. We broke the mapping file up into two separate mapping files- one for the whole metagenome and one for the virome. In this new mapping file, column 1 contained the sample ID and column 5 contained the site symbol.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Next, we combine samples by their microenvironment. We broke the mapping file up into two separate mapping files- one for the whole metagenome and one for the virome. In this new mapping file, column 1 contained the sample ID and column 5 contained the site symbol."},"is_project":0},{"component_id":"148776","previous_id":"148775","original_id":"0","guid":"293F5A1FAD504BDA814DAE26F468216B","previous_guid":"8827C9BE28B64AEF9EE1EB3240AF064C","component_type_id":"6","data_id":"0","data":"Gene Ontology Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Gene Ontology Analysis"},"is_project":0},{"component_id":"148777","previous_id":"148776","original_id":"0","guid":"1127C8FE8EE64FD6A88086EDE4C53141","previous_guid":"293F5A1FAD504BDA814DAE26F468216B","component_type_id":"15","data_id":"618","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"# group by bodysite\ncat SkinMet_001_metadata_subset.tsv | awk '$5==\"Fh\" || $5==\"Ra\" || $5==\"Sc\" {print $1}' > sebaceous_skinmet_samples.txt\ncat SkinMet_001_metadata_subset.tsv | awk '$5==\"Ax\" || $5==\"Um\" || $5==\"Tw\" {print $1}' > moist_skinmet_samples.txt\ncat SkinMet_001_metadata_subset.tsv | awk '$5==\"Ac\" || $5==\"Pa\" {print $1}' > rimoist_skinmet_samples.txt\ncat Virome_001_metadata_subset.tsv | awk '$5==\"Fh\" || $5==\"Ra\" || $5==\"Sc\" {print $1}' > sebaceous_virome_samples.txt\ncat Virome_001_metadata_subset.tsv | awk '$5==\"Ax\" || $5==\"Um\" || $5==\"Tw\" {print $1}' > moist_virome_samples.txt\ncat Virome_001_metadata_subset.tsv | awk '$5==\"Ac\" || $5==\"Pa\" {print $1}' > rimoist_virome_samples.txt\n\nfor file in $(ls *_samples.txt); do\n    name=${file\/samples.txt\/uniprot_blastx.txt}\n    for sample in $(cat $file); do\n        cat ${sample}_orf_uniprot_blastx.txt >> $name\n    done\n    awk '{print $1\"\\t\"$2}' $name | sed 's\/.orf[0-9]*\/\/g' | sed 's\/sp|\/\/g' | sed 's\/|.*\/\/g' | sort -u > ${name\/.txt\/_formatted_unique.txt}\n    cut -f 1 ${name\/.txt\/_formatted_unique.txt} | sort -u > ${name\/.txt\/_unique_probes.txt}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141745","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"9498ADEA4A9B4DF79042A8425B9AF824","previous_guid":"F57C0F0FD2DD45778DE0D03A706B7F2F","previous_id":"141744","last_modified":"1457537938","components":[{"component_id":"148778","previous_id":0,"original_id":"0","guid":"3E2D09552F154C11A17824A3A55293C2","previous_guid":null,"component_type_id":"1","data_id":"0","data":"We annotate the UniProt hits with GO IDs and format them for input as step one of Customized-GOEAST.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"We annotate the UniProt hits with GO IDs and format them for input as step one of Customized-GOEAST."},"is_project":0},{"component_id":"148779","previous_id":"148778","original_id":"0","guid":"3FB8A6CF835F46A59085EE7AD6C4CE75","previous_guid":"3E2D09552F154C11A17824A3A55293C2","component_type_id":"6","data_id":"0","data":"Gene Ontology Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Gene Ontology Analysis"},"is_project":0},{"component_id":"148782","previous_id":"148779","original_id":"0","guid":"E9634362E7594377B1D35968D68B9A58","previous_guid":"3FB8A6CF835F46A59085EE7AD6C4CE75","component_type_id":"8","data_id":"34","data":null,"order_id":"2","name":"Software package","data_by_id":"1","type_id":"8","source_data":{"id":"34","name":"GOEAST (Gene Ontology Enrichment Analysis Software Toolkit)","developer":"Institute of Genetics and Developmental Biology","repository":"","link":"http:\/\/omicslab.genetics.ac.cn\/GOEAST\/php\/customized_microarray.php","os_name":"Unix","os_version":"","version":"","can_edit":"0"},"is_project":0},{"component_id":"148780","previous_id":"148782","original_id":"0","guid":"A181432F3F5947D3877BC377FAF4E022","previous_guid":"E9634362E7594377B1D35968D68B9A58","component_type_id":"26","data_id":"10247","data":"","order_id":"3","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10247","thread_id":"10247","id":"10247","thread_title":"Annotation on step 10 of Script P11: Functional Analysis","uri":"annotation-on-step-10-of-script-p11-functional-analysis","thread_uri":"annotation-on-step-10-of-script-p11-functional-analysis","step_id":"141745","protocol_uri":"Script-P11-Functional-Analysis-ehubb6w","protocol_name":"Script P11: Functional Analysis","protocol_name_html":"Script P11: Functional Analysis","annotation":"For Figure S10, we pulled out a section of interest from the Biological Process graph from the sebaceous virome samples.","thread_text":"For Figure S10, we pulled out a section of interest from the Biological Process graph from the sebaceous virome samples.","body":"For Figure S10, we pulled out a section of interest from the Biological Process graph from the sebaceous virome samples.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454622854","created_on":"1454622854","modified_on":"1457537938","last_updated":"1457537938","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"148783","previous_id":"148780","original_id":"0","guid":"F7C932E7413E405EBE8D65A3BD26CB2D","previous_guid":"A181432F3F5947D3877BC377FAF4E022","component_type_id":"26","data_id":"10248","data":"","order_id":"4","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10248","thread_id":"10248","id":"10248","thread_title":"Annotation on step 10 of Script P11: Functional Analysis","uri":"annotation-on-step-10-of-script-p11-functional-analysis1","thread_uri":"annotation-on-step-10-of-script-p11-functional-analysis1","step_id":"141745","protocol_uri":"Script-P11-Functional-Analysis-ehubb6w","protocol_name":"Script P11: Functional Analysis","protocol_name_html":"Script P11: Functional Analysis","annotation":"For Figure S10, we pulled out a section of interest from the Biological Process graph from the sebaceous virome samples.","thread_text":"For Figure S10, we pulled out a section of interest from the Biological Process graph from the sebaceous virome samples.","body":"For Figure S10, we pulled out a section of interest from the Biological Process graph from the sebaceous virome samples.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454623799","created_on":"1454623799","modified_on":"1457537938","last_updated":"1457537938","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"148784","previous_id":"148783","original_id":"0","guid":"B68BE7B20C2249AB9B9D3EBE49E7AE0B","previous_guid":"F7C932E7413E405EBE8D65A3BD26CB2D","component_type_id":"15","data_id":"620","data":null,"order_id":"5","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cat sebaceous_skinmet_uniprot_blastx_unique_probes.txt sebaceous_virome_uniprot_blastx_unique_probes.txt > sebaceous_probes.txt\ncat sebaceous_skinmet_uniprot_blastx_formatted_unique.txt sebaceous_virome_uniprot_blastx_formatted_unique.txt | sort -u -k 2 > sebaceous_hits.txt\njoin -1 2 -2 1 sebaceous_hits.txt gp_association.goa_uniprot.goeast_formatted > sebaceous_GO_ids.txt\nawk '{print $2\"\\t\"$3}' sebaceous_GO_ids.txt | sort -u > sebaceous_GO_ids_unique.txt\n\nfor line in $(cat sebaceous_probes.txt); do\n    grep -w \"$line\" sebaceous_GO_ids_unique.txt | perl -pe 's\/'$line'\/\\\/\\\/\/g' | tr '\\t' ' ' | tr '\\n' ' ' | sed 's\/^\\\/\\\/\/\/g' | sed 's\/$\/\\n\/g' | sed \"s\/^\/$line\\t\/g\" >> sebaceous_GO_ids_formatted.txt\ndone\n\ncat moist_skinmet_uniprot_blastx_unique_probes.txt moist_virome_uniprot_blastx_unique_probes.txt > moist_probes.txt\ncat moist_skinmet_uniprot_blastx_formatted_unique.txt moist_virome_uniprot_blastx_formatted_unique.txt | sort -u -k 2 > moist_hits.txt\njoin -1 2 -2 1 moist_hits.txt gp_association.goa_uniprot.goeast_formatted > moist_GO_ids.txt\nawk '{print $2\"\\t\"$3}' moist_GO_ids.txt | sort -u > moist_GO_ids_unique.txt\n\nfor line in $(cat moist_probes.txt); do\n    grep -w \"$line\" moist_GO_ids_unique.txt | perl -pe 's\/'$line'\/\\\/\\\/\/g' | tr '\\t' ' ' | tr '\\n' ' ' | sed 's\/^\\\/\\\/\/\/g' | sed 's\/$\/\\n\/g' | sed \"s\/^\/$line\\t\/g\" >> moist_GO_ids_formatted.txt\ndone\n\ncat rimoist_skinmet_uniprot_blastx_unique_probes.txt rimoist_virome_uniprot_blastx_unique_probes.txt > rimoist_probes.txt\ncat rimoist_skinmet_uniprot_blastx_formatted_unique.txt rimoist_virome_uniprot_blastx_formatted_unique.txt | sort -u -k 2 > rimoist_hits.txt\njoin -1 2 -2 1 rimoist_hits.txt gp_association.goa_uniprot.goeast_formatted > rimoist_GO_ids.txt\nawk '{print $2\"\\t\"$3}' rimoist_GO_ids.txt | sort -u > rimoist_GO_ids_unique.txt\n\nfor line in $(cat rimoist_probes.txt); do\n    grep -w \"$line\" rimoist_GO_ids_unique.txt | perl -pe 's\/'$line'\/\\\/\\\/\/g' | tr '\\t' ' ' | tr '\\n' ' ' | sed 's\/^\\\/\\\/\/\/g' | sed 's\/$\/\\n\/g' | sed \"s\/^\/$line\\t\/g\" >> rimoist_GO_ids_formatted.txt\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141747","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"469BECAA4D7741D3B14EEC5062034A7B","previous_guid":"9498ADEA4A9B4DF79042A8425B9AF824","previous_id":"141745","last_modified":"1457537938","components":[{"component_id":"148787","previous_id":0,"original_id":"0","guid":"D216579CE087422183847A99FAD9429F","previous_guid":null,"component_type_id":"1","data_id":"0","data":"We also calculated operational protein families to assess core and flexible OPFs, potential auxiliary metabolic genes, and the functional diversity. The OPFs are defined below. Start by clustering the predicted ORFs using Uclust to remove the redundant sequences and pull out representative sequences.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"We also calculated operational protein families to assess core and flexible OPFs, potential auxiliary metabolic genes, and the functional diversity. The OPFs are defined below. Start by clustering the predicted ORFs using Uclust to remove the redundant sequences and pull out representative sequences."},"is_project":0},{"component_id":"148788","previous_id":"148787","original_id":"0","guid":"FB538464850B41448D913050213CD387","previous_guid":"D216579CE087422183847A99FAD9429F","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148789","previous_id":"148788","original_id":"0","guid":"E08057D3CC18456EB0DDDC8B884CBCED","previous_guid":"FB538464850B41448D913050213CD387","component_type_id":"15","data_id":"621","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/define_core_protein_clusters\necho Sorting fasta with uclust...\nuclust --sort .\/glimmer3\/output\/Contigs_no_block_with_names_glimmer_output_final.fa --output .\/define_core_protein_clusters\/glimmer_final_sorted.fa","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141748","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"C540A2B5F2A04D02A5DF491F03C79A35","previous_guid":"469BECAA4D7741D3B14EEC5062034A7B","previous_id":"141747","last_modified":"1457537938","components":[{"component_id":"148790","previous_id":0,"original_id":"0","guid":"45692EA90A574E2284722A968F8EDABD","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Use the sorted file for de novo clustering.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Use the sorted file for de novo clustering."},"is_project":0},{"component_id":"148791","previous_id":"148790","original_id":"0","guid":"CF7D956DB04E432DAD4CA5F915D822A8","previous_guid":"45692EA90A574E2284722A968F8EDABD","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148792","previous_id":"148791","original_id":"0","guid":"7F276658512C491095AED5524F189AE4","previous_guid":"CF7D956DB04E432DAD4CA5F915D822A8","component_type_id":"15","data_id":"622","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Using uclust for sequence clustering...\nuclust --input .\/define_core_protein_clusters\/glimmer_final_sorted.fa --uc .\/define_core_protein_clusters\/protein_clusters_uclust.txt --id 0.75","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141749","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"0AF9A85C52B7407A9CADFC80046A7AD7","previous_guid":"C540A2B5F2A04D02A5DF491F03C79A35","previous_id":"141748","last_modified":"1457537938","components":[{"component_id":"148793","previous_id":0,"original_id":"0","guid":"DE053245CFDD4C0F9850CE932B9ADB19","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Convert output to fasta.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Convert output to fasta."},"is_project":0},{"component_id":"148794","previous_id":"148793","original_id":"0","guid":"CCD31745DF454E55AE4246928832F985","previous_guid":"DE053245CFDD4C0F9850CE932B9ADB19","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148795","previous_id":"148794","original_id":"0","guid":"290E0B2529DE436880D47E8798C4FB25","previous_guid":"CCD31745DF454E55AE4246928832F985","component_type_id":"15","data_id":"623","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Converting uclust output to fasta...\nuclust --uc2fasta .\/define_core_protein_clusters\/protein_clusters_uclust.txt --input .\/define_core_protein_clusters\/glimmer_final_sorted.fa --output .\/define_core_protein_clusters\/protein_clusters_with_repeats.fa","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141750","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"1CB54E49AF9B4E72888B08D158E27354","previous_guid":"0AF9A85C52B7407A9CADFC80046A7AD7","previous_id":"141749","last_modified":"1457537938","components":[{"component_id":"148796","previous_id":0,"original_id":"0","guid":"3A7E0E61AB8046C7A7EEA5E3A0CEEF91","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Pull out the clustered sequences which have representative seqs in their sequences.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Pull out the clustered sequences which have representative seqs in their sequences."},"is_project":0},{"component_id":"148797","previous_id":"148796","original_id":"0","guid":"64F113C27D4A4730B3975186755D6394","previous_guid":"3A7E0E61AB8046C7A7EEA5E3A0CEEF91","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148798","previous_id":"148797","original_id":"0","guid":"D19F00BE8AFC4BF3B10FE64598111F5B","previous_guid":"64F113C27D4A4730B3975186755D6394","component_type_id":"15","data_id":"624","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Pulling out representative seqs from uclust fasta output...\ngrep -A 1 \"*\" .\/define_core_protein_clusters\/protein_clusters_with_repeats.fa | grep -v -P ^-- > .\/define_core_protein_clusters\/protein_clusters.fa","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141751","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"026BCD6F0B7D42ABB304531404CDE077","previous_guid":"1CB54E49AF9B4E72888B08D158E27354","previous_id":"141750","last_modified":"1457537938","components":[{"component_id":"148799","previous_id":0,"original_id":"0","guid":"29A686B24C054DB0916EC01B6066377E","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get the length information for each protein cluster representative sequence.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get the length information for each protein cluster representative sequence."},"is_project":0},{"component_id":"148800","previous_id":"148799","original_id":"0","guid":"C8190D71D3E940CD8C9933A2D126A4DD","previous_guid":"29A686B24C054DB0916EC01B6066377E","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148801","previous_id":"148800","original_id":"0","guid":"ED7E7C1B883F4F6BAEB22309FCD71CAE","previous_guid":"C8190D71D3E940CD8C9933A2D126A4DD","component_type_id":"26","data_id":"10249","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10249","thread_id":"10249","id":"10249","thread_title":"Annotation on step 15 of Script P11: Functional Analysis","uri":"annotation-on-step-15-of-script-p11-functional-analysis","thread_uri":"annotation-on-step-15-of-script-p11-functional-analysis","step_id":"141751","protocol_uri":"Script-P11-Functional-Analysis-ehubb6w","protocol_name":"Script P11: Functional Analysis","protocol_name_html":"Script P11: Functional Analysis","annotation":"Use the defined operational protein families to generate a OPF relative abundance table which can be used in R for diversity, definition of core OPFs, etc.","thread_text":"Use the defined operational protein families to generate a OPF relative abundance table which can be used in R for diversity, definition of core OPFs, etc.","body":"Use the defined operational protein families to generate a OPF relative abundance table which can be used in R for diversity, definition of core OPFs, etc.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454623799","created_on":"1454623799","modified_on":"1457537938","last_updated":"1457537938","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"148802","previous_id":"148801","original_id":"0","guid":"8BA6BBE7FE8541A394E205594DD8761B","previous_guid":"ED7E7C1B883F4F6BAEB22309FCD71CAE","component_type_id":"15","data_id":"625","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"awk 'NR % 2 {printf $0\"\\t\"} !(NR % 2) {print length($0)}' .\/define_core_protein_clusters\/protein_clusters.fa > .\/define_core_protein_clusters\/protein_cluster_length.txt\nsed 's\/>\/\/g' .\/define_core_protein_clusters\/protein_cluster_length.txt > .\/define_core_protein_clusters\/protein_cluster_length_no_greater_sign.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141752","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"02BA7132F4E44D3B9229E98A437419DD","previous_guid":"026BCD6F0B7D42ABB304531404CDE077","previous_id":"141751","last_modified":"1457537938","components":[{"component_id":"148803","previous_id":0,"original_id":"0","guid":"A62E0456AD744F40BA0990032946437D","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Run bowtie2 of the background cleaned samples against the contig reference database. First build bowtie reference of the OPFs.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Run bowtie2 of the background cleaned samples against the contig reference database. First build bowtie reference of the OPFs."},"is_project":0},{"component_id":"148804","previous_id":"148803","original_id":"0","guid":"B63FDCDB33214E1492E75FDF0FBA47E9","previous_guid":"A62E0456AD744F40BA0990032946437D","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148805","previous_id":"148804","original_id":"0","guid":"B671C21345564FCB88AF1827AE3F1A80","previous_guid":"B63FDCDB33214E1492E75FDF0FBA47E9","component_type_id":"15","data_id":"626","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/protein_cluster_rel_abund_table\nbowtie2-build -f .\/define_core_protein_clusters\/protein_clusters.fa .\/protein_cluster_rel_abund_table\/bowtie2_contig_build","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141753","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"F58CA221AC634604A66F6F5E246AE5EA","previous_guid":"02BA7132F4E44D3B9229E98A437419DD","previous_id":"141752","last_modified":"1457537938","components":[{"component_id":"148806","previous_id":0,"original_id":"0","guid":"8A1DD70B421A40809B0C62D2985DF488","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Map the sequences to the OPFS.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Map the sequences to the OPFS."},"is_project":0},{"component_id":"148807","previous_id":"148806","original_id":"0","guid":"3B45D0455EBA44018078C49BF25B95A0","previous_guid":"8A1DD70B421A40809B0C62D2985DF488","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148808","previous_id":"148807","original_id":"0","guid":"E0AA8DEC69A54141B6B829D15078E603","previous_guid":"3B45D0455EBA44018078C49BF25B95A0","component_type_id":"15","data_id":"627","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/protein_cluster_rel_abund_table\/bowtie2_neg_cleaned_hits\nrun_bowtie2_against_contigs () {\nif [ -f \/etc\/profile.d\/modules.sh ]; then\n   \tsource \/etc\/profile.d\/modules.sh\nfi\nmodule load bowtie2-2.1.0\nbowtie2 -x .\/protein_cluster_rel_abund_table\/bowtie2_contig_build -f .\/negative_clean_seqs\/$1 -S .\/protein_cluster_rel_abund_table\/bowtie2_neg_cleaned_hits\/$1 -L 25 -N 1\n}\nexport -f run_bowtie2_against_contigs\nls .\/negative_clean_seqs\/ | xargs -I {} --max-procs=128 sh -c 'run_bowtie2_against_contigs {}\"'","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141754","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"7302375F3566469DBD0D79F509069C1A","previous_guid":"F58CA221AC634604A66F6F5E246AE5EA","previous_id":"141753","last_modified":"1457537938","components":[{"component_id":"148809","previous_id":0,"original_id":"0","guid":"AD880CC2D5B14F9A991EE6877131EBA2","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Rename the files to be .sam files.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Rename the files to be .sam files."},"is_project":0},{"component_id":"148810","previous_id":"148809","original_id":"0","guid":"2E5A5C1D862A4C09AF73E76C063CC647","previous_guid":"AD880CC2D5B14F9A991EE6877131EBA2","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148811","previous_id":"148810","original_id":"0","guid":"766F93CD45F241EBAB1458A33C3E2D18","previous_guid":"2E5A5C1D862A4C09AF73E76C063CC647","component_type_id":"15","data_id":"628","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for file in $(ls .\/protein_cluster_rel_abund_table\/bowtie2_neg_cleaned_hits); do\n\tmv .\/protein_cluster_rel_abund_table\/bowtie2_neg_cleaned_hits\/\"${file}\" .\/protein_cluster_rel_abund_table\/bowtie2_neg_cleaned_hits\/\"${file\/%.fa\/.sam}\"\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141755","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"FFD7F49506AF490FB09E6FE61B69E6E4","previous_guid":"7302375F3566469DBD0D79F509069C1A","previous_id":"141754","last_modified":"1457537938","components":[{"component_id":"148812","previous_id":0,"original_id":"0","guid":"274FB1C3063B436C869198462A99F246","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Calculate the hit abundances from bowtie2 using estimation perl script.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Calculate the hit abundances from bowtie2 using estimation perl script."},"is_project":0},{"component_id":"148813","previous_id":"148812","original_id":"0","guid":"F9D5BCF5107B4CD9AD2CA93B7BE82E53","previous_guid":"274FB1C3063B436C869198462A99F246","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148814","previous_id":"148813","original_id":"0","guid":"95D85209C22D41EBBFB6A8A6DEB22533","previous_guid":"F9D5BCF5107B4CD9AD2CA93B7BE82E53","component_type_id":"26","data_id":"10250","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10250","thread_id":"10250","id":"10250","thread_title":"Annotation on step 19 of Script P11: Functional Analysis","uri":"annotation-on-step-19-of-script-p11-functional-analysis","thread_uri":"annotation-on-step-19-of-script-p11-functional-analysis","step_id":"141755","protocol_uri":"Script-P11-Functional-Analysis-ehubb6w","protocol_name":"Script P11: Functional Analysis","protocol_name_html":"Script P11: Functional Analysis","annotation":"Perl script available <a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">here<\/a>.","thread_text":"Perl script available <a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">here<\/a>.","body":"Perl script available <a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">here<\/a>.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454623799","created_on":"1454623799","modified_on":"1457537938","last_updated":"1457537938","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"148815","previous_id":"148814","original_id":"0","guid":"9450D5C4CF5F460DA4E87380EE715D56","previous_guid":"95D85209C22D41EBBFB6A8A6DEB22533","component_type_id":"15","data_id":"629","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/protein_cluster_rel_abund_table\/abundance_from_sam\nfor file in $(ls .\/protein_cluster_rel_abund_table\/bowtie2_neg_cleaned_hits); do\n\tperl calculate_abundance_from_sam.pl .\/protein_cluster_rel_abund_table\/bowtie2_neg_cleaned_hits\/${file} .\/protein_cluster_rel_abund_table\/abundance_from_sam\/${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141756","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"68D48703B6FD4E6E8B82D88FA8CFBF24","previous_guid":"FFD7F49506AF490FB09E6FE61B69E6E4","previous_id":"141755","last_modified":"1457537938","components":[{"component_id":"148816","previous_id":0,"original_id":"0","guid":"C5E8502B77E7433680EF61B1FA7805EC","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Rename the sam files to text files.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Rename the sam files to text files."},"is_project":0},{"component_id":"148817","previous_id":"148816","original_id":"0","guid":"55C6AD9228C3411B90B16438199C0161","previous_guid":"C5E8502B77E7433680EF61B1FA7805EC","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148818","previous_id":"148817","original_id":"0","guid":"365E3E9982D6483483E3E221D14ECCB2","previous_guid":"55C6AD9228C3411B90B16438199C0161","component_type_id":"15","data_id":"630","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for file in $(ls .\/protein_cluster_rel_abund_table\/abundance_from_sam); do\n\tmv .\/protein_cluster_rel_abund_table\/abundance_from_sam\/\"${file}\" .\/protein_cluster_rel_abund_table\/abundance_from_sam\/\"${file\/%.sam\/.txt}\"\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141757","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"58FC2E9F0E4740B79F78651A0943C2E0","previous_guid":"68D48703B6FD4E6E8B82D88FA8CFBF24","previous_id":"141756","last_modified":"1457537938","components":[{"component_id":"148819","previous_id":0,"original_id":"0","guid":"865CE628A8AB4951BD7610082C831FB7","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Add in OPF length information using awk and calculate RPKM.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Add in OPF length information using awk and calculate RPKM."},"is_project":0},{"component_id":"148820","previous_id":"148819","original_id":"0","guid":"8481A66967C74D7EB91007A8D80D198D","previous_guid":"865CE628A8AB4951BD7610082C831FB7","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148821","previous_id":"148820","original_id":"0","guid":"AF0D2DE0155D457CB87B361B7318F348","previous_guid":"8481A66967C74D7EB91007A8D80D198D","component_type_id":"15","data_id":"631","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/protein_cluster_rel_abund_table\/abundance_with_length\nfor file in $(ls .\/protein_cluster_rel_abund_table\/abundance_from_sam); do\n\texport SUM=$(awk '{ SUM += $2 } END { print SUM }' .\/protein_cluster_rel_abund_table\/abundance_from_sam\/${file})","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141758","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"1CA51BFBC02F46109E07D802B62B6B4A","previous_guid":"58FC2E9F0E4740B79F78651A0943C2E0","previous_id":"141757","last_modified":"1457537938","components":[{"component_id":"148822","previous_id":0,"original_id":"0","guid":"70112341FEDE4C3DAB023D31D61625B7","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Add an echo of the sum value to confirm that the sum is being calculated.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Add an echo of the sum value to confirm that the sum is being calculated."},"is_project":0},{"component_id":"148823","previous_id":"148822","original_id":"0","guid":"EC99CCEE04A242A083F119EE3D236C71","previous_guid":"70112341FEDE4C3DAB023D31D61625B7","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148824","previous_id":"148823","original_id":"0","guid":"60400783C7FA45F6A048B0FBCFA91767","previous_guid":"EC99CCEE04A242A083F119EE3D236C71","component_type_id":"15","data_id":"632","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Sum is $SUM\n\tawk --assign=sum=$SUM 'FNR==NR { a[$1]=$2; next } $1 in a { print $1\"\\t\"$2\"\\t\"a[$1]\"\\t\"$2*1000000000\/(a[$1]*sum) }' .\/define_core_protein_clusters\/protein_cluster_length_no_greater_sign.txt .\/protein_cluster_rel_abund_table\/abundance_from_sam\/${file} > .\/protein_cluster_rel_abund_table\/abundance_with_length\/${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141759","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"F8C879CCEAEF43CA87ACA7E21223EDB1","previous_guid":"1CA51BFBC02F46109E07D802B62B6B4A","previous_id":"141758","last_modified":"1457537938","components":[{"component_id":"148825","previous_id":0,"original_id":"0","guid":"FBF66B7502714D27B954C64ECEF83F39","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get columns of only the contig IDs and the normalized RPKM abundance counts and add sample name to top of column for when this is used in distance matrix calculations,","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get columns of only the contig IDs and the normalized RPKM abundance counts and add sample name to top of column for when this is used in distance matrix calculations,"},"is_project":0},{"component_id":"148826","previous_id":"148825","original_id":"0","guid":"19916AE32C234FC6B8A848D1E89F7857","previous_guid":"FBF66B7502714D27B954C64ECEF83F39","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148827","previous_id":"148826","original_id":"0","guid":"FB9E953A74F447CD9EB558019700EE79","previous_guid":"19916AE32C234FC6B8A848D1E89F7857","component_type_id":"15","data_id":"633","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/protein_cluster_rel_abund_table\/abundance_RPKM_with_only_contig_id\nfor file in $(ls .\/protein_cluster_rel_abund_table\/abundance_with_length); do\n\tNAME=$(echo ${file} | sed 's\/_R1\\.txt\/\/')\n\techo Name is $NAME\n\tcut -f 1,4 .\/protein_cluster_rel_abund_table\/abundance_with_length\/${file} | sed \"1 s\/^\/Contig_ID\\t${NAME}\\n\/\" > .\/protein_cluster_rel_abund_table\/abundance_RPKM_with_only_contig_id\/${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141760","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"9ADF1E440B144160B84A5A8A68FA95E8","previous_guid":"F8C879CCEAEF43CA87ACA7E21223EDB1","previous_id":"141759","last_modified":"1457537938","components":[{"component_id":"148828","previous_id":0,"original_id":"0","guid":"EBF86B1F383345B19805543E7F0F0298","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Make master list of the contig numbers as a reference for mergin the data matrix values.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Make master list of the contig numbers as a reference for mergin the data matrix values."},"is_project":0},{"component_id":"148829","previous_id":"148828","original_id":"0","guid":"B04F7C6EEA5D4CA180F0791F0860F5F6","previous_guid":"EBF86B1F383345B19805543E7F0F0298","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148830","previous_id":"148829","original_id":"0","guid":"051D8D94A9F4426D8C58821B7767E877","previous_guid":"B04F7C6EEA5D4CA180F0791F0860F5F6","component_type_id":"15","data_id":"634","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sed -n 1~2p .\/define_core_protein_clusters\/protein_clusters.fa | sed s'\/>\/\/g' | sed '1 s\/^\/Contig_ID\\n\/' > .\/define_core_protein_clusters\/master_contig_list.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141761","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"19DBFFDBE7664DBBB4051CC618F4330D","previous_guid":"9ADF1E440B144160B84A5A8A68FA95E8","previous_id":"141760","last_modified":"1457537938","components":[{"component_id":"148831","previous_id":0,"original_id":"0","guid":"FAA53A35A64941F8B8A4C7097862F58A","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Merge the sample hit files to the master OPF list. After this runs, all of the resulting files should have the same number of lines because they were all merged with the same master list.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Merge the sample hit files to the master OPF list. After this runs, all of the resulting files should have the same number of lines because they were all merged with the same master list."},"is_project":0},{"component_id":"148832","previous_id":"148831","original_id":"0","guid":"F21BAA474F804A2A811B910A8044CE8F","previous_guid":"FAA53A35A64941F8B8A4C7097862F58A","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148833","previous_id":"148832","original_id":"0","guid":"EBCACB9BE00B4C999DEA5D14287FB940","previous_guid":"F21BAA474F804A2A811B910A8044CE8F","component_type_id":"15","data_id":"635","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/protein_cluster_rel_abund_table\/RPKM_contig_count_on_master_list\nfor file in $(ls .\/protein_cluster_rel_abund_table\/abundance_RPKM_with_only_contig_id); do\n    awk 'FNR==NR {a[$1]=$2;next}{ print $1\"\\t\"a[$1] }' .\/protein_cluster_rel_abund_table\/abundance_RPKM_with_only_contig_id\/${file} .\/define_core_protein_clusters\/master_contig_list.txt | sed '\/[0-9]\\t[0-9]\/!s\/$\/0\/' | sed '1 s\/\\t0\/\/' | sed '1 s\/0$\/\/' > .\/protein_cluster_rel_abund_table\/RPKM_contig_count_on_master_list\/${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141762","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"9299E6E03EBE4C0387415A776F93A906","previous_guid":"19DBFFDBE7664DBBB4051CC618F4330D","previous_id":"141761","last_modified":"1457537938","components":[{"component_id":"148834","previous_id":0,"original_id":"0","guid":"A57DCFF8F22B4C21B698E33B3AAD93DE","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get only the abundance values so that they can be merged to the master contig list and used for distance matrix calculations.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get only the abundance values so that they can be merged to the master contig list and used for distance matrix calculations."},"is_project":0},{"component_id":"148835","previous_id":"148834","original_id":"0","guid":"51B4484FC703406BB9128CAFA0D82340","previous_guid":"A57DCFF8F22B4C21B698E33B3AAD93DE","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148836","previous_id":"148835","original_id":"0","guid":"4F6C9A3937C84AEDAA56AB80F4133E76","previous_guid":"51B4484FC703406BB9128CAFA0D82340","component_type_id":"15","data_id":"636","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/protein_cluster_rel_abund_table\/abundance_RPKM_for_merge\nfor file in $(ls .\/protein_cluster_rel_abund_table\/RPKM_contig_count_on_master_list); do\n    cut -f 2 .\/protein_cluster_rel_abund_table\/RPKM_contig_count_on_master_list\/$file > .\/protein_cluster_rel_abund_table\/abundance_RPKM_for_merge\/${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141763","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"F7FB1C29E1BD40AFB1E6D8781EE3B83E","previous_guid":"9299E6E03EBE4C0387415A776F93A906","previous_id":"141762","last_modified":"1457537938","components":[{"component_id":"148837","previous_id":0,"original_id":"0","guid":"9074CF8DA4B2456DB3C51306DFB46535","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Merge the abundances with the OPF names.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Merge the abundances with the OPF names."},"is_project":0},{"component_id":"148838","previous_id":"148837","original_id":"0","guid":"44BE91AFD2834206A934D7B6258E8E2E","previous_guid":"9074CF8DA4B2456DB3C51306DFB46535","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148839","previous_id":"148838","original_id":"0","guid":"8FD1B75DFF3F44AC91478FF3F36DDDB6","previous_guid":"44BE91AFD2834206A934D7B6258E8E2E","component_type_id":"15","data_id":"637","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"paste .\/define_core_protein_clusters\/master_contig_list.txt .\/protein_cluster_rel_abund_table\/abundance_RPKM_for_merge\/* > .\/protein_cluster_rel_abund_table\/contig_otu_table.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141764","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"D7783B0CB9FB4F63A37784437AF82E9A","previous_guid":"F7FB1C29E1BD40AFB1E6D8781EE3B83E","previous_id":"141763","last_modified":"1457537938","components":[{"component_id":"148840","previous_id":0,"original_id":"0","guid":"3D12CB3A5E824AF786FEED8DA8D4D0F1","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Format the contig IDs.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Format the contig IDs."},"is_project":0},{"component_id":"148841","previous_id":"148840","original_id":"0","guid":"8989C48318984B64BDDB7E8B261D155B","previous_guid":"3D12CB3A5E824AF786FEED8DA8D4D0F1","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148842","previous_id":"148841","original_id":"0","guid":"4CC7F490297B4B458C6171C5B1C178BE","previous_guid":"8989C48318984B64BDDB7E8B261D155B","component_type_id":"15","data_id":"638","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sed 's\/|.*|\\S*\\t\/\\t\/' .\/protein_cluster_rel_abund_table\/contig_otu_table.txt > .\/protein_cluster_rel_abund_table\/contig_otu_table_format.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141765","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"373D84B14C3D4BE5ABB989A3E6CD55C2","previous_guid":"D7783B0CB9FB4F63A37784437AF82E9A","previous_id":"141764","last_modified":"1457537938","components":[{"component_id":"148843","previous_id":0,"original_id":"0","guid":"46BAC2A450F24B26B6D4E8CB2E4F2CDE","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Transpose the files.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Transpose the files."},"is_project":0},{"component_id":"148844","previous_id":"148843","original_id":"0","guid":"88222783582F44BFB437FD297D260558","previous_guid":"46BAC2A450F24B26B6D4E8CB2E4F2CDE","component_type_id":"6","data_id":"0","data":"Operational Protein Family Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Operational Protein Family Analysis"},"is_project":0},{"component_id":"148845","previous_id":"148844","original_id":"0","guid":"88F403EE0A244AD889A1D4A5776F8F6C","previous_guid":"88222783582F44BFB437FD297D260558","component_type_id":"26","data_id":"10251","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10251","thread_id":"10251","id":"10251","thread_title":"Annotation on step 29 of Script P11: Functional Analysis","uri":"annotation-on-step-29-of-script-p11-functional-analysis","thread_uri":"annotation-on-step-29-of-script-p11-functional-analysis","step_id":"141765","protocol_uri":"Script-P11-Functional-Analysis-ehubb6w","protocol_name":"Script P11: Functional Analysis","protocol_name_html":"Script P11: Functional Analysis","annotation":"This relative abundance table can now be used in R for further analysis.","thread_text":"This relative abundance table can now be used in R for further analysis.","body":"This relative abundance table can now be used in R for further analysis.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454623799","created_on":"1454623799","modified_on":"1457537938","last_updated":"1457537938","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"148846","previous_id":"148845","original_id":"0","guid":"D7CDA76E915442AFA2687DA6FD489BED","previous_guid":"88F403EE0A244AD889A1D4A5776F8F6C","component_type_id":"15","data_id":"639","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"python transpose_tab_delim.py -i .\/protein_cluster_rel_abund_table\/contig_otu_table_format.tsv -o .\/protein_cluster_rel_abund_table\/contig_otu_table_transposed.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]}]}