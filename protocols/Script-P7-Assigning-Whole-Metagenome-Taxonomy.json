{"uri":"Script-P7-Assigning-Whole-Metagenome-Taxonomy-egubbww","version_id":"0","protocol_name":"Script P7: Assigning Whole Metagenome Taxonomy","protocol_name_html":"Script P7: Assigning Whole Metagenome Taxonomy","is_prepublished":"0","can_edit":"0","parent_id":null,"api_version":"2","is_new_mode":"1","last_modified":"1521007201","type_id":"1","link":"http:\/\/mbio.asm.org\/content\/6\/5\/e01578-15.full","fork_id":"","public_fork_note":"","number_of_steps":"30","has_versions":"0","first_published_date":"1457616125","publish_date":"2016-03-11 02:59:16","documents":"null","have_protocol_in_step":"0","is_protocol_in_step":"0","vendor_name":"Contributed by users","vendor_link":"https:\/\/www.protocols.io","vendor_logo":"\/img\/vendors\/1.png","mod_mins":"-45","mod_secs":"1","description":"This protocol provides a method for assigning whole metagenome taxonomy using MetaPhlAn and MEGAN toolkits. Based on the methods from the following publication:<br \/><br \/>Hannigan, Geoffrey D., et al. \"The Human Skin Double-Stranded DNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and Dynamic Associations with the Host Microbiome.\"\u00a0<em>mBio<\/em>\u00a06.5 (2015): e01578-15.","is_bookmarked":"0","can_reassign":"1","before_start":"Perl scripts and other supplementary information available at :\u00a0<br \/><br \/><a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248<\/a>","has_guidelines":"1","materials":[],"warning":"","version_class":"2292","public":"1","is_owner":"1","is_original_owner":"1","created_on":"1454002142","protocol_affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","affiliation":"Merck Research Labs","doi":"dx.doi.org\/10.17504\/protocols.io.egubbww","doi_status":"2","changed_fork_steps":null,"profile_url":"Geoffrey-w2y254v2q2","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","created_by":"Geoffrey Hannigan","private_link":"2352051CE57A2534A5D5C919F7773D17","original_img":"1","username":"geoffrey-hannigan","is_retracted":"0","retraction_reason":null,"plos_id":null,"manuscript_citation":null,"journal_name":null,"is_donations_disabled":"0","is_donations_disabled_by_user":"9","item_record_id":226776,"fork_info":[],"compare_forks":[],"protocols":[],"groups":[{"group_id":"45","group_uri":"verve-net","group_name":"VERVE Net","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/cdqcwwe.png","requested_uid":null,"request_flag":null,"my_request":"1"},{"group_id":"138","group_uri":"club-grice","group_name":"Club Grice","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/cp7dzme.png","requested_uid":null,"request_flag":null,"my_request":"1"}],"number_of_shared_runs":[],"ownership_history":[],"keywords":"","transfer_to_user":[],"sub_transfer":false,"is_transfer_pending":false,"number_of_bookmarks":"0","collections":[{"protocol_name":"The Human Skin dsDNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and its Dynamic Associations with the Host Microbiome","protocol_name_html":"The Human Skin dsDNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and its Dynamic Associations with the Host Microbiome","uri":"The-Human-Skin-dsDNA-Virome-Topographical-and-Temp-ekubcww","username":"geoffrey-hannigan","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","full_name":"Geoffrey Hannigan"}],"tags":[],"archived":0,"sub_authors":[],"sub_protocols_number":0,"can_edit_shared":0,"shared_runs":[],"is_shared_run":0,"is_shared":1,"banner":null,"contact_badges":[{"badge_id":"4","badge_image":"\/img\/badges\/gold.svg","badge_description":"Gold power author!"},{"badge_id":"5","badge_image":"\/img\/badges\/earlyadopter.svg","badge_description":"Early adopter"},{"badge_id":"6","badge_image":"\/img\/badges\/socialbutterfly.svg","badge_description":"Social butterfly"}],"number_of_comments":0,"is_locked":0,"is_locked_by":false,"authors":"HANNIGAN GD, GRICE EA, ET AL.","authors_list":[{"name":"HANNIGAN GD","affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null},{"name":" GRICE EA","affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null},{"name":" ET AL.","affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null}],"user":{"profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","username":"geoffrey-hannigan","full_name":"Geoffrey Hannigan","created_by":"Geoffrey Hannigan"},"access":{"can_view":"1","can_remove":"0","can_add":"0","can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":"0","can_move":"1","can_transfer":"1","can_download":"1","is_locked":"0"},"is_contact_suspended":0,"guidelines":"<strong>Required Software:<\/strong><br \/>\n<ul>\n<li>MetaPhlAn v1.7.7<\/li>\n<li>prinseq-lite-0.20.3<\/li>\n<li>NCBI's BLAST + v 2.2.0<\/li>\n<li>MEGAN v5.5.3<\/li>\n<\/ul>\n<strong><br \/>Relevant Files<\/strong><br \/>Output:<br \/>\n<ul>\n<li>MetaPhlAn\/skinmet_metaphlan_merged_output_genera.txt<\/li>\n<li>MEGAN\/megan_sk.txt<\/li>\n<li>MEGAN\/megan_genera_bacteria.txt<\/li>\n<li>MEGAN\/megan_genera_eukaryotes.txt<\/li>\n<li>MEGAN\/eukaryote_counts.txt<\/li>\n<li>MEGAN\/megan_genera-viruses.txt<\/li>\n<\/ul>\nPerl scripts: parse_megan_output.pl<br \/>R scripts: <a href=\"https:\/\/www.protocols.io\/view\/Script-R8-Plotting-Bacterial-Taxonomy-from-MetaPhl-ejbbcin\" target=\"_blank\">R8<\/a>, <a href=\"https:\/\/www.protocols.io\/view\/Script-R9-Plotting-Microbial-Taxonomy-from-MEGAN-ejdbci6\" target=\"_blank\">R9<\/a>","status_id":"1","is_research":"1","status_info":null,"steps":[{"id":"141156","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"33311DB04AD9466BB09F7E7884BC8CF3","previous_guid":null,"previous_id":"0","last_modified":"1457537777","components":[{"component_id":"147465","previous_id":0,"original_id":"0","guid":"B014FFF8CC6F41AAA0674A4F9643AB41","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Generate a new working directory.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Generate a new working directory."},"is_project":0},{"component_id":"147478","previous_id":"147465","original_id":"0","guid":"4E9031F986A04C04905B5FF36AF4A1CD","previous_guid":"B014FFF8CC6F41AAA0674A4F9643AB41","component_type_id":"6","data_id":"0","data":"MetaPhlAn","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MetaPhlAn"},"is_project":0},{"component_id":"147479","previous_id":"147478","original_id":"0","guid":"EE59DD22CF2847BDB825D1AB912BDCEA","previous_guid":"4E9031F986A04C04905B5FF36AF4A1CD","component_type_id":"15","data_id":"446","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir MetaPhlAn_trimmed\nmkdir MetaPhlAn_trimmed\/input_reads","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141162","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"FBF46594148A44148902BC2C3EA2B53D","previous_guid":"33311DB04AD9466BB09F7E7884BC8CF3","previous_id":"141156","last_modified":"1457537777","components":[{"component_id":"147481","previous_id":0,"original_id":"0","guid":"57679021F34142A8B013B988099AD343","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Make function to remove sequences less than 80 nucleotides long using PRINSEQ.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Make function to remove sequences less than 80 nucleotides long using PRINSEQ."},"is_project":0},{"component_id":"147482","previous_id":"147481","original_id":"0","guid":"0D2BC978C79843BDA89229CAA46B8F15","previous_guid":"57679021F34142A8B013B988099AD343","component_type_id":"6","data_id":"0","data":"MetaPhlAn","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MetaPhlAn"},"is_project":0},{"component_id":"147577","previous_id":"147482","original_id":"0","guid":"C8B6BAC8BC1A4A21933C911286EDA008","previous_guid":"0D2BC978C79843BDA89229CAA46B8F15","component_type_id":"8","data_id":"30","data":null,"order_id":"2","name":"Software package","data_by_id":"1","type_id":"8","source_data":{"id":"30","name":"PRINSEQ","developer":"Schmieder R and Edwards R","repository":"","link":"http:\/\/prinseq.sourceforge.net\/","os_name":"Unix","os_version":"","version":"0.20.3","can_edit":"0"},"is_project":0},{"component_id":"147483","previous_id":"147577","original_id":"0","guid":"6CECA2DB0D9242858B3C4229F8A23ABF","previous_guid":"C8B6BAC8BC1A4A21933C911286EDA008","component_type_id":"26","data_id":"10181","data":"","order_id":"3","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10181","thread_id":"10181","id":"10181","thread_title":"Annotation on step 2 of Script P7: Assigning Whole Metagenome Taxonomy","uri":"annotation-on-step-2-of-script-p7-assigning-whole","thread_uri":"annotation-on-step-2-of-script-p7-assigning-whole","step_id":"141162","protocol_uri":"Script-P7-Assigning-Whole-Metagenome-Taxonomy-egubbww","protocol_name":"Script P7: Assigning Whole Metagenome Taxonomy","protocol_name_html":"Script P7: Assigning Whole Metagenome Taxonomy","annotation":"Technically, you can input your raw sequences into MetaPhlAn, but for optimal results, we are using our quality filtered, human and phix decontaminated sequences. Additionally, we want to remove any sequences less than 80 nt long. We do this using the program PRINSEQ.","thread_text":"Technically, you can input your raw sequences into MetaPhlAn, but for optimal results, we are using our quality filtered, human and phix decontaminated sequences. Additionally, we want to remove any sequences less than 80 nt long. We do this using the program PRINSEQ.","body":"Technically, you can input your raw sequences into MetaPhlAn, but for optimal results, we are using our quality filtered, human and phix decontaminated sequences. Additionally, we want to remove any sequences less than 80 nt long. We do this using the program PRINSEQ.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454006225","created_on":"1454006225","modified_on":"1457537777","last_updated":"1457537777","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"147578","previous_id":"147483","original_id":"0","guid":"D080A59C2A7B470B8A6397B9BF8554DD","previous_guid":"6CECA2DB0D9242858B3C4229F8A23ABF","component_type_id":"26","data_id":"10185","data":"","order_id":"4","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10185","thread_id":"10185","id":"10185","thread_title":"Annotation on step 2 of Script P7: Assigning Whole Metagenome Taxonomy","uri":"annotation-on-step-2-of-script-p7-assigning-whole1","thread_uri":"annotation-on-step-2-of-script-p7-assigning-whole1","step_id":"141162","protocol_uri":"Script-P7-Assigning-Whole-Metagenome-Taxonomy-egubbww","protocol_name":"Script P7: Assigning Whole Metagenome Taxonomy","protocol_name_html":"Script P7: Assigning Whole Metagenome Taxonomy","annotation":"Technically, you can input your raw sequences into MetaPhlAn, but for optimal results, we are using our quality filtered, human and phix decontaminated sequences. Additionally, we want to remove any sequences less than 80 nt long. We do this using the program PRINSEQ.","thread_text":"Technically, you can input your raw sequences into MetaPhlAn, but for optimal results, we are using our quality filtered, human and phix decontaminated sequences. Additionally, we want to remove any sequences less than 80 nt long. We do this using the program PRINSEQ.","body":"Technically, you can input your raw sequences into MetaPhlAn, but for optimal results, we are using our quality filtered, human and phix decontaminated sequences. Additionally, we want to remove any sequences less than 80 nt long. We do this using the program PRINSEQ.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454007484","created_on":"1454007484","modified_on":"1457537777","last_updated":"1457537777","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"147484","previous_id":"147578","original_id":"0","guid":"02718DA491844DECA77E3775EF80C7F5","previous_guid":"D080A59C2A7B470B8A6397B9BF8554DD","component_type_id":"15","data_id":"447","data":null,"order_id":"5","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"remove.short.reads() {\n\tperl prinseq-lite-0.20.3\/prinseq-lite.pl -min_len 80 -fastq .\/clean_phix_fastq\/${1}.fastq -out_good .\/MetaPhlAn_trimmed\/input_reads\/${1}_trimmed -out_bad null\n}","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141163","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"04AE3CF8EAC44850B967C301ED6FB532","previous_guid":"FBF46594148A44148902BC2C3EA2B53D","previous_id":"141162","last_modified":"1457537777","components":[{"component_id":"147485","previous_id":0,"original_id":"0","guid":"1F6AFFCF208640D19AF00A11367EC862","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Export and run function.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Export and run function."},"is_project":0},{"component_id":"147486","previous_id":"147485","original_id":"0","guid":"6C43B071894F4C63B9283F459B0559DD","previous_guid":"1F6AFFCF208640D19AF00A11367EC862","component_type_id":"6","data_id":"0","data":"MetaPhlAn","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MetaPhlAn"},"is_project":0},{"component_id":"147487","previous_id":"147486","original_id":"0","guid":"B09AE4372E22410FB6DBFDFB0B2CC6F7","previous_guid":"6C43B071894F4C63B9283F459B0559DD","component_type_id":"15","data_id":"448","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"export -f remove.short.reads\nls .\/clean_phix_fastq\/*R1* | sed -e 's\/^.*\\\/.*\\\/\/\/g' | sed 's\/\\.fastq\/\/g' | xargs -I {} --max-procs=128 sh -c 'remove.short.reads {}'","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141164","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"8B272DEBB59E4C69921A82FDA8820692","previous_guid":"04AE3CF8EAC44850B967C301ED6FB532","previous_id":"141163","last_modified":"1457537777","components":[{"component_id":"147488","previous_id":0,"original_id":"0","guid":"EE65E289CCDA436E9E1C50ED81086C93","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Move to the working directory.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Move to the working directory."},"is_project":0},{"component_id":"147489","previous_id":"147488","original_id":"0","guid":"465F33D066D4464FB8E8352CEE9C303F","previous_guid":"EE65E289CCDA436E9E1C50ED81086C93","component_type_id":"6","data_id":"0","data":"MetaPhlAn","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MetaPhlAn"},"is_project":0},{"component_id":"147490","previous_id":"147489","original_id":"0","guid":"6C7AD8A4A62F443D8A4A6EDF8BB7E683","previous_guid":"465F33D066D4464FB8E8352CEE9C303F","component_type_id":"15","data_id":"449","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd MetaPhlAn_trimmed","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141165","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"68B4A9D598954160A401F51AAAD8E5AF","previous_guid":"8B272DEBB59E4C69921A82FDA8820692","previous_id":"141164","last_modified":"1457537777","components":[{"component_id":"147491","previous_id":0,"original_id":"0","guid":"88B183055B05429D84A0E898713BC334","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Make MetaPhlAn function.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Make MetaPhlAn function."},"is_project":0},{"component_id":"147492","previous_id":"147491","original_id":"0","guid":"5BA850EA6A734743A63D80182C8D3854","previous_guid":"88B183055B05429D84A0E898713BC334","component_type_id":"6","data_id":"0","data":"MetaPhlAn","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MetaPhlAn"},"is_project":0},{"component_id":"147582","previous_id":"147492","original_id":"0","guid":"45312DC367C64886881059F38D539552","previous_guid":"5BA850EA6A734743A63D80182C8D3854","component_type_id":"8","data_id":"16","data":null,"order_id":"2","name":"Software package","data_by_id":"1","type_id":"8","source_data":{"id":"16","name":"MetaPhlAn","developer":"Curtis Huttenhower","repository":"","link":"https:\/\/bitbucket.org\/nsegata\/metaphlan\/wiki\/Home","os_name":"Unix","os_version":"","version":"1.7.8","can_edit":"0"},"is_project":0},{"component_id":"147493","previous_id":"147582","original_id":"0","guid":"2FBAB23A40434ABFA11136E08C38E633","previous_guid":"45312DC367C64886881059F38D539552","component_type_id":"15","data_id":"450","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"run.metaphlan() {\n    # Look at all taxa assignments\n    python metaphlan\/metaphlan.py --bowtie2db metaphlan\/bowtie2db\/mpa .\/input_reads\/${1}.fastq --tax_lev 'a' --no_map --nproc 18 --output_file .\/MetaPhlAn_trimmed\/${1}_metaphlan_all.txt\n    # Look at phyla level assignments\n    python metaphlan\/metaphlan.py --bowtie2db metaphlan\/bowtie2db\/mpa .\/input_reads\/${1}.fastq --tax_lev 'p' --no_map --nproc 18 --output_file .\/MetaPhlAn_trimmed\/${1}_metaphlan_phyla.txt\n    # Look at genera level assignments\n    python metaphlan\/metaphlan.py --bowtie2db metaphlan\/bowtie2db\/mpa .\/input_reads\/${1}.fastq --tax_lev 'g' --no_map --nproc 18 --output_file .\/MetaPhlAn_trimmed\/${1}_metaphlan_genera.txt\n    # Look at species level assignments\n    python metaphlan\/metaphlan.py --bowtie2db metaphlan\/bowtie2db\/mpa .\/input_reads\/${1}.fastq --tax_lev 's' --no_map --nproc 18 --output_file .\/MetaPhlAn_trimmed\/${1}_metaphlan_species.txt\n\n}","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141166","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"0182325739C84B7D88C3F6D2F4025739","previous_guid":"68B4A9D598954160A401F51AAAD8E5AF","previous_id":"141165","last_modified":"1457537777","components":[{"component_id":"147494","previous_id":0,"original_id":"0","guid":"EA7D6D66465C4187A4A195CC17F1A57D","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Export and run function.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Export and run function."},"is_project":0},{"component_id":"147495","previous_id":"147494","original_id":"0","guid":"E26C2B78480D41C5BA2A38D802E883C9","previous_guid":"EA7D6D66465C4187A4A195CC17F1A57D","component_type_id":"6","data_id":"0","data":"MetaPhlAn","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MetaPhlAn"},"is_project":0},{"component_id":"147496","previous_id":"147495","original_id":"0","guid":"314B2DC2BE4D47C8B6EFBB1D9D58D3B7","previous_guid":"E26C2B78480D41C5BA2A38D802E883C9","component_type_id":"15","data_id":"451","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"export -f run.metaphlan\nls .\/input_reads\/ | sed -e 's\/^.*\\\/.*\\\/\/\/g' | sed 's\/\\.fastq\/\/g' | xargs -I {} --max-procs=128 sh -c 'run.metaphlan {}'","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141167","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"A4ECE596533645E893F7E130B082E3B5","previous_guid":"0182325739C84B7D88C3F6D2F4025739","previous_id":"141166","last_modified":"1457537777","components":[{"component_id":"147497","previous_id":0,"original_id":"0","guid":"C9F971A038224B7E9D3F62734ABC5119","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Merge MetaPhlAn output for individual samples into one data table.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Merge MetaPhlAn output for individual samples into one data table."},"is_project":0},{"component_id":"147498","previous_id":"147497","original_id":"0","guid":"82A6BC4A28DC48258A66C653698F453C","previous_guid":"C9F971A038224B7E9D3F62734ABC5119","component_type_id":"6","data_id":"0","data":"MetaPhlAn","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MetaPhlAn"},"is_project":0},{"component_id":"147499","previous_id":"147498","original_id":"0","guid":"4F6779A225484826AC09C6DF73C8D7E8","previous_guid":"82A6BC4A28DC48258A66C653698F453C","component_type_id":"26","data_id":"10182","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10182","thread_id":"10182","id":"10182","thread_title":"Annotation on step 7 of Script P7: Assigning Whole Metagenome Taxonomy","uri":"annotation-on-step-7-of-script-p7-assigning-whole","thread_uri":"annotation-on-step-7-of-script-p7-assigning-whole","step_id":"141167","protocol_uri":"Script-P7-Assigning-Whole-Metagenome-Taxonomy-egubbww","protocol_name":"Script P7: Assigning Whole Metagenome Taxonomy","protocol_name_html":"Script P7: Assigning Whole Metagenome Taxonomy","annotation":"MetaPhlAn allows you to merge the output for each individual sample into one table, where the rows are the taxa and the columns are the samples.","thread_text":"MetaPhlAn allows you to merge the output for each individual sample into one table, where the rows are the taxa and the columns are the samples.","body":"MetaPhlAn allows you to merge the output for each individual sample into one table, where the rows are the taxa and the columns are the samples.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454006225","created_on":"1454006225","modified_on":"1457537777","last_updated":"1457537777","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"147500","previous_id":"147499","original_id":"0","guid":"49AA721E24114A43A86C2C26DB3F161C","previous_guid":"4F6779A225484826AC09C6DF73C8D7E8","component_type_id":"15","data_id":"452","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"python metaphlan\/utils\/merge_metaphlan_tables.py *all.txt > skinmet_metaphlan_merged_output_all.txt\npython metaphlan\/utils\/merge_metaphlan_tables.py *phyla.txt > skinmet_metaphlan_merged_output_phyla.txt\npython metaphlan\/utils\/merge_metaphlan_tables.py *genera.txt > skinmet_metaphlan_merged_output_genera.txt\npython metaphlan\/utils\/merge_metaphlan_tables.py *species.txt > skinmet_metaphlan_merged_output_species.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141168","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"B32A1A4E89C4479D8542916BB86AB128","previous_guid":"A4ECE596533645E893F7E130B082E3B5","previous_id":"141167","last_modified":"1457537777","components":[{"component_id":"147501","previous_id":0,"original_id":"0","guid":"7848925322DB47DEB5DDFE5F508FE05B","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Generate a biom file from the merged output.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Generate a biom file from the merged output."},"is_project":0},{"component_id":"147502","previous_id":"147501","original_id":"0","guid":"196343EED08D4AF3AB9D50D5ACBBDCC1","previous_guid":"7848925322DB47DEB5DDFE5F508FE05B","component_type_id":"6","data_id":"0","data":"MetaPhlAn","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MetaPhlAn"},"is_project":0},{"component_id":"147503","previous_id":"147502","original_id":"0","guid":"6C63EC5039984A8DBD4DF9684AAD5F1C","previous_guid":"196343EED08D4AF3AB9D50D5ACBBDCC1","component_type_id":"15","data_id":"453","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"python metaphlan\/conversion_scripts\/metaphlan2biom.py skinmet_metaphlan_merged_output_all.txt > skinmet_metaphlan_merged_output_all.biom","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141169","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"1B84E954D30E41B98D8DD8304F1F97F9","previous_guid":"B32A1A4E89C4479D8542916BB86AB128","previous_id":"141168","last_modified":"1457537777","components":[{"component_id":"147504","previous_id":0,"original_id":"0","guid":"87D82F6549FE49BE83959F8E9A658021","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Finally, we want to clean up our directory so it is easier to work with. We make a directory for each type of output (merged, all taxa, phyla only, genera only, and species only outputs).","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Finally, we want to clean up our directory so it is easier to work with. We make a directory for each type of output (merged, all taxa, phyla only, genera only, and species only outputs)."},"is_project":0},{"component_id":"147505","previous_id":"147504","original_id":"0","guid":"0705D5E48225441A95F338E6B4480DC5","previous_guid":"87D82F6549FE49BE83959F8E9A658021","component_type_id":"6","data_id":"0","data":"MetaPhlAn","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MetaPhlAn"},"is_project":0},{"component_id":"147506","previous_id":"147505","original_id":"0","guid":"C787984F3784472BA01B8F2EEB70CC45","previous_guid":"0705D5E48225441A95F338E6B4480DC5","component_type_id":"15","data_id":"454","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir merged_output\nmv skinmet_metaphlan_merged_output_*.txt merged_output\nmv *biom merged_output\n\nmkdir all_taxa\nmv *all.txt all_taxa\n\nmkdir phyla \nmv *phyla.txt phyla\n\nmkdir genera \nmv *genera.txt genera\n\nmkdir species\nmv *species.txt species","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141170","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"83FAA2705F6F423A96A319F1A4467E42","previous_guid":"1B84E954D30E41B98D8DD8304F1F97F9","previous_id":"141169","last_modified":"1457537777","components":[{"component_id":"147507","previous_id":0,"original_id":"0","guid":"29757CAC2F4844FAB0A973FD9EEB6927","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Now that we have our taxonomy assignments, we can analyze the output in R.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Now that we have our taxonomy assignments, we can analyze the output in R."},"is_project":0},{"component_id":"147508","previous_id":"147507","original_id":"0","guid":"9DC34726F2524078A4921B757F8CF3F5","previous_guid":"29757CAC2F4844FAB0A973FD9EEB6927","component_type_id":"6","data_id":"0","data":"MetaPhlAn","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MetaPhlAn"},"is_project":0}]},{"id":"141171","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"2A39BC17B88647C28EC8F7C35BEB171B","previous_guid":"83FAA2705F6F423A96A319F1A4467E42","previous_id":"141170","last_modified":"1457537777","components":[{"component_id":"147509","previous_id":0,"original_id":"0","guid":"86EFA2DB3ADA418DA20701F93DCB015F","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<sup><\/sup>We ran MEGAN on the assembled contigs. To make our job easier, we first put all of the assembled contig fasta files for the individual samples into one directory.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<sup><\/sup>We ran MEGAN on the assembled contigs. To make our job easier, we first put all of the assembled contig fasta files for the individual samples into one directory."},"is_project":0},{"component_id":"147510","previous_id":"147509","original_id":"0","guid":"A9E5AE4FB30B4106BBE7B61F74C31812","previous_guid":"86EFA2DB3ADA418DA20701F93DCB015F","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147586","previous_id":"147510","original_id":"0","guid":"AD9393B20C274A43862AB3B83CC6E713","previous_guid":"A9E5AE4FB30B4106BBE7B61F74C31812","component_type_id":"8","data_id":"21","data":null,"order_id":"2","name":"Software package","data_by_id":"1","type_id":"8","source_data":{"id":"21","name":"MEGAN","developer":"D. H. Huson","repository":"","link":"http:\/\/ab.inf.uni-tuebingen.de\/software\/megan5\/","os_name":"Unix","os_version":"","version":"5.5.3","can_edit":"0"},"is_project":0},{"component_id":"147511","previous_id":"147586","original_id":"0","guid":"DF05661AB72C4740AE989D6E315C5F09","previous_guid":"AD9393B20C274A43862AB3B83CC6E713","component_type_id":"15","data_id":"455","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"# Move to directory containing the contigs. \ncd .\/Ray","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141172","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"3D57403522804AD9A0AA3074F110C801","previous_guid":"2A39BC17B88647C28EC8F7C35BEB171B","previous_id":"141171","last_modified":"1457537777","components":[{"component_id":"147512","previous_id":0,"original_id":"0","guid":"AB092934607F49DE88E613A84264441A","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Make a new directory for the contigs.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Make a new directory for the contigs."},"is_project":0},{"component_id":"147513","previous_id":"147512","original_id":"0","guid":"751F2502CC704DC2AE4700A526C31B78","previous_guid":"AB092934607F49DE88E613A84264441A","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147514","previous_id":"147513","original_id":"0","guid":"01AFFBF9ECDC4E22A440E080FAE8C783","previous_guid":"751F2502CC704DC2AE4700A526C31B78","component_type_id":"15","data_id":"456","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir sample_assembled_contigs","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141173","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"6194A7AA90144BF2B094E001ABC796B3","previous_guid":"3D57403522804AD9A0AA3074F110C801","previous_id":"141172","last_modified":"1457537777","components":[{"component_id":"147515","previous_id":0,"original_id":"0","guid":"C10F166354B847A0926AE50FCDBAC34D","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Copy fasta files into the new directory.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Copy fasta files into the new directory."},"is_project":0},{"component_id":"147516","previous_id":"147515","original_id":"0","guid":"2DCB2D98B5604483939D6B15C6EDAE9E","previous_guid":"C10F166354B847A0926AE50FCDBAC34D","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147517","previous_id":"147516","original_id":"0","guid":"2EE4C523EBA74ABBB8DB88213F51DB40","previous_guid":"2DCB2D98B5604483939D6B15C6EDAE9E","component_type_id":"15","data_id":"457","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for file in $(ls .\/ray_contigs_from_cat); do\n    cp .\/ray_contigs_from_cat\/$file\/${file}_Contigs_with_format.fa .\/sample_assembled_contigs\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141174","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"0B096B21A87C4AA1A03165BF4C85F532","previous_guid":"6194A7AA90144BF2B094E001ABC796B3","previous_id":"141173","last_modified":"1457537777","components":[{"component_id":"147518","previous_id":0,"original_id":"0","guid":"F5EE821407FA4EBC86CD97D27FA5DB1A","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Make a new directory for the MEGAN output.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Make a new directory for the MEGAN output."},"is_project":0},{"component_id":"147519","previous_id":"147518","original_id":"0","guid":"D4EF399FD03C4D9B9DA6F02FB2CEB5A6","previous_guid":"F5EE821407FA4EBC86CD97D27FA5DB1A","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147520","previous_id":"147519","original_id":"0","guid":"B3815B203D98421DA662947AEEB1B91D","previous_guid":"D4EF399FD03C4D9B9DA6F02FB2CEB5A6","component_type_id":"15","data_id":"458","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir MEGAN","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141175","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"3266588037FE49B0A54EF6647539B8D4","previous_guid":"0B096B21A87C4AA1A03165BF4C85F532","previous_id":"141174","last_modified":"1457537777","components":[{"component_id":"147521","previous_id":0,"original_id":"0","guid":"2D530EDCBD82446BB59C5DA979DFECD6","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Blast the assembled contigs against the NCBI nucleotide database. Use outfmt 5 since it can be directly input into MEGAN.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Blast the assembled contigs against the NCBI nucleotide database. Use outfmt 5 since it can be directly input into MEGAN."},"is_project":0},{"component_id":"147522","previous_id":"147521","original_id":"0","guid":"906AF5F97FE24DA5BD08E86BC00F6129","previous_guid":"2D530EDCBD82446BB59C5DA979DFECD6","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147523","previous_id":"147522","original_id":"0","guid":"9470DE313CFB48018FC5B1A7E920C375","previous_guid":"906AF5F97FE24DA5BD08E86BC00F6129","component_type_id":"15","data_id":"459","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for file in $(ls .\/sample_assembled_contigs); do\n    VARIABLE=${file\/_Contigs_with_format.fa\/.xml}\n    blastn -query .\/sample_assembled_contigs\/${file} -out .\/MEGAN\/${VARIABLE} -db references\/ncbi_blast_db\/nt -outfmt 5 -evalue 1e-10 -num_threads 12\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141176","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"3F7A90B0E09F4D4DB56E58EF45A01645","previous_guid":"3266588037FE49B0A54EF6647539B8D4","previous_id":"141175","last_modified":"1457537777","components":[{"component_id":"147524","previous_id":0,"original_id":"0","guid":"3418D0E582354CF3B576A132FDA8CDB2","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Move to the directory containing the input fasta files.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Move to the directory containing the input fasta files."},"is_project":0},{"component_id":"147525","previous_id":"147524","original_id":"0","guid":"64425FA54FC446B2B7B34B5906210E4E","previous_guid":"3418D0E582354CF3B576A132FDA8CDB2","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147526","previous_id":"147525","original_id":"0","guid":"FB50188B5B13454892331730BABC4410","previous_guid":"64425FA54FC446B2B7B34B5906210E4E","component_type_id":"15","data_id":"460","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd .\/Ray\/sample_assembled_contigs","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141177","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"5FE8B1D46E32405693EC7E67B9FBEF92","previous_guid":"3F7A90B0E09F4D4DB56E58EF45A01645","previous_id":"141176","last_modified":"1457537777","components":[{"component_id":"147527","previous_id":0,"original_id":"0","guid":"16D7ABA00C2E4EE99E24D7189ED1335A","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Make a directory for the MEGAN output (.rma) files.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Make a directory for the MEGAN output (.rma) files."},"is_project":0},{"component_id":"147528","previous_id":"147527","original_id":"0","guid":"8BCC166555D6427AB2BA08DD67704E76","previous_guid":"16D7ABA00C2E4EE99E24D7189ED1335A","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147529","previous_id":"147528","original_id":"0","guid":"69322B4BD0614631B0DD013C5E738A5C","previous_guid":"8BCC166555D6427AB2BA08DD67704E76","component_type_id":"15","data_id":"461","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir output","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141178","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"39C272159CE640C9A349B66EBB07220C","previous_guid":"5FE8B1D46E32405693EC7E67B9FBEF92","previous_id":"141177","last_modified":"1457537777","components":[{"component_id":"147530","previous_id":0,"original_id":"0","guid":"492F3B23898D4A33963D86CED58FD16C","previous_guid":null,"component_type_id":"1","data_id":"0","data":"For each sample write a command to the file that will be used to generate a MEGAN file. The MEGAN file is generated by importing the blast output and fasta file.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"For each sample write a command to the file that will be used to generate a MEGAN file. The MEGAN file is generated by importing the blast output and fasta file."},"is_project":0},{"component_id":"147531","previous_id":"147530","original_id":"0","guid":"8FD0FB18958046219D2150D05FE7F58F","previous_guid":"492F3B23898D4A33963D86CED58FD16C","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147532","previous_id":"147531","original_id":"0","guid":"6B558DF5172445B4BAF11811D15C6B97","previous_guid":"8FD0FB18958046219D2150D05FE7F58F","component_type_id":"15","data_id":"462","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for file in $(ls *.fa); do\nprintf 'import blastFile='\\'Ray\/MEGAN\/${file\/_Contigs_with_format.fa\/.xml}\\'' fastaFile='\\'Ray\/sample_assembled_contigs\/${file}\\'' meganFile='\\'Ray\/MEGAN\/output\/${file\/_Contigs_with_format.fa\/.rma}\\'' maxMatches=100 minScore=50.0 maxExpected=0.01 topPercent=10.0 minSupport=5 minComplexity=0.3 useMinimalCoverageHeuristic=false useSeed=false useCOG=false useKegg=false paired=false useIdentityFilter=false;\\n' >> Ray\/MEGAN\/MEGAN_file_generation_commands.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141179","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"200CD537AB1B4CE588A8BD01173A34AC","previous_guid":"39C272159CE640C9A349B66EBB07220C","previous_id":"141178","last_modified":"1457537777","components":[{"component_id":"147533","previous_id":0,"original_id":"0","guid":"C14B263166014A11B844273A03B1976F","previous_guid":null,"component_type_id":"1","data_id":"0","data":"For each sample write a command to the file that will be used to read a MEGAN file and output taxonomic classifications. Taxonomic classifications will be made at the Super Kingdom, Phylum, Genera, and Species levels.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"For each sample write a command to the file that will be used to read a MEGAN file and output taxonomic classifications. Taxonomic classifications will be made at the Super Kingdom, Phylum, Genera, and Species levels."},"is_project":0},{"component_id":"147534","previous_id":"147533","original_id":"0","guid":"B2418FD7C33845BE83E79F4B3C728DEB","previous_guid":"C14B263166014A11B844273A03B1976F","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147535","previous_id":"147534","original_id":"0","guid":"D5CD2BC4F0C245C086086091963ADB3D","previous_guid":"B2418FD7C33845BE83E79F4B3C728DEB","component_type_id":"15","data_id":"463","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for file in $(ls *.fa); do\nprintf 'open file='Ray\/MEGAN\/output\/${file\/_Contigs_with_format.fa\/.rma}';\\ncollapse rank=SuperKingdom;\\nselect nodes=all;\\nexport what=DSV format=taxonpath_count separator=tab counts=summarized file='Ray\/MEGAN\/output\/${file\/_Contigs_with_format.fa\/_super_kingdom.txt}';\\nselect nodes=none;\\nuncollapse nodes=all;\\nselect rank=Phylum;\\nexport what=DSV format=taxonpath_count separator=tab counts=summarized file='Ray\/MEGAN\/output\/${file\/_Contigs_with_format.fa\/_phyla.txt}';\\nselect nodes=none;\\nselect rank=Genus;\\nexport what=DSV format=taxonpath_count separator=tab counts=summarized file='Ray\/MEGAN\/output\/${file\/_Contigs_with_format.fa\/_genus.txt}';\\nselect nodes=none;\\nselect rank=Species;\\nexport what=DSV format=taxonpath_count separator=tab counts=summarized file='Ray\/MEGAN\/output\/${file\/_Contigs_with_format.fa\/_species.txt}';\\n'>> Ray\/MEGAN\/MEGAN_taxonomy_commands.txt\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141180","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"15E16BE9E7764DA2A887EB45F54E4F30","previous_guid":"200CD537AB1B4CE588A8BD01173A34AC","previous_id":"141179","last_modified":"1457537777","components":[{"component_id":"147536","previous_id":0,"original_id":"0","guid":"12673BC693034B83A040368A989A1B03","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Add a line to the end of the command files that tells MEGAN to exit.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Add a line to the end of the command files that tells MEGAN to exit."},"is_project":0},{"component_id":"147537","previous_id":"147536","original_id":"0","guid":"F270194E4C894CDF89BC01155B3F21F2","previous_guid":"12673BC693034B83A040368A989A1B03","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147538","previous_id":"147537","original_id":"0","guid":"EE6F98CF15A04686B52684693B0FDB95","previous_guid":"F270194E4C894CDF89BC01155B3F21F2","component_type_id":"15","data_id":"464","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"printf 'quit;\\n' >> .\/Ray\/MEGAN\/MEGAN_file_generation_commands.txt\nprintf 'quit;\\n' >> .\/Ray\/MEGAN\/MEGAN_taxonomy_commands.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141181","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"88C3C542E7104E35B4D8BDC6BAE05C8D","previous_guid":"15E16BE9E7764DA2A887EB45F54E4F30","previous_id":"141180","last_modified":"1457537777","components":[{"component_id":"147539","previous_id":0,"original_id":"0","guid":"69811BE8A6544C2380AE9DD1C299C127","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Move to the right working directory.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Move to the right working directory."},"is_project":0},{"component_id":"147540","previous_id":"147539","original_id":"0","guid":"803B664A91E24FBCA0ECD3EB4142D9CF","previous_guid":"69811BE8A6544C2380AE9DD1C299C127","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147541","previous_id":"147540","original_id":"0","guid":"778CD7767FCD4C7B92833DDEDF14D60C","previous_guid":"803B664A91E24FBCA0ECD3EB4142D9CF","component_type_id":"15","data_id":"465","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd Ray\/MEGAN","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141182","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"F806C85683B4497E932E84AAC1D12FC2","previous_guid":"88C3C542E7104E35B4D8BDC6BAE05C8D","previous_id":"141181","last_modified":"1457537777","components":[{"component_id":"147542","previous_id":0,"original_id":"0","guid":"166AF02A3D4A4A5296C428C257FC94AA","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Generate MEGAN files.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Generate MEGAN files."},"is_project":0},{"component_id":"147543","previous_id":"147542","original_id":"0","guid":"483E239CF2F2484681CFE989398E077F","previous_guid":"166AF02A3D4A4A5296C428C257FC94AA","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147544","previous_id":"147543","original_id":"0","guid":"34EE443544FB492D8816871A85CC55B6","previous_guid":"483E239CF2F2484681CFE989398E077F","component_type_id":"15","data_id":"466","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"xvfb-run --auto-servernum --server-num=1 \/appl\/MEGAN-5.5.3\/MEGAN -g -E -c Ray\/MEGAN\/MEGAN_file_generation_commands.txt > Ray\/MEGAN\/MEGAN_file_generation_commands.out","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141184","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"23C8C8CD55A4403C8D21974309D7A3F7","previous_guid":"F806C85683B4497E932E84AAC1D12FC2","previous_id":"141182","last_modified":"1457537777","components":[{"component_id":"147547","previous_id":0,"original_id":"0","guid":"6DC898BF41D947A49FD5AEDBAD99388A","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Extract taxonomic classifications form MEGAN files.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Extract taxonomic classifications form MEGAN files."},"is_project":0},{"component_id":"147548","previous_id":"147547","original_id":"0","guid":"13103CCDBBB64BA88E9C9A0B12B79139","previous_guid":"6DC898BF41D947A49FD5AEDBAD99388A","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147549","previous_id":"147548","original_id":"0","guid":"6DC5E45063EF4B7D9682D03CBE0C28CA","previous_guid":"13103CCDBBB64BA88E9C9A0B12B79139","component_type_id":"15","data_id":"467","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"xvfb-run --auto-servernum --server-num=1 \/appl\/MEGAN-5.5.3\/MEGAN -g -E -c Ray\/MEGAN\/MEGAN_taxonomy_commands.txt > Ray\/MEGAN\/MEGAN_taxonomy_commands.out","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141185","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"A8EC9207501F44E7A082A7D170014BA9","previous_guid":"23C8C8CD55A4403C8D21974309D7A3F7","previous_id":"141184","last_modified":"1457537777","components":[{"component_id":"147550","previous_id":0,"original_id":"0","guid":"8947A310F3014FDDADFDFEBD26DF32E1","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Now that we have the taxonomic assignments extracted from MEGAN, we need to parse the output. Move to the working directory.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Now that we have the taxonomic assignments extracted from MEGAN, we need to parse the output. Move to the working directory."},"is_project":0},{"component_id":"147551","previous_id":"147550","original_id":"0","guid":"86ADB83B63994958B4E01A1BDC112E2D","previous_guid":"8947A310F3014FDDADFDFEBD26DF32E1","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147552","previous_id":"147551","original_id":"0","guid":"3753148E4F1A4BAE9A6DC4ABF040262C","previous_guid":"86ADB83B63994958B4E01A1BDC112E2D","component_type_id":"26","data_id":"10183","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10183","thread_id":"10183","id":"10183","thread_title":"Annotation on step 24 of Script P7: Assigning Whole Metagenome Taxonomy","uri":"annotation-on-step-24-of-script-p7-assigning-whole","thread_uri":"annotation-on-step-24-of-script-p7-assigning-whole","step_id":"141185","protocol_uri":"Script-P7-Assigning-Whole-Metagenome-Taxonomy-egubbww","protocol_name":"Script P7: Assigning Whole Metagenome Taxonomy","protocol_name_html":"Script P7: Assigning Whole Metagenome Taxonomy","annotation":"The problem with the way the data is extracted is that classifications do not necessarily carry accross levels. For instance, say you have 100 reads that are assigned to the phylum Actinobacteria and 95 of these reads are classified as Propionibacterium acnes, but 5 of the reads were not classified any further than phylum level. The only classification in the species level will be Propionibacterium acnes (which is somewhat misleading because we know not only is there unclassified samples, but they belong to a certain phyla). In order to deal with this, we wrote a perl script to parse our MEGAN output. This script can be found in the supplemental scripts and takes in the super kingdom, phyla, genera, and species text files generated by MEGAN_taxonomy_commands.txt. To run this perl script accross all samples, we went back to bash.","thread_text":"The problem with the way the data is extracted is that classifications do not necessarily carry accross levels. For instance, say you have 100 reads that are assigned to the phylum Actinobacteria and 95 of these reads are classified as Propionibacterium acnes, but 5 of the reads were not classified any further than phylum level. The only classification in the species level will be Propionibacterium acnes (which is somewhat misleading because we know not only is there unclassified samples, but they belong to a certain phyla). In order to deal with this, we wrote a perl script to parse our MEGAN output. This script can be found in the supplemental scripts and takes in the super kingdom, phyla, genera, and species text files generated by MEGAN_taxonomy_commands.txt. To run this perl script accross all samples, we went back to bash.","body":"The problem with the way the data is extracted is that classifications do not necessarily carry accross levels. For instance, say you have 100 reads that are assigned to the phylum Actinobacteria and 95 of these reads are classified as Propionibacterium acnes, but 5 of the reads were not classified any further than phylum level. The only classification in the species level will be Propionibacterium acnes (which is somewhat misleading because we know not only is there unclassified samples, but they belong to a certain phyla). In order to deal with this, we wrote a perl script to parse our MEGAN output. This script can be found in the supplemental scripts and takes in the super kingdom, phyla, genera, and species text files generated by MEGAN_taxonomy_commands.txt. To run this perl script accross all samples, we went back to bash.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454006925","created_on":"1454006925","modified_on":"1457537777","last_updated":"1457537777","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"147553","previous_id":"147552","original_id":"0","guid":"2D3CE9363A38490AA507898E3F2BB67C","previous_guid":"3753148E4F1A4BAE9A6DC4ABF040262C","component_type_id":"15","data_id":"468","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd Ray\/MEGAN\/output","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141186","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"54204C22DEE348EE9840D8B1C9D36BE1","previous_guid":"A8EC9207501F44E7A082A7D170014BA9","previous_id":"141185","last_modified":"1457537777","components":[{"component_id":"147554","previous_id":0,"original_id":"0","guid":"6377C33DCB37483186D967063AF9501D","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Parse MEGAN output.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Parse MEGAN output."},"is_project":0},{"component_id":"147555","previous_id":"147554","original_id":"0","guid":"6C7B37D0D6E04442ACDEB027DF50C257","previous_guid":"6377C33DCB37483186D967063AF9501D","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147557","previous_id":"147555","original_id":"0","guid":"D787D70D4C714BF883738BE027EC85E7","previous_guid":"6C7B37D0D6E04442ACDEB027DF50C257","component_type_id":"26","data_id":"10184","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10184","thread_id":"10184","id":"10184","thread_title":"Annotation on step 25 of Script P7: Assigning Whole Metagenome Taxonomy","uri":"annotation-on-step-25-of-script-p7-assigning-whole","thread_uri":"annotation-on-step-25-of-script-p7-assigning-whole","step_id":"141186","protocol_uri":"Script-P7-Assigning-Whole-Metagenome-Taxonomy-egubbww","protocol_name":"Script P7: Assigning Whole Metagenome Taxonomy","protocol_name_html":"Script P7: Assigning Whole Metagenome Taxonomy","annotation":"Perl script can be found in the supplementary information found<a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\"> here<\/a>.","thread_text":"Perl script can be found in the supplementary information found<a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\"> here<\/a>.","body":"Perl script can be found in the supplementary information found<a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\"> here<\/a>.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454006992","created_on":"1454006992","modified_on":"1457537777","last_updated":"1457537777","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"147556","previous_id":"147557","original_id":"0","guid":"B5187585C3AF4309B9212E510EB41516","previous_guid":"D787D70D4C714BF883738BE027EC85E7","component_type_id":"15","data_id":"469","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for file in *.rma; do\n\techo $file\n\tperl parse_megan_output.pl ${file\/.rma\/_super_kingdom.txt} ${file\/.rma\/_phyla.txt} ${file\/.rma\/_genus.txt} ${file\/.rma\/_species.txt}\n    # Check to make sure read counts add up accross different taxonomic levels\n    sk_count=`awk '{ sum += $2 } END { print sum }' ${file\/.rma\/_super_kingdom.txt}`\n\tphyla_count=`awk '{ sum += $2 } END { print sum }' ${file\/.rma\/_megan_phyla.txt}`\n\tgenus_count=`awk '{ sum += $2 } END { print sum }' ${file\/.rma\/_megan_genera.txt}`\n\tspecies_count=`awk '{ sum += $2 } END { print sum }' ${file\/.rma\/_megan_species.txt}`\n\tif [ $sk_count -gt 2 ]; then\n\t\tif [ $phyla_count -ne $genus_count ]; then\n\t\t\techo \"COUNTING ISSUE AT PHYLA AND OR GENUS LEVEL\"\n\t\tfi\n\n\t\tif [ $phyla_count -ne $species_count ]; then\n\t\t\techo \"COUNTING ISSUE AT PHYLA AND OR SPECIES LEVEL\"\n\t\tfi\n\n\t\tif [ $species_count -ne $genus_count ]; then\n\t\t\techo \"COUNTING ISSUE AT GENUS AND OR SPECIES LEVEL\"\n\t\tfi\n\tfi\n\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141188","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"97167D033598492093E23F4D7ADDDBE8","previous_guid":"54204C22DEE348EE9840D8B1C9D36BE1","previous_id":"141186","last_modified":"1457537777","components":[{"component_id":"147562","previous_id":0,"original_id":"0","guid":"5C1504F0C2B14E088D4818255A11584B","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Remove intermediate files.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Remove intermediate files."},"is_project":0},{"component_id":"147563","previous_id":"147562","original_id":"0","guid":"66D55657112F439B824F70FCB11FBA99","previous_guid":"5C1504F0C2B14E088D4818255A11584B","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147564","previous_id":"147563","original_id":"0","guid":"109B5A913F8A40798C0CDD2C0FD95577","previous_guid":"66D55657112F439B824F70FCB11FBA99","component_type_id":"15","data_id":"470","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"rm superkingdom.txt\nrm phyla.txt\nrm genus.txt\nrm species.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141189","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"00802FD3AD344414B1DD5DAB587DB55D","previous_guid":"97167D033598492093E23F4D7ADDDBE8","previous_id":"141188","last_modified":"1457537777","components":[{"component_id":"147565","previous_id":0,"original_id":"0","guid":"A52519C6D790449B941F5157F285D1B7","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Organize formatted output into directories.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Organize formatted output into directories."},"is_project":0},{"component_id":"147566","previous_id":"147565","original_id":"0","guid":"4C78A1D3D78C4C38BC8728BF4CE08599","previous_guid":"A52519C6D790449B941F5157F285D1B7","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147567","previous_id":"147566","original_id":"0","guid":"A75FB3FA20444AFEB9807A6DA95E4034","previous_guid":"4C78A1D3D78C4C38BC8728BF4CE08599","component_type_id":"15","data_id":"471","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir formatted_output\nmv MG*_megan_*.txt .\/formatted_output\ncd formatted_output\nmkdir genera\nmkdir phyla\nmkdir super_kingdom\nmkdir species\n\nmv *genera.txt .\/genera\nmv *species.txt .\/species\nmv *phyla.txt .\/phyla\nmv *sk.txt .\/super_kingdom","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141190","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"E86D6045E534402185129A668BA18A01","previous_guid":"00802FD3AD344414B1DD5DAB587DB55D","previous_id":"141189","last_modified":"1457537777","components":[{"component_id":"147568","previous_id":0,"original_id":"0","guid":"B9F45119EEDC48EEABE80CA7D129758A","previous_guid":null,"component_type_id":"1","data_id":"0","data":"For downstream analyses in R, we wanted data pertaining specifically to bacteria, viruses, and eukaryotes separately. We extracted this information from the formatted files using grep.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"For downstream analyses in R, we wanted data pertaining specifically to bacteria, viruses, and eukaryotes separately. We extracted this information from the formatted files using grep."},"is_project":0},{"component_id":"147569","previous_id":"147568","original_id":"0","guid":"3D78D63736A145158F6F981B5601B47A","previous_guid":"B9F45119EEDC48EEABE80CA7D129758A","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147570","previous_id":"147569","original_id":"0","guid":"16CD6DEED7384B7D9C2638B84BFE467F","previous_guid":"3D78D63736A145158F6F981B5601B47A","component_type_id":"15","data_id":"472","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"# Look at viral species level\ncd species\n\nfor file in *_megan_species.txt; do\n    grep \"sk__Viruses\" $file > ${file\/.txt\/_viruses.txt}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141191","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"6CED0168400C4059B316D5DAC26A5484","previous_guid":"E86D6045E534402185129A668BA18A01","previous_id":"141190","last_modified":"1457537777","components":[{"component_id":"147571","previous_id":0,"original_id":"0","guid":"BA165C56DA79416F9FB8FCFA5F8D126B","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Look at bacterial and fungal genera.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Look at bacterial and fungal genera."},"is_project":0},{"component_id":"147572","previous_id":"147571","original_id":"0","guid":"CB8C09E6B0B24DD4A1DB2283B7B16B36","previous_guid":"BA165C56DA79416F9FB8FCFA5F8D126B","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147573","previous_id":"147572","original_id":"0","guid":"9CD3493FF76C4671946C8A4C2DF4B1CD","previous_guid":"CB8C09E6B0B24DD4A1DB2283B7B16B36","component_type_id":"15","data_id":"473","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd ..\/genera\n\nfor file in *_megan_genera.txt; do\n\tgrep \"sk__Bacteria\" $file > ${file\/.txt\/_bacteria.txt}\ndone\n\nfor file in *_megan_genera.txt; do\n    grep \"sk__Eukaryota\" $file > ${file\/.txt\/_eukaryotes.txt}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141192","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"7C050B287B2D4626A2A4CE5AE8FDF2A2","previous_guid":"6CED0168400C4059B316D5DAC26A5484","previous_id":"141191","last_modified":"1457537777","components":[{"component_id":"147574","previous_id":0,"original_id":"0","guid":"12349470264D4E1EA0C9BD777B5B591B","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Look at all three at the phylum level.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Look at all three at the phylum level."},"is_project":0},{"component_id":"147575","previous_id":"147574","original_id":"0","guid":"9D2319CA9C8D4439A4E10C3E56224E75","previous_guid":"12349470264D4E1EA0C9BD777B5B591B","component_type_id":"6","data_id":"0","data":"MEGAN","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"MEGAN"},"is_project":0},{"component_id":"147576","previous_id":"147575","original_id":"0","guid":"B4144064BFF842188F0E06710FEB14B4","previous_guid":"9D2319CA9C8D4439A4E10C3E56224E75","component_type_id":"15","data_id":"474","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd ..\/phyla\n\nfor file in *_megan_phyla.txt; do\n    grep \"sk__Bacteria\" $file > ${file\/.txt\/_bacteria.txt}\ndone\n\nfor file in *_megan_phyla.txt; do\n    grep \"sk__Viruses\" $file > ${file\/.txt\/_viruses.txt}\ndone\n\nfor file in *_megan_phyla.txt; do\n    grep \"sk__Eukaryota\" $file > ${file\/.txt\/_eukaryotes.txt}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]}]}