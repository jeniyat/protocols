{"id":27823,"title":"Use IPython to run bioconda tools in jupyter","title_html":"<p>Use IPython to run bioconda tools in jupyter<\/p>","image":{"source":"https:\/\/s3.amazonaws.com\/protocols-files\/public\/526fb78095ba2a9fa201cc118027ed92e4a2b45a63bd0cecc506d2c2a14e4371\/bq972kge.jpg","placeholder":"https:\/\/s3.amazonaws.com\/protocols-files\/public\/526fb78095ba2a9fa201cc118027ed92e4a2b45a63bd0cecc506d2c2a14e4371\/bq972kge.jpg"},"doi":"dx.doi.org\/10.17504\/protocols.io.7ephjdn","doi_status":2,"uri":"use-ipython-to-run-bioconda-tools-in-jupyter-7ephjdn","type_id":1,"published_on":1568746527,"parent_protocols":[],"parent_collections":[],"version_id":0,"created_on":1568739698,"categories":null,"creator":{"name":"Alise J. Ponsero","affiliation":"University of Arizona","affiliations":[{"affiliation":"University of Arizona","url":"","is_default":1}],"username":"alise-ponsero","link":null,"image":{"source":"https:\/\/s3.amazonaws.com\/pr-journal\/4uh2kge.jpg","placeholder":"https:\/\/s3.amazonaws.com\/pr-journal\/4uh2kge.jpg"},"badges":[{"id":4,"image":{"source":"\/img\/badges\/gold.svg","placeholder":"\/img\/badges\/gold.svg"},"name":"Gold power author!"},{"id":6,"image":{"source":"\/img\/badges\/socialbutterfly.svg","placeholder":"\/img\/badges\/socialbutterfly.svg"},"name":"Social butterfly"}],"research_interests":null,"blocked_by_you":false,"blocked_you":false},"journal":null,"journal_name":null,"journal_link":null,"article_citation":null,"public":1,"has_versions":0,"link":null,"total_collections":0,"number_of_steps":7,"authors":[{"name":"Alise J. Ponsero","affiliation":"University of Arizona","affiliations":[],"username":"alise-ponsero","link":null,"image":{"source":"https:\/\/s3.amazonaws.com\/pr-journal\/4uh2kge.jpg","placeholder":"https:\/\/s3.amazonaws.com\/pr-journal\/4uh2kge.jpg"},"badges":[],"research_interests":null,"blocked_by_you":false,"blocked_you":false}],"versions":[],"groups":[{"id":1312,"uri":"metagenomics-class-2019","title":"Metagenomics class 2019","image":{"source":"https:\/\/s3.amazonaws.com\/protocols-files\/public\/526fb78095ba2a9fa201cc118027ed92e4a2b45a63bd0cecc506d2c2a14e4371\/bp6a2kge.jpg","placeholder":"https:\/\/s3.amazonaws.com\/protocols-files\/public\/526fb78095ba2a9fa201cc118027ed92e4a2b45a63bd0cecc506d2c2a14e4371\/bp6a2kge.jpg"},"tech_support":{"email":null,"phone":null,"hide_contact":0,"use_email":0},"is_member":1,"request":{"id":1312,"uri":"metagenomics-class-2019","title":"Metagenomics class 2019","image":{"source":"https:\/\/s3.amazonaws.com\/protocols-files\/public\/526fb78095ba2a9fa201cc118027ed92e4a2b45a63bd0cecc506d2c2a14e4371\/bp6a2kge.jpg","placeholder":"https:\/\/s3.amazonaws.com\/protocols-files\/public\/526fb78095ba2a9fa201cc118027ed92e4a2b45a63bd0cecc506d2c2a14e4371\/bp6a2kge.jpg"},"tech_support":{"email":null,"phone":null,"hide_contact":0,"use_email":0},"is_member":1,"description":null,"research_interests":null,"website":null,"location":null,"affiliation":null,"status":{"is_visible":true,"access_level":0},"stats":{"files":[],"total_members":0,"total_followers":0,"total_child_groups":0,"total_parent_groups":0,"has_collaborations":0},"user_status":{"is_member":true,"is_confirmed":true,"is_invited":false,"is_owner":false,"is_admin":false,"is_following":false},"join_link":null,"token":null,"owner":{"name":" ","affiliation":null,"affiliations":[],"username":null,"link":null,"image":{"source":null,"placeholder":null},"badges":[],"research_interests":null,"blocked_by_you":false,"blocked_you":false},"is_protocol_requested":0,"is_group_requested":0,"is_my":false,"is_request":false,"is_confirmed":1,"is_declined":0,"requester":{"name":" ","affiliation":null,"affiliation_url":null,"username":null,"link":null},"protocol":{"id":0,"title":"Use IPython to run bioconda tools in jupyter","title_html":"Use IPython to run bioconda tools in jupyter","image":{"source":null,"placeholder":null},"doi":null,"doi_status":0,"uri":"use-ipython-to-run-bioconda-tools-in-jupyter-7ephjdn","type_id":1,"published_on":null,"stats":{"number_of_views":0,"number_of_steps":0,"number_of_bookmarks":0,"number_of_comments":0,"number_of_exports":0,"number_of_runs":0,"number_of_votes":0,"is_voted":0},"parent_protocols":[],"parent_collections":[]},"created_on":1568746526,"resolve_on":0,"resolved_user":{"name":" ","affiliation":null,"affiliations":[],"username":null,"link":null,"image":{"source":null,"placeholder":null},"badges":[],"research_interests":null,"blocked_by_you":false,"blocked_you":false},"shared":false}}],"has_subprotocols":0,"is_subprotocol":0,"is_bookmarked":0,"can_be_copied":1,"can_remove_fork":1,"forks_count":{"private":0,"public":0},"access":{"can_view":1,"can_remove":0,"can_add":1,"can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":1,"can_move":1,"can_move_outside":1,"can_transfer":1,"can_download":1,"is_locked":0},"guid":"C893DE20D96C11E9855B6B2E9A73AE5F","steps":[{"id":814163,"guid":"55549520D96D11E9855B6B2E9A73AE5F","previous_id":814165,"previous_guid":"D2FEE1A0D96E11E999F0BFB35D122F35","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"8C738EB8E8C0439896ECD8861B695CA3","order_id":1,"type_id":6,"title":"Section","source":{"title":"installing Mothur "}},{"id":1054724,"guid":"29C9C40752D34A0980ABB91BE6B9A350","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Open Anaconda Navigator and go to your environment manager. Select the class environment and search for the Mothur package in the \"not installed\" packages list.<\/div><div class = \"text-block\">Install Mothur in the environment. If you don't remember how to do this. Do not panic and go back to the Anaconda protocol (<\/div><div class = \"text-block\"><a href=\"https:\/\/www.protocols.io\/view\/first-steps-using-a-jupyter-notebook-6uphevn\" style = \"text-decoration:underline;color:blue;cursor:pointer;\"><span style = \":;\">https:\/\/www.protocols.io\/view\/first-steps-using-a-jupyter-notebook-6uphevn<\/span><\/a><\/div><div class = \"text-block\">).<\/div><div class = \"text-block\">The installation will take some time, therefore you can read <\/div><div class = \"text-block\"><a href=\"https:\/\/www.sciencedirect.com\/science\/article\/pii\/S2352409X19305371\" style = \"text-decoration:underline;color:blue;cursor:pointer;\"><span style = \":;\">this very serious paper about Inuit poop knives<\/span><\/a><\/div><div class = \"text-block\">.<\/div><\/div>"}}],"cases":[],"data":null,"section":null,"section_color":"#94EBFF","critical":null,"critical_id":null,"duration":0},{"id":814164,"guid":"246A0A70D96E11E9855B6B2E9A73AE5F","previous_id":814163,"previous_guid":"55549520D96D11E9855B6B2E9A73AE5F","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"9D6E04B4FB034EDA993EAC498C14551F","order_id":1,"type_id":6,"title":"Section","source":{"title":"installing Mothur "}},{"id":1054724,"guid":"944665C2D7FF40D684BC9545660F0814","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">For Miniconda users, open your terminal and type :<\/div><div class = \"text-block\"><pre><code><div class = \"text-blocks\"><div class = \"text-block\">source activate class_2019<\/div><\/div><\/code><\/pre><\/div><div class = \"text-block\">You should have your environment correctly loaded. Then type :<\/div><div class = \"text-block\"><pre><code><div class = \"text-blocks\"><div class = \"text-block\">conda install Mothur<\/div><\/div><\/code><\/pre><\/div><div class = \"text-block\">Confirm the installation by typing \"y\" and wait patiently for the installation.<\/div><\/div>"}}],"cases":[],"data":null,"section":null,"section_color":"#94EBFF","critical":null,"critical_id":null,"duration":0},{"id":814165,"guid":"D2FEE1A0D96E11E999F0BFB35D122F35","previous_id":null,"previous_guid":null,"modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"69D6C402503B4ACD9564852EB53569D7","order_id":1,"type_id":6,"title":"Section","source":{"title":"Looking at bioconda"}},{"id":1054724,"guid":"C6FFB23BC60149E8BD4EF8ABD3995173","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Meet Bioconda. Bioconda is a project aiming to integrate bioinformatic tools in the conda package management system. They have over 6000 bioinformatic tools available and a repository of recipe on how to use them.<\/div><div class = \"text-block\">Yes, Bioconda is your new best friend.<\/div><div class = \"text-block\">You can browse for your tool of interest in Bioconda through their <\/div><div class = \"text-block\"><a href=\"https:\/\/anaconda.org\/bioconda\/repo\" style = \"text-decoration:underline;color:blue;cursor:pointer;\"><span style = \":;\">tool repository<\/span><\/a><\/div><div class = \"text-block\">. For this tutorial we will install and run <\/div><div class = \"text-block\"><a href=\"https:\/\/www.mothur.org\/\" style = \"text-decoration:underline;color:blue;cursor:pointer;\"><span style = \":;\">Mothur<\/span><\/a><\/div><div class = \"text-block\">.<\/div><\/div>"}}],"cases":[],"data":null,"section":null,"section_color":"#A492FF","critical":null,"critical_id":null,"duration":0},{"id":814166,"guid":"0F67B490D97011E999F0BFB35D122F35","previous_id":814164,"previous_guid":"246A0A70D96E11E9855B6B2E9A73AE5F","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"0FBC928454C54126A0467DCF72A6E5E9","order_id":1,"type_id":6,"title":"Section","source":{"title":"Using IPython"}},{"id":1054724,"guid":"EE5B29A3CC034438BA12A39276F7F7A1","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Is Mothur is installed in your conda environment? Great! Now open a Python jupyter notebook in your Document folder.<\/div><\/div>"}}],"cases":[],"data":null,"section":null,"section_color":"#84CE84","critical":null,"critical_id":null,"duration":0},{"id":814190,"guid":"7AE0E1B0D97511E9BDCAA7E96D9271C5","previous_id":814166,"previous_guid":"0F67B490D97011E999F0BFB35D122F35","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"86C5055D0D684976B8B3348AE69D8F01","order_id":1,"type_id":6,"title":"Section","source":{"title":"Using IPython"}},{"id":1054724,"guid":"AEC66B0A7F734498964FE1DEB71138B2","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Think of IPython as a bridge between Python and shell commands. It's basically allowing you to run shell command lines directly into your Python Notebook ! Are you excited? Ok, let's try it!<\/div><div class = \"text-block\">As you (should) know, in shell you can print a text using the \"echo\" command. Like this :<\/div><div class = \"text-block\"><pre><code><div class = \"text-blocks\"><div class = \"text-block\">echo \"I love metagenomics\"<\/div><\/div><\/code><\/pre><\/div><div class = \"text-block\">Well, let's say you REALLY want to use the \"echo\" command in your notebook, then IPython allows you to just type :<\/div><div class = \"text-block\"><pre><code><div class = \"text-blocks\"><div class = \"text-block\">!echo \"I love metagenomics\"<\/div><\/div><\/code><\/pre><\/div><div class = \"text-block\">Now, try it and run the cell ! You should see <\/div><div style = \"text-align :; float : ;\"><img style = \"\" src = \"https:\/\/s3.amazonaws.com\/protocols-files\/public\/526fb78095ba2a9fa201cc118027ed92e4a2b45a63bd0cecc506d2c2a14e4371\/brah2kge.png\" \/><\/div><div class = \"text-block\">And the same idea applies to ls, pwd, mkdir... all your favorite commands are there! All? Well, almost all...<\/div><\/div>"}},{"id":1054725,"guid":"E849D6BA41AB4BCB84017C0FD419C4E3","order_id":2,"type_id":1,"title":"description","source":{"description":"<div style = \"text-align :; float : ;\"><img style = \"\" src = \"https:\/\/s3.amazonaws.com\/protocols-files\/public\/526fb78095ba2a9fa201cc118027ed92e4a2b45a63bd0cecc506d2c2a14e4371\/brah2kge.png\" \/><\/div>"}}],"cases":[],"data":null,"section":null,"section_color":"#84CE84","critical":null,"critical_id":null,"duration":0},{"id":814191,"guid":"905EC8D0D97611E9AE7515F1AD607C6C","previous_id":814190,"previous_guid":"7AE0E1B0D97511E9BDCAA7E96D9271C5","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"0FEEDBE5B0704AC980B039B79F1D61B9","order_id":1,"type_id":6,"title":"Section","source":{"title":"Using IPython"}},{"id":1054724,"guid":"1C0BCDDC7FF8451B8549581EE84E27B5","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">If you play with IPython long enough, you'll quickly notice that !cd doesn't exactly work as it is supposed to. If you try to run <\/div><div class = \"text-block\"><pre><code><div class = \"text-blocks\"><div class = \"text-block\">!cd ..<\/div><\/div><\/code><\/pre><\/div><div class = \"text-block\">You won't see an error, but you won't have changed directory either... This is because each cell from the notebook is run as a temporary sub-shell. It opened a shell, ran the cd .. and then closed it. So you're back to square one.<\/div><div class = \"text-block\">To run these commands, you need to use a % instead of the ! <\/div><div class = \"text-block\"><pre><code><div class = \"text-blocks\"><div class = \"text-block\">%cd ..<\/div><\/div><\/code><\/pre><\/div><div class = \"text-block\">Now, it should work ! And even better, if you have the \"automagic\" IPython function installed, you don't need to use the \"%\". You can simply run :<\/div><div class = \"text-block\"><pre><code><div class = \"text-blocks\"><div class = \"text-block\">cd ..<\/div><\/div><\/code><\/pre><\/div><div class = \"text-block\">You have automagic functions for the main shell commands (ls, cd, <\/div><div class = \"text-block\"><pre><code>%cat<\/code><\/pre><\/div><div class = \"text-block\">, man, mkdir, mv, pwd, rm and rmdir). <\/div><\/div>"}}],"cases":[],"data":null,"section":null,"section_color":"#84CE84","critical":null,"critical_id":null,"duration":0},{"id":814192,"guid":"863FBB10D97711E9AE7515F1AD607C6C","previous_id":814191,"previous_guid":"905EC8D0D97611E9AE7515F1AD607C6C","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"A73A1E1AAC974174B33755A20EE26D87","order_id":1,"type_id":6,"title":"Section","source":{"title":"running Mothur"}},{"id":1054724,"guid":"C75C040E2F634B8E9C17391B0A18F109","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">So let's use IPython to run Mothur. To do so, you need to find where conda installs your packages. The path to this folder should look like this :<\/div><div class = \"text-block\">'\/Users\/[USERNAME]\/anaconda3\/envs\/class_2019\/bin'<\/div><div class = \"text-block\">Once you know where is you bin folder, you can run Mothur using the command (here showing the output of the help command in Mothur) :<\/div><div class = \"text-block\"><pre><code><div class = \"text-blocks\"><div class = \"text-block\">!\/Users\/[USERNAME]\/anaconda3\/envs\/class_2019\/bin\/mothur \"#help();\"<\/div><\/div><\/code><\/pre><\/div><div class = \"text-block\">Note that Mothur is by default an interactive tool. You cannot use this feature in a notebook, however, you can use <\/div><div class = \"text-block\"><a href=\"https:\/\/mothur.org\/wiki\/Command_line_mode\" style = \"text-decoration:underline;color:blue;cursor:pointer;\"><span style = \":;\">Mothur command line mode<\/span><\/a><\/div><div class = \"text-block\">.<\/div><\/div>"}}],"cases":[],"data":null,"section":null,"section_color":"#FFED92","critical":null,"critical_id":null,"duration":0}],"document":null,"materials":[],"description":"<div class = \"text-blocks\"><div class = \"text-block\">Learn how to run shell commands directly in your jupyter notebook using IPython<\/div><\/div>","changed_on":1568746527}