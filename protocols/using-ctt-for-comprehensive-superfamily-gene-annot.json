{"id":21724,"title":"Using CTT for comprehensive superfamily gene annotations","title_html":"Using CTT for comprehensive superfamily gene annotations","image":{"source":"https:\/\/www.protocols.io\/img\/default_protocol.png","placeholder":"https:\/\/www.protocols.io\/img\/default_protocol.png"},"doi":"dx.doi.org\/10.17504\/protocols.io.zf4f3qw","doi_status":2,"uri":"using-ctt-for-comprehensive-superfamily-gene-annot-zf4f3qw","type_id":1,"published_on":1553374106,"version_id":0,"created_on":1553370659,"categories":null,"creator":{"name":"Zhihua Hua","affiliation":null,"username":"zhihua-hua","link":null,"image":{"source":"\/img\/avatars\/014.png","placeholder":"\/img\/avatars\/014.png"},"badges":[{"id":2,"image":{"source":"\/img\/badges\/bronze.svg","placeholder":"\/img\/badges\/bronze.svg"},"name":"Author"},{"id":6,"image":{"source":"\/img\/badges\/socialbutterfly.svg","placeholder":"\/img\/badges\/socialbutterfly.svg"},"name":"Social butterfly"}],"research_interests":null},"journal":null,"journal_name":null,"journal_link":null,"public":1,"has_versions":0,"link":null,"total_collections":0,"number_of_steps":8,"authors":[{"name":"Zhihua Hua","affiliation":"Department of Environmental and Plant Biology, Ohio University, Athens, Ohio 45701,USA ","username":"zhihua-hua","link":null,"image":{"source":"\/img\/avatars\/014.png","placeholder":"\/img\/avatars\/014.png"},"badges":[],"research_interests":null}],"versions":[],"groups":[],"has_subprotocols":0,"is_subprotocol":0,"is_bookmarked":0,"forks_count":{"private":0,"public":0},"steps":[{"id":724114,"guid":"F697B1F04DA511E98EE357FD5BADC79C","previous_id":null,"previous_guid":null,"modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"959CFDE2A99B4017BF8C2DF4DF8F9E7B","order_id":1,"type_id":6,"title":"Section","source":{"title":""}},{"id":1054724,"guid":"CF03198B6E364CF0BB6556CBF9466798","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Get the CTT package (<1 min)<\/div><div class = \"text-block\">Under the home directory, type \"git clone https:\/\/github.com\/hua-lab\/ctt.git\" to clone the ctt package.<\/div><div class = \"text-block\">        e.g., [user@localhost ~]$ git clone https:\/\/github.com\/hua-lab\/ctt.git<\/div><\/div>"}}],"cases":null,"data":null,"section":null,"section_color":null},{"id":724115,"guid":"F6A2FC904DA511E98EE357FD5BADC79C","previous_id":724114,"previous_guid":"F697B1F04DA511E98EE357FD5BADC79C","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"49FE4B79496043FC8F5CF92424B97A80","order_id":1,"type_id":6,"title":"Section","source":{"title":""}},{"id":1054724,"guid":"572EAFBE354A47E8AEB30568CD6E7DB1","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Compile dependencies (~10 min).<\/div><div class = \"text-block\">        Under the home directory, type \"cd .\/ctt\/dependencies\/\" to enter the directory of \"dependencies\" in the ctt package, then type \"make all\" to compile \"blast\", \"hmmer\",\"CD-HIT\",\"genewise\", \"pfam database\", and \"pfamscan\" packages.  An admin (sudo) user account is required in order to compile genewise program.<\/div><\/div>"}}],"cases":null,"data":null,"section":null,"section_color":null},{"id":724116,"guid":"F6A2FC914DA511E98EE357FD5BADC79C","previous_id":724115,"previous_guid":"F6A2FC904DA511E98EE357FD5BADC79C","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"4A0B7C4854D345B1A5A4D7355330EA64","order_id":1,"type_id":6,"title":"Section","source":{"title":""}},{"id":1054724,"guid":"3DAB29FD7525434F8AD628862E85495E","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Activate WISECONFIGDIR (<1 min)<\/div><div class = \"text-block\">        In order to allow genewise to recognize its configuration, its WISECONFIGDIR path needs to be activated.  To do this, you may simply logout and login the server once.<\/div><\/div>"}}],"cases":null,"data":null,"section":null,"section_color":null},{"id":724117,"guid":"F6A2FC924DA511E98EE357FD5BADC79C","previous_id":724116,"previous_guid":"F6A2FC914DA511E98EE357FD5BADC79C","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"7AE7BF2F4E6F45C5B762025C2B5D6C42","order_id":1,"type_id":6,"title":"Section","source":{"title":""}},{"id":1054724,"guid":"7AB840EE273D474D8D2ACF6273757323","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Retrieve species databases (time varies)<\/div><div class = \"text-block\">        Three files, including genome sequence, protein sequence, and gene annotation GFF3 files, are needed for ctt annotation.  This protocol is based on the genome sequences organized at Ensembl genome project.<\/div><div class = \"text-block\">        Go to Ensembl website at https:\/\/useast.ensembl.org\/index.html, click \"Downloads\" in the list at the top of the website. At the download website, click \"Download databases\" located at the right corner of the webpage to enter the database page. On this page, you may find the genome sequence database of your favorite species. You may either simply browse the species whose genome sequence files are ordered alphabetically or use keyword search located at the right top corner of the spreadsheet. You can also download the files via the FTP site whose link is available on the same webpage.<\/div><div class = \"text-block\">        Once you find the genome sequence files of your favorite organism, I recommend you to use wget to download its genome sequence, protein sequence, and gene annotation GFF3 files directly into the \".\/ctt\/species_databases\" directory.  To find the link of each file, you may just right click each corresponding item in the spreadsheet and select \"copy link\".  An example for downloading the three files of Human Ensembl genome is listed as follows.<\/div><div class = \"text-block\">        e.g., to download human genome sequences (I recommend to use the complete genome file)<\/div><div class = \"text-block\">            wget -r -nd -A '*dna.toplevel.fa.gz' ftp:\/\/ftp.ensembl.org\/pub\/release-95\/fasta\/homo_sapiens\/dna\/<\/div><div class = \"text-block\">        e.g., to download human protein sequences (To find all possible annotations, I recommend to use the complete set of protein sequences.  You may delete other protein sequence files if any.  For example, for human protein sequence, we use the file \"Homo_sapiens.GRCh38.pep.all.fa.gz\".  The ab initio annotation sequence file \"Homo_sapiens.GRCh38.pep.abinitio.fa.gz\" is removed).<\/div><div class = \"text-block\">            wget -r -nd -A '*.fa.gz' ftp:\/\/ftp.ensembl.org\/pub\/release-95\/fasta\/homo_sapiens\/pep\/<\/div><div class = \"text-block\">        e.g., to download human gene annotation GFF3 file (Only the complete GFF3 file will be used.  You may delete the GFF3 files for single chromosome annotations)<\/div><div class = \"text-block\">            wget -r -nd -A '*.gff3.gz' ftp:\/\/ftp.ensembl.org\/pub\/release-95\/gff3\/homo_sapiens<\/div><div class = \"text-block\">        Since all the files downloaded are gz compressed files, type \"gunzip *.gz\" to decompress them.<\/div><\/div>"}}],"cases":null,"data":null,"section":null,"section_color":null},{"id":724118,"guid":"F6A323A04DA511E98EE357FD5BADC79C","previous_id":724117,"previous_guid":"F6A2FC924DA511E98EE357FD5BADC79C","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"3C6BFB0FCF314AA895CA785D1803B460","order_id":1,"type_id":6,"title":"Section","source":{"title":""}},{"id":1054724,"guid":"43E7EEAD85AF42BFA4437B3B2E9A1B2F","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Organize database files (<30 min).<\/div><div class = \"text-block\">        Ctt is designed to work on multiple genomes, whose genome sequence, GFF3, and protein sequence file names need to be organized in order in a file, named \"organismal_genome_gff3_proteome_files.tab\" under the \".\/ctt\/species_databases\/\" directory.  <\/div><div class = \"text-block\">To do this, you may organize them in Excel, save it as a text file, and transfer the text file into the directory of \".\/ctt\/species_databases\/\".  Alternatively, you may just use vim editor to write this file under the same directory.  An example for organizing 10 vertebrate genome sequence files analyzed in the paper (Hua and Early, 2019) is provided as follows.<\/div><div class = \"text-block\">Callithrix_jacchus.ASM275486v1.dna.toplevel.fa\tCallithrix_jacchus.ASM275486v1.95.gff3\tCallithrix_jacchus.ASM275486v1.pep.all.fa<\/div><div class = \"text-block\">Choloepus_hoffmanni.choHof1.dna.toplevel.fa\tCholoepus_hoffmanni.choHof1.95.gff3\tCholoepus_hoffmanni.choHof1.pep.all.fa<\/div><div class = \"text-block\">Cyprinodon_variegatus.C_variegatus-1.0.dna.toplevel.fa\tCyprinodon_variegatus.C_variegatus-1.0.95.gff3\tCyprinodon_variegatus.C_variegatus-1.0.pep.all.fa<\/div><div class = \"text-block\">Ficedula_albicollis.FicAlb_1.4.dna.toplevel.fa\tFicedula_albicollis.FicAlb_1.4.95.gff3\tFicedula_albicollis.FicAlb_1.4.pep.all.fa<\/div><div class = \"text-block\">Haplochromis_burtoni.AstBur1.0.dna.toplevel.fa\tHaplochromis_burtoni.AstBur1.0.95.gff3\tHaplochromis_burtoni.AstBur1.0.pep.all.fa<\/div><div class = \"text-block\">Ictidomys_tridecemlineatus.SpeTri2.0.dna.toplevel.fa\tIctidomys_tridecemlineatus.SpeTri2.0.95.gff3\tIctidomys_tridecemlineatus.SpeTri2.0.pep.all.fa<\/div><div class = \"text-block\">Mesocricetus_auratus.MesAur1.0.dna.toplevel.fa\tMesocricetus_auratus.MesAur1.0.95.gff3\tMesocricetus_auratus.MesAur1.0.pep.all.fa<\/div><div class = \"text-block\">Mus_musculus.GRCm38.dna.toplevel.fa\tMus_musculus.GRCm38.95.gff3\tMus_musculus.GRCm38.pep.all.fa<\/div><div class = \"text-block\">Pelodiscus_sinensis.PelSin_1.0.dna.toplevel.fa\tPelodiscus_sinensis.PelSin_1.0.95.gff3\tPelodiscus_sinensis.PelSin_1.0.pep.all.fa<\/div><div class = \"text-block\">Tupaia_belangeri.TREESHREW.dna.toplevel.fa\tTupaia_belangeri.TREESHREW.95.gff3\tTupaia_belangeri.TREESHREW.pep.all.fa<\/div><\/div>"}}],"cases":null,"data":null,"section":null,"section_color":null},{"id":724119,"guid":"F6A323A14DA511E98EE357FD5BADC79C","previous_id":724118,"previous_guid":"F6A323A04DA511E98EE357FD5BADC79C","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"E9616F6084A14C869ED01CEA1B10F0DA","order_id":1,"type_id":6,"title":"Section","source":{"title":""}},{"id":1054724,"guid":"3CC25F17E7A84C2497E8B6DC9CC6031E","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Make blast databases for tBLASTn and BLASTp searches (<30 min).<\/div><div class = \"text-block\">        To make tBLASTn database use the genome sequence file obtained in Step 4 under the \".\/ctt\/species_databases\" directory, type \"makeblastdb -in genome_file_name -dbtype nucl -out genome_file_name.db\".<\/div><div class = \"text-block\">        e.g., to make tBLASTn database of human genome sequences<\/div><div class = \"text-block\">            makeblastdb -in Homo_sapiens.GRCh38.dna.toplevel.fa -dbtype nucl -out Homo_sapiens.GRCh38.dna.toplevel.fa.db<\/div><div class = \"text-block\">        To make BLASTp database use the protein sequence file obtained in Step 4 under the \".\/ctt\/species_databases\" directory, type \"makeblastdb -in proteome_file_name -dbtype prot -out proteome_file_name.db\".<\/div><div class = \"text-block\">        e.g., to make BLASTp database of human protein equences<\/div><div class = \"text-block\">            makeblastdb -in Homo_sapiens.GRCh38.pep.all.fa -dbtype prot -out Homo_sapiens.GRCh38.pep.all.fa.db<\/div><\/div>"}}],"cases":null,"data":null,"section":null,"section_color":null},{"id":724120,"guid":"F6A323A24DA511E98EE357FD5BADC79C","previous_id":724119,"previous_guid":"F6A323A14DA511E98EE357FD5BADC79C","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"9AD19B6C937A463F9D31B30F5868CD97","order_id":1,"type_id":6,"title":"Section","source":{"title":""}},{"id":1054724,"guid":"997C01CFA3784736BBA047AB6A1661E9","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Download seed sequences for the superfamily of your interest (<30 min).<\/div><div class = \"text-block\">        Go to Pfam website at http:\/\/pfam.xfam.org.  Enter the ID or name of the superfamily of your interest in \"JUMP TO\" search engine located in the middle of the webpage.  For example, type \"Pkinase\" and click \"Go\" button for jumping to the Pkinase family Summary webpage.  You need to type the exact family name that Pfam recognizes.  Otherwise, Pfam may not be able to help you locate the webpage of the family.  <\/div><div class = \"text-block\">        To find the seed sequence file of the superfamily, click \"Alignments\" button located at the top left corner of the webpage.  In the middle of the \"Alignments\" webpage, you will see options of \"Format an alignment\".  Select options for \"seed\" alignment, \"Fasta\" format, \"Alphabetical\" order, \"All upper case\" sequences, \"No gaps (unaligned)\", and \"Download\".  You are now able to download a fasta-formated sequence file by clicking \"Generate\" button.  The sequence file is automatically named in a format as \"(PfamID of the superfamily)_seed.txt\".  <\/div><div class = \"text-block\">        Transfer the seed sequence file into the seed directory of ctt at \".\/ctt\/seeds\/\".<\/div><\/div>"}}],"cases":null,"data":null,"section":null,"section_color":null},{"id":724123,"guid":"254E81D04DA711E98EE357FD5BADC79C","previous_id":724120,"previous_guid":"F6A323A24DA511E98EE357FD5BADC79C","modified_on":0,"protocol_id":0,"components":[{"id":1054723,"guid":"EAAFE63F9A574144BD754293B067E07C","order_id":1,"type_id":6,"title":"Section","source":{"title":""}},{"id":1054724,"guid":"C1B83F9486B04671865F3D6957CC0F45","order_id":1,"type_id":1,"title":"description","source":{"description":"<div class = \"text-blocks\"><div class = \"text-block\">Run ctt annotation (time varies).<\/div><div class = \"text-block\">        Under the \".\/ctt\/\" directory to annotate the superfamily of your interest in selected genomes using the format as follows.<\/div><div class = \"text-block\">        perl ctt.pl -seed family_seed_file.txt -f Pfam_family_name -superfamily simplified_family_id_you_named<\/div><div class = \"text-block\">\tFor example, to annotate Pkinase in selected genomes whose genomic sequence, gff3, and protein sequence files have been organized in the \".\/ctt\/species_databases\/\" directory. Got to the ctt directory and type the code as follows.<\/div><div class = \"text-block\">\te.g. perl ctt.pl -seed PF00069_seed.txt -f Pkinase -superfamily PK<\/div><\/div>"}}],"cases":null,"data":null,"section":null,"section_color":null}],"materials":[],"description":"","changed_on":1553374106}