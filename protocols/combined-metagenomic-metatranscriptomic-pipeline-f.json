{"uri":"combined-metagenomic-metatranscriptomic-pipeline-f-d7m9k5","version_id":"0","protocol_name":"Combined Metagenomic \/ Metatranscriptomic Pipeline for Host-associated Microbiomes","protocol_name_html":"Combined Metagenomic \/ Metatranscriptomic Pipeline for Host-associated Microbiomes","is_prepublished":"0","can_edit":"0","parent_id":null,"api_version":"1","is_new_mode":"0","last_modified":"1527098268","type_id":"1","link":"","fork_id":"","public_fork_note":"","number_of_steps":"18","has_versions":"0","first_published_date":"1527098268","publish_date":"2018-05-23 17:57:48","documents":null,"have_protocol_in_step":"0","is_protocol_in_step":"0","vendor_name":"Contributed by users","vendor_link":"https:\/\/www.protocols.io","vendor_logo":"\/img\/vendors\/1.png","mod_mins":"-15","mod_secs":"21","description":"<p>Overview:<\/p>\n<p>1. Filter DNA reads by quality and host (e.g. for mouse gut bacteria we would filter low-quality reads AND reads that belong to mice)<\/p>\n<p>2. Align DNA reads\u00a0(fastq, fasta) to <a href=\"https:\/\/www.patricbrc.org\/\" target=\"_blank\">Patric<\/a> database (bacteria genomes) with <a href=\"https:\/\/github.com\/r78v10a07\/taxoner\" target=\"_blank\">taxoner<\/a>\u00a0(a bowtie2-based linux program) &gt;&gt; Get bacterial genomes<\/p>\n<p>3. Filter out low-quality alignments &gt;&gt; Bacterial genomes<\/p>\n<p>4. Filter RNA reads by quality<\/p>\n<p>5. Align RNA reads to bacterial genomes from step 3 &gt;&gt; RNA counts of genes<\/p>\n<p>6. Get pathway information &gt;&gt; RNA counts per KEGG pathway<\/p>\n<p>\u00a0<\/p>\n<p>If you have treatment groups, we will be able to see changes in bacterial abundance as well as changes to RNA counts<\/p>","is_bookmarked":"1","can_reassign":"1","before_start":"<p>Unless you have a small set of reads and\/or genomes, it is recommended that the pipeline be run on university supercomputers.<\/p>","has_guidelines":"0","materials":[],"warning":"<p>None<\/p>","version_class":"1997","public":"1","is_owner":"1","is_original_owner":"1","created_on":"1447699968","protocol_affiliation":"University of Arizona","affiliation":"","doi":"dx.doi.org\/10.17504\/protocols.io.d7m9k5","doi_status":"2","changed_fork_steps":null,"profile_url":"Scott-w2v23433u2","protocol_img":"https:\/\/s3.amazonaws.com\/pr-journal\/nb4c8pn.png","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/vkc8pn.png","full_name":"Scott Daniel","created_by":"Scott Daniel","private_link":"265E46F4E7F7ACBAD621F569D911EE84","original_img":"1","username":"scott-daniel","is_retracted":"0","retraction_reason":null,"plos_id":null,"manuscript_citation":"<p>Forthcoming article in <a href=\"http:\/\/msystems.asm.org\" target=\"_blank\">mSystems<\/a><\/p>","journal_name":null,"is_donations_disabled":"0","is_donations_disabled_by_user":"9","item_record_id":221531,"fork_info":[],"compare_forks":[{"protocol_id":"8289","protocol_name":"Combined Metagenomic \/ Metatranscriptomic Pipeline for Host-associated Microbiomes","protocol_name_html":"Combined Metagenomic \/ Metatranscriptomic Pipeline for Host-associated Microbiomes","uri":"combined-metagenomic-metatranscriptomic-pipeline-f-kb9csr6","full_name":"Scott Daniel","affiliation":"","affiliation_url":"","username":"scott-daniel"}],"protocols":[],"groups":[{"group_id":"52","group_uri":"hurwitz-lab","group_name":"Hurwitz Lab","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/iscwwe.png","requested_uid":null,"request_flag":null,"my_request":"1"}],"number_of_shared_runs":[],"ownership_history":[],"keywords":"","transfer_to_user":[],"sub_transfer":false,"is_transfer_pending":false,"number_of_bookmarks":"2","collections":[],"tags":[{"tag_id":"94","tag_name":"Metatranscriptomics"},{"tag_id":"106","tag_name":"metagenomics"},{"tag_id":"120","tag_name":"Bacteria"},{"tag_id":"892","tag_name":"microbiome"}],"archived":0,"sub_authors":[],"sub_protocols_number":0,"can_edit_shared":0,"shared_runs":[],"is_shared_run":0,"is_shared":1,"banner":null,"contact_badges":[{"badge_id":"2","badge_image":"\/img\/badges\/bronze.svg","badge_description":"Author!"},{"badge_id":"5","badge_image":"\/img\/badges\/earlyadopter.svg","badge_description":"Early adopter"},{"badge_id":"6","badge_image":"\/img\/badges\/socialbutterfly.svg","badge_description":"Social butterfly"}],"number_of_comments":0,"big_protocol_img":"https:\/\/s3.amazonaws.com\/pr-journal\/nb3c8pn.png","big_protocol_img_ofn":"the-human-microbiome.png","is_locked":0,"is_locked_by":false,"authors":"Scott Daniel","authors_list":[{"name":"Scott Daniel","affiliation":"University of Arizona","username":"scott-daniel","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/vkc8pn.png"}],"user":{"profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/vkc8pn.png","username":"scott-daniel","full_name":"Scott Daniel","created_by":"Scott Daniel"},"access":{"can_view":"1","can_remove":"0","can_add":"0","can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":"1","can_move":"1","can_transfer":"1","can_download":"1","is_locked":"0"},"is_contact_suspended":0,"guidelines":"","status_id":"2","is_research":"1","status_info":"We are still developing and optimizing this protocol","steps":[{"id":"585309","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"054A542B06E641ECA227305D93320133","previous_guid":null,"previous_id":"0","last_modified":"1505330236","components":[{"component_id":"999339","previous_id":0,"original_id":"0","guid":"FE47AF970B9F47F8852471CCA10BFFC7","previous_guid":null,"component_type_id":"6","data_id":"0","data":"Setup","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Setup"},"is_project":0},{"component_id":"999338","previous_id":"999339","original_id":"0","guid":"441BA256E8ED4D9DBAB3AC2154EDF45F","previous_guid":"FE47AF970B9F47F8852471CCA10BFFC7","component_type_id":"1","data_id":null,"data":"<p>Get sample data from github (requires <a href=\"https:\/\/git-scm.com\/book\/en\/v2\/Getting-Started-Installing-Git\" target=\"_blank\">git<\/a> to be installed on your system).<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Get sample data from github (requires <a href=\"https:\/\/git-scm.com\/book\/en\/v2\/Getting-Started-Installing-Git\" target=\"_blank\">git<\/a> to be installed on your system).<\/p>"},"is_project":0},{"component_id":"999340","previous_id":"999338","original_id":"0","guid":"F5084547A0364006AD552782BB617541","previous_guid":"441BA256E8ED4D9DBAB3AC2154EDF45F","component_type_id":"15","data_id":"2040","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"git clone https:\/\/github.com\/hurwitzlab\/mg-sample-data.git","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0},{"component_id":"1000033","previous_id":"999340","original_id":"0","guid":"C3B6237B583F499C982D8E6F72A944A4","previous_guid":"F5084547A0364006AD552782BB617541","component_type_id":"26","data_id":"16173","data":"","order_id":"3","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"16173","thread_id":"16173","id":"16173","thread_title":"Annotation on step 1 of Combined Metagenomic \/ Metatranscriptomic Pipeline for Host-associated Microbiomes","uri":"annotation-on-step-1-of-combined-metagenomic-metatranscriptomic","thread_uri":"annotation-on-step-1-of-combined-metagenomic-metatranscriptomic","step_id":"585309","protocol_uri":"combined-metagenomic-metatranscriptomic-pipeline-f-d7m9k5","protocol_name":"Combined Metagenomic \/ Metatranscriptomic Pipeline for Host-associated Microbiomes","protocol_name_html":"Combined Metagenomic \/ Metatranscriptomic Pipeline for Host-associated Microbiomes","annotation":"<p>This can be downloaded to your shared supercomputers (job scheduler managed) or your own laptop. It's small enough data (&lt; 10mb) that it should be trivial to run on most systems.<\/p>","thread_text":"<p>This can be downloaded to your shared supercomputers (job scheduler managed) or your own laptop. It's small enough data (&lt; 10mb) that it should be trivial to run on most systems.<\/p>","body":"<p>This can be downloaded to your shared supercomputers (job scheduler managed) or your own laptop. It's small enough data (&lt; 10mb) that it should be trivial to run on most systems.<\/p>","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1504645342","created_on":"1504645342","modified_on":"1505330236","last_updated":"1505330236","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/vkc8pn.png","full_name":"Scott Daniel","affiliation":"","username":"scott-daniel","email":"scottdaniel@email.arizona.edu","pa_useranme":"scott-daniel","comments":[]},"is_project":0}]},{"id":"585310","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"0F92CDE0FC904E49B809724D7FF17DBF","previous_guid":"C682DE1F033548678C873F9B68963000","previous_id":"586896","last_modified":"1504644843","components":[{"component_id":"999342","previous_id":0,"original_id":"0","guid":"8C1BA737977042AFAFCB757334FBF185","previous_guid":null,"component_type_id":"6","data_id":"0","data":"QC","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"QC"},"is_project":0},{"component_id":"999341","previous_id":"999342","original_id":"0","guid":"AAB25955B4714A8F9E2C041C37FC1F66","previous_guid":"8C1BA737977042AFAFCB757334FBF185","component_type_id":"1","data_id":null,"data":"<p>Get recipe for singularity image containing fastqc and solexaqa:<\/p>\n<p>(This must be downloaded to a system where you have sudo privileges)<\/p>\n<p>\u00a0<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Get recipe for singularity image containing fastqc and solexaqa:<\/p>\n<p>(This must be downloaded to a system where you have sudo privileges)<\/p>\n<p>\u00a0<\/p>"},"is_project":0},{"component_id":"999343","previous_id":"999341","original_id":"0","guid":"67938859F1F54FCDBFCEBE0C6C3452D9","previous_guid":"AAB25955B4714A8F9E2C041C37FC1F66","component_type_id":"15","data_id":"2041","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"git clone https:\/\/github.com\/hurwitzlab\/singularity-fastqc.git","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"585311","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"D6364A513C7D48EA8FBC3D85FFCA3D5A","previous_guid":"0F92CDE0FC904E49B809724D7FF17DBF","previous_id":"585310","last_modified":"1508181213","components":[{"component_id":"999344","previous_id":0,"original_id":"0","guid":"BBFE76F9B02B484C87D7C1405D90E71A","previous_guid":null,"component_type_id":"1","data_id":null,"data":"<p>From within \/singularity-fastqc run .\/create_and_bootstrap.sh (see example). This should create a 'fastqc.img'.\u00a0<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>From within \/singularity-fastqc run .\/create_and_bootstrap.sh (see example). This should create a 'fastqc.img'.\u00a0<\/p>"},"is_project":0},{"component_id":"999345","previous_id":"999344","original_id":"0","guid":"CD4B42E819724F47AC32CF8E9147A956","previous_guid":"BBFE76F9B02B484C87D7C1405D90E71A","component_type_id":"6","data_id":"0","data":"QC","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"QC"},"is_project":0},{"component_id":"1000029","previous_id":"999345","original_id":"0","guid":"2414A6F2451C4A76991BE8740BFAE031","previous_guid":"CD4B42E819724F47AC32CF8E9147A956","component_type_id":"15","data_id":"2097","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd singularity-fastqc\/ && .\/create_and_bootstrap.sh","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0},{"component_id":"1000030","previous_id":"1000029","original_id":"0","guid":"EE2BE75026124EA29EA77DE62488DA03","previous_guid":"2414A6F2451C4A76991BE8740BFAE031","component_type_id":"19","data_id":"76","data":"","order_id":"3","name":"Safety information","data_by_id":"1","type_id":"19","source_data":{"body":"Make sure there are no errors! E.g. \"ABORT: Aborting with RETVAL=255\"","link":"http:\/\/null","can_edit":"1"},"is_project":0}]},{"id":"585595","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"45C98C5C158E47528EE10C59087B4576","previous_guid":"D6364A513C7D48EA8FBC3D85FFCA3D5A","previous_id":"585311","last_modified":"1505329715","components":[{"component_id":"1000032","previous_id":0,"original_id":"0","guid":"C359700F53B04B46BEA229D613AEED0F","previous_guid":null,"component_type_id":"6","data_id":"0","data":"QC","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"QC"},"is_project":0},{"component_id":"1000031","previous_id":"1000032","original_id":"0","guid":"0DC09E79AE5F4514A284BD757E3236F3","previous_guid":"C359700F53B04B46BEA229D613AEED0F","component_type_id":"1","data_id":null,"data":"<p>sftp or scp the created \"fastqc.img\" to your shared supercomputer directory OR put it in your \"\/bin\" directory (or other dir in your PATH)<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>sftp or scp the created \"fastqc.img\" to your shared supercomputer directory OR put it in your \"\/bin\" directory (or other dir in your PATH)<\/p>"},"is_project":0},{"component_id":"1000036","previous_id":"1000031","original_id":"0","guid":"9148C9E8A86E47ECA1D6EE11AA2785B4","previous_guid":"0DC09E79AE5F4514A284BD757E3236F3","component_type_id":"15","data_id":"2098","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"Example: \"scp fastqc.img username@sftp.hpc.arizona.edu:\/rsgrps\/usergroup\/username\/singularity-images\"","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"585596","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"2BC3680BD45D49E4806D241A42E9F3FE","previous_guid":"45C98C5C158E47528EE10C59087B4576","previous_id":"585595","last_modified":"1506034050","components":[{"component_id":"1000034","previous_id":0,"original_id":"0","guid":"03A35453B21D4599A5D48C0B5A6FCA54","previous_guid":null,"component_type_id":"1","data_id":null,"data":"<p>Generate quality reports with fastqc (optional).<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Generate quality reports with fastqc (optional).<\/p>"},"is_project":0},{"component_id":"1000035","previous_id":"1000034","original_id":"0","guid":"CD5A4209FADC4DE985F15CBC13FB5EE2","previous_guid":"03A35453B21D4599A5D48C0B5A6FCA54","component_type_id":"6","data_id":"0","data":"QC","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"QC"},"is_project":0},{"component_id":"1000053","previous_id":"1000035","original_id":"0","guid":"41981D61233F42D593F23A41176D1646","previous_guid":"CD5A4209FADC4DE985F15CBC13FB5EE2","component_type_id":"15","data_id":"2099","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"Example script is mg-sample-data\/scripts\/00-fastqc-reports.sh\n\nThis script is meant to be submitted to a PBS job scheduler by issuing the command \".\/00-fastqc-reports.sh\" but can be edited to run with other job schedulers (must also edit .\/workers\/fastqc.sh).","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0},{"component_id":"1003201","previous_id":"1000053","original_id":"0","guid":"A55B094A164D4BA8BEBEDB9DC4072386","previous_guid":"41981D61233F42D593F23A41176D1646","component_type_id":"26","data_id":"16299","data":"","order_id":"3","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"16299","thread_id":"16299","id":"16299","thread_title":"Annotation on step 6 of Combined Metagenomic \/ Metatranscriptomic Pipeline for Host-associated Microbiomes","uri":"annotation-on-step-6-of-combined-metagenomic-metatranscriptomic","thread_uri":"annotation-on-step-6-of-combined-metagenomic-metatranscriptomic","step_id":"585596","protocol_uri":"combined-metagenomic-metatranscriptomic-pipeline-f-d7m9k5","protocol_name":"Combined Metagenomic \/ Metatranscriptomic Pipeline for Host-associated Microbiomes","protocol_name_html":"Combined Metagenomic \/ Metatranscriptomic Pipeline for Host-associated Microbiomes","annotation":"<p>If you want to manually generate fastqc reports, the script you want is in 'scripts\/workers\/fastqc.sh'<\/p>\n<p>\u00a0<\/p>\n<p>This is true for most other steps.\u00a0<\/p>","thread_text":"<p>If you want to manually generate fastqc reports, the script you want is in 'scripts\/workers\/fastqc.sh'<\/p>\n<p>\u00a0<\/p>\n<p>This is true for most other steps.\u00a0<\/p>","body":"<p>If you want to manually generate fastqc reports, the script you want is in 'scripts\/workers\/fastqc.sh'<\/p>\n<p>\u00a0<\/p>\n<p>This is true for most other steps.\u00a0<\/p>","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1505257143","created_on":"1505257143","modified_on":"1505257347","last_updated":"1505257347","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/vkc8pn.png","full_name":"Scott Daniel","affiliation":"","username":"scott-daniel","email":"scottdaniel@email.arizona.edu","pa_useranme":"scott-daniel","comments":[]},"is_project":0}]},{"id":"585763","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"2C69E881BED043888A8C7E96BE5702DB","previous_guid":"2BC3680BD45D49E4806D241A42E9F3FE","previous_id":"585596","last_modified":"1506033729","components":[{"component_id":"1000457","previous_id":0,"original_id":"0","guid":"FA033E6EBB314A088BAAEF68A4F15ACB","previous_guid":null,"component_type_id":"6","data_id":"0","data":"QC","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"QC"},"is_project":0},{"component_id":"1000456","previous_id":"1000457","original_id":"0","guid":"FE9349B445E8488FB73BFC8B0CC41559","previous_guid":"FA033E6EBB314A088BAAEF68A4F15ACB","component_type_id":"1","data_id":null,"data":"<p>Run trim_galore (a wrapper script for cutadapt)\u00a0to cut off low-quality bases and adapters (default is to cut off bases until the probability that the base call was correct is 99% or greater)<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Run trim_galore (a wrapper script for cutadapt)\u00a0to cut off low-quality bases and adapters (default is to cut off bases until the probability that the base call was correct is 99% or greater)<\/p>"},"is_project":0},{"component_id":"1000460","previous_id":"1000456","original_id":"0","guid":"E79A769A7B2943B5AA081A5976323BED","previous_guid":"FE9349B445E8488FB73BFC8B0CC41559","component_type_id":"15","data_id":"2106","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"Example script is mg-sample-data\/scripts\/01-trim-galore.sh\n\nThis script is meant to be submitted to a PBS job array scheduler by running the command \".\/01-trim-galore.sh\" but can be edited to run with other job schedulers (must also edit \".\/workers\/trimgalore.sh\")\n","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"586153","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"230578A3951640DA91FDE54B2FF955DB","previous_guid":"2C69E881BED043888A8C7E96BE5702DB","previous_id":"585763","last_modified":"1504911537","components":[{"component_id":"1001331","previous_id":0,"original_id":"0","guid":"815F39EEA0FC45E289583037B9126129","previous_guid":null,"component_type_id":"6","data_id":"0","data":"QC","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"QC"},"is_project":0},{"component_id":"1001330","previous_id":"1001331","original_id":"0","guid":"6E27667123764943B414AD8DF61699FB","previous_guid":"815F39EEA0FC45E289583037B9126129","component_type_id":"1","data_id":null,"data":"<p>Compare quality reports between steps 5 and 6. If you don't see much improvement, consider re-running step 6 with different parameters.<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Compare quality reports between steps 5 and 6. If you don't see much improvement, consider re-running step 6 with different parameters.<\/p>"},"is_project":0}]},{"id":"586761","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"4AE30B629CB74E10B98EFD11C34DF674","previous_guid":"C5B0BD631FA64D2586CBA15212BD2083","previous_id":"590957","last_modified":"1508181382","components":[{"component_id":"1002850","previous_id":0,"original_id":"0","guid":"AF8452657AFC4184811257E9E8496FB8","previous_guid":null,"component_type_id":"6","data_id":"0","data":"Bowtie2 Prep","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Bowtie2 Prep"},"is_project":0},{"component_id":"1002849","previous_id":"1002850","original_id":"0","guid":"A9CB4A84D7644B6B859BEF42B3A106FA","previous_guid":"AF8452657AFC4184811257E9E8496FB8","component_type_id":"1","data_id":"0","data":"<p>Get the github repos for building the images<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Get the github repos for building the images<\/p>"},"is_project":0},{"component_id":"1002852","previous_id":"1002849","original_id":"0","guid":"F6393D6579D049598110E97BC0D3DD53","previous_guid":"A9CB4A84D7644B6B859BEF42B3A106FA","component_type_id":"15","data_id":"2174","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"git clone https:\/\/github.com\/hurwitzlab\/singularity-tuxedo.git\ngit clone https:\/\/github.com\/hurwitzlab\/singularity-taxoner.git","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"586763","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"CDBABB98F00244C5B8CD8B9B5423CBB8","previous_guid":"4AE30B629CB74E10B98EFD11C34DF674","previous_id":"586761","last_modified":"1508181502","components":[{"component_id":"1002856","previous_id":0,"original_id":"0","guid":"5DF46277989241B690F9DE1244CF268B","previous_guid":null,"component_type_id":"6","data_id":"0","data":"Bowtie2 Prep","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Bowtie2 Prep"},"is_project":0},{"component_id":"1002855","previous_id":"1002856","original_id":"0","guid":"7941CA1C32C94FDC9864C8A71623B92B","previous_guid":"5DF46277989241B690F9DE1244CF268B","component_type_id":"1","data_id":null,"data":"<p>From within \/singularity-tuxedo (Tuxedo is a suite of tools that contains bowtie and cuffdiff see http:\/\/software.broadinstitute.org\/cancer\/software\/genepattern\/rna-seq-analysis#tuxedo)<\/p>\n<p>\u00a0<\/p>\n<p>run .\/create_and_bootstrap.sh (see example). This should create a 'bowcuff.img'.\u00a0<\/p>\n<p>\u00a0<\/p>\n<p>From within \/singularity-taxoner run .\/create_and_bootstrap.sh. This should create a 'taxoner.img'<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>From within \/singularity-tuxedo (Tuxedo is a suite of tools that contains bowtie and cuffdiff see http:\/\/software.broadinstitute.org\/cancer\/software\/genepattern\/rna-seq-analysis#tuxedo)<\/p>\n<p>\u00a0<\/p>\n<p>run .\/create_and_bootstrap.sh (see example). This should create a 'bowcuff.img'.\u00a0<\/p>\n<p>\u00a0<\/p>\n<p>From within \/singularity-taxoner run .\/create_and_bootstrap.sh. This should create a 'taxoner.img'<\/p>"},"is_project":0},{"component_id":"1002858","previous_id":"1002855","original_id":"0","guid":"AA7FD27F9F5D4617BB99AA74250B83EA","previous_guid":"7941CA1C32C94FDC9864C8A71623B92B","component_type_id":"19","data_id":"76","data":"","order_id":"2","name":"Safety information","data_by_id":"1","type_id":"19","source_data":{"body":"Make sure there are no errors! E.g. \"ABORT: Aborting with RETVAL=255\"","link":"http:\/\/null","can_edit":"1"},"is_project":0},{"component_id":"1002857","previous_id":"1002858","original_id":"0","guid":"93BAB01726084141AA64EA3D02A10BEB","previous_guid":"AA7FD27F9F5D4617BB99AA74250B83EA","component_type_id":"15","data_id":"2177","data":"","order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd singularity-tuxedo\/ && .\/create_and_bootstrap.sh","description":null,"os_name":null,"os_version":null,"can_edit":"1"},"is_project":0}]},{"id":"586765","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"A32B92E7C94543AF98CA91890141AE8D","previous_guid":"CDBABB98F00244C5B8CD8B9B5423CBB8","previous_id":"586763","last_modified":"1508181518","components":[{"component_id":"1002861","previous_id":0,"original_id":"0","guid":"12B7816B79D54CB99A79CF4BE03FA005","previous_guid":null,"component_type_id":"6","data_id":null,"data":"Bowtie2 Prep","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Bowtie2 Prep"},"is_project":0},{"component_id":"1002862","previous_id":"1002861","original_id":"0","guid":"045EEAFD409F435ABF5505F2AB56AE83","previous_guid":"12B7816B79D54CB99A79CF4BE03FA005","component_type_id":"1","data_id":"0","data":"<p>sftp or scp the created 'bowcuff.img' and 'taxoner.img' to your shared supercomputer directory OR put it in your '\/bin' directory (or other dir in your PATH)<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>sftp or scp the created 'bowcuff.img' and 'taxoner.img' to your shared supercomputer directory OR put it in your '\/bin' directory (or other dir in your PATH)<\/p>"},"is_project":0},{"component_id":"1002863","previous_id":"1002862","original_id":"0","guid":"0D1420DF63D04649AC027189C9EA8863","previous_guid":"045EEAFD409F435ABF5505F2AB56AE83","component_type_id":"15","data_id":"2178","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"Example: \"scp bowcuff.img username@sftp.hpc.arizona.edu:\/rsgrps\/usergroup\/username\/singularity-images\"","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"586883","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"9C640386BD794407ACFF9D8E8B249002","previous_guid":"A32B92E7C94543AF98CA91890141AE8D","previous_id":"586765","last_modified":"1508181675","components":[{"component_id":"1003170","previous_id":0,"original_id":"0","guid":"0AAD3B684A7D4559A6369E369C8E2BD1","previous_guid":null,"component_type_id":"6","data_id":"0","data":"Bowtie2 Prep","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Bowtie2 Prep"},"is_project":0},{"component_id":"1003169","previous_id":"1003170","original_id":"0","guid":"0E83F61B315240E1818BFBF13B0C5266","previous_guid":"0AAD3B684A7D4559A6369E369C8E2BD1","component_type_id":"1","data_id":null,"data":"<p>Run 02-taxadb-prep.pbs to prepare the lineage file and genome fasta's for bowtie2 indexing<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Run 02-taxadb-prep.pbs to prepare the lineage file and genome fasta's for bowtie2 indexing<\/p>"},"is_project":0},{"component_id":"1003171","previous_id":"1003169","original_id":"0","guid":"855442CD02354D488B60953467BB9D01","previous_guid":"0E83F61B315240E1818BFBF13B0C5266","component_type_id":"15","data_id":"2179","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"Example script is mg-sample-data\/scripts\/02-taxadb-prep.pbs\n\nThis script is meant to be submitted to a PBS job scheduler by issuing the command \"qsub 02-taxadb-prep.pbs\" but can be edited to run with other job schedulers.","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"586884","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"F42F4BC0596247BFA3ABF66D27051009","previous_guid":"9C640386BD794407ACFF9D8E8B249002","previous_id":"586883","last_modified":"1506033904","components":[{"component_id":"1003173","previous_id":0,"original_id":"0","guid":"BB89B7A3F86E4BDA9F0D21E0EC047A8E","previous_guid":null,"component_type_id":"6","data_id":"0","data":"Bowtie2 Prep","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Bowtie2 Prep"},"is_project":0},{"component_id":"1003172","previous_id":"1003173","original_id":"0","guid":"0F1495FD85B546DA89CCB6E3A9B69110","previous_guid":"BB89B7A3F86E4BDA9F0D21E0EC047A8E","component_type_id":"1","data_id":null,"data":"<p>Make Bowtie2 indices of the split multi-genome fasta files.<\/p>\n<p>\u00a0<\/p>\n<p>The example script will launch bowtie2 to run index building on two computers in parallel. This is why you split the giant fasta into files of ~4 Gb each. So if you had 40 gb worth of genomes in one big file, you could have 10 computers doing the bowtie2 indexing at once.<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Make Bowtie2 indices of the split multi-genome fasta files.<\/p>\n<p>\u00a0<\/p>\n<p>The example script will launch bowtie2 to run index building on two computers in parallel. This is why you split the giant fasta into files of ~4 Gb each. So if you had 40 gb worth of genomes in one big file, you could have 10 computers doing the bowtie2 indexing at once.<\/p>"},"is_project":0},{"component_id":"1003174","previous_id":"1003172","original_id":"0","guid":"F1F9C251B80E4F9084490D4F07FDD264","previous_guid":"0F1495FD85B546DA89CCB6E3A9B69110","component_type_id":"15","data_id":"2180","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"Example script is mg-sample-data\/scripts\/03-bowtie2-build.sh\n\nThis script is meant to be submitted to a PBS job scheduler by issuing the command \".\/03-bowtie2-build.sh\" but can be edited to run with other job schedulers (must also edit .\/workers\/bowtie2-build.sh).","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"586896","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"C682DE1F033548678C873F9B68963000","previous_guid":"054A542B06E641ECA227305D93320133","previous_id":"585309","last_modified":"1505256957","components":[{"component_id":"1003199","previous_id":0,"original_id":"0","guid":"1C89C65CF19E4176950FB112E7CABF3E","previous_guid":null,"component_type_id":"6","data_id":"0","data":"Setup","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Setup"},"is_project":0},{"component_id":"1003198","previous_id":"1003199","original_id":"0","guid":"A3AD208698234D9C8783EB63FE6307C6","previous_guid":"1C89C65CF19E4176950FB112E7CABF3E","component_type_id":"1","data_id":null,"data":"<p>Edit config.sh with your favorite text editor to set variables (directories mainly)<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Edit config.sh with your favorite text editor to set variables (directories mainly)<\/p>"},"is_project":0},{"component_id":"1003200","previous_id":"1003198","original_id":"0","guid":"C0F1907A57CC46D0A9C1CBC41F7ACD1E","previous_guid":"A3AD208698234D9C8783EB63FE6307C6","component_type_id":"15","data_id":"2175","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"Example: \"vim config.sh\"","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"588449","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"5A2E0FD1BE824190AC3DACE7F4D6DC56","previous_guid":"00F20CB118334C4CA94E45310E093142","previous_id":"590958","last_modified":"1506378544","components":[{"component_id":"1007001","previous_id":0,"original_id":"0","guid":"784277640161455D93635FE57060C398","previous_guid":null,"component_type_id":"6","data_id":"0","data":"Centrifuge","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Centrifuge"},"is_project":0},{"component_id":"1007000","previous_id":"1007001","original_id":"0","guid":"08B6B6CAC05A4F909B73D67EDDCD476F","previous_guid":"784277640161455D93635FE57060C398","component_type_id":"1","data_id":null,"data":"<p>Get the singularity container for centrifuge a classifier program for bacterial\/viral species (https:\/\/ccb.jhu.edu\/software\/centrifuge\/)<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Get the singularity container for centrifuge a classifier program for bacterial\/viral species (https:\/\/ccb.jhu.edu\/software\/centrifuge\/)<\/p>"},"is_project":0},{"component_id":"1007002","previous_id":"1007000","original_id":"0","guid":"48263B7236E1452CA8F470F84CA6CFB7","previous_guid":"08B6B6CAC05A4F909B73D67EDDCD476F","component_type_id":"19","data_id":"85","data":"","order_id":"2","name":"Safety information","data_by_id":"1","type_id":"19","source_data":{"body":"If doing this step for the species identification you can optionally skip QC and definitely skip Bowtie2 Prep","link":null,"can_edit":"1"},"is_project":0},{"component_id":"1007003","previous_id":"1007002","original_id":"0","guid":"63AD696C31644E31A224E75BE3E58B10","previous_guid":"48263B7236E1452CA8F470F84CA6CFB7","component_type_id":"15","data_id":"2240","data":"","order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"git clone https:\/\/github.com\/scottdaniel\/singularity-centrifuge.git","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"588450","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"70050F1A3268479BA91913632656B380","previous_guid":"5A2E0FD1BE824190AC3DACE7F4D6DC56","previous_id":"588449","last_modified":"1506378870","components":[{"component_id":"1007005","previous_id":0,"original_id":"0","guid":"9FE32569B4E54CC7B750CBE971355D67","previous_guid":null,"component_type_id":"6","data_id":"0","data":"Centrifuge","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Centrifuge"},"is_project":0},{"component_id":"1007004","previous_id":"1007005","original_id":"0","guid":"A54B81F9946A4B6EAB28AAABB6283A15","previous_guid":"9FE32569B4E54CC7B750CBE971355D67","component_type_id":"1","data_id":null,"data":"<p>Build the singularity container as before<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Build the singularity container as before<\/p>"},"is_project":0},{"component_id":"1007006","previous_id":"1007004","original_id":"0","guid":"19280CCA01DB4B27A911017B02F63F1A","previous_guid":"A54B81F9946A4B6EAB28AAABB6283A15","component_type_id":"15","data_id":"2241","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd singularity-centrifuge && make img","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"588451","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"50DE9353213F4F0DAE3A6D61F277DDCE","previous_guid":"70050F1A3268479BA91913632656B380","previous_id":"588450","last_modified":"1506378771","components":[{"component_id":"1007007","previous_id":0,"original_id":"0","guid":"692D2212B794455EBF81D57F69EA44CC","previous_guid":null,"component_type_id":"1","data_id":null,"data":"","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":""},"is_project":0},{"component_id":"1007008","previous_id":"1007007","original_id":"0","guid":"5D2CF0FF1DF84294BC39A24D027A9A23","previous_guid":"692D2212B794455EBF81D57F69EA44CC","component_type_id":"6","data_id":"0","data":"","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":""},"is_project":0}]},{"id":"590957","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"C5B0BD631FA64D2586CBA15212BD2083","previous_guid":"230578A3951640DA91FDE54B2FF955DB","previous_id":"586153","last_modified":"1508181299","components":[{"component_id":"1012806","previous_id":0,"original_id":"0","guid":"81A04F194A584CFBBBC0A12569046DD1","previous_guid":null,"component_type_id":"6","data_id":"0","data":"Bowtie2 Prep","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Bowtie2 Prep"},"is_project":0},{"component_id":"1012805","previous_id":"1012806","original_id":"0","guid":"E4F4C6FD15324F32A091636EB42E5E53","previous_guid":"81A04F194A584CFBBBC0A12569046DD1","component_type_id":"1","data_id":null,"data":"<p>We need to build a couple more singularity images for this section: singularity-taxoner and singularity-tuxedo (named after the tuxedo suite of tools: bowtie2, cufflinks, etc.)<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>We need to build a couple more singularity images for this section: singularity-taxoner and singularity-tuxedo (named after the tuxedo suite of tools: bowtie2, cufflinks, etc.)<\/p>"},"is_project":0}]},{"id":"590958","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"00F20CB118334C4CA94E45310E093142","previous_guid":"F42F4BC0596247BFA3ABF66D27051009","previous_id":"586884","last_modified":"1508183021","components":[{"component_id":"1012808","previous_id":0,"original_id":"0","guid":"DF855579C8A0400C8A83E3D3E6E2DE90","previous_guid":null,"component_type_id":"6","data_id":"0","data":"Taxoner","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Taxoner"},"is_project":0},{"component_id":"1012807","previous_id":"1012808","original_id":"0","guid":"6D9A8ACBF6E24226A529505938AEAC4A","previous_guid":"DF855579C8A0400C8A83E3D3E6E2DE90","component_type_id":"1","data_id":null,"data":"<p>Run taxoner for the DNA reads to determine species composition<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Run taxoner for the DNA reads to determine species composition<\/p>"},"is_project":0},{"component_id":"1012809","previous_id":"1012807","original_id":"0","guid":"B90EA1CD857E445CB5BA6C79873EE60F","previous_guid":"6D9A8ACBF6E24226A529505938AEAC4A","component_type_id":"15","data_id":"2355","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"Example script is mg-sample-data\/scripts\/04-taxoner.sh\n\nThis script is meant to be submitted to a PBS job scheduler by issuing the command \".\/04-taxoner.sh\" but can be edited to run with other job schedulers (must also edit .\/workers\/runTaxoner.sh).","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]}]}