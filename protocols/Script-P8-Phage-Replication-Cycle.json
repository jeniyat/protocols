{"uri":"Script-P8-Phage-Replication-Cycle-egwbbxe","version_id":"0","protocol_name":"Script P8: Phage Replication Cycle","protocol_name_html":"Script P8: Phage Replication Cycle","is_prepublished":"0","can_edit":"0","parent_id":null,"api_version":"2","is_new_mode":"1","last_modified":"1510247633","type_id":"1","link":"http:\/\/mbio.asm.org\/content\/6\/5\/e01578-15.full","fork_id":"","public_fork_note":"","number_of_steps":"58","has_versions":"0","first_published_date":"1457616161","publish_date":"2016-03-11 02:59:28","documents":"null","have_protocol_in_step":"0","is_protocol_in_step":"0","vendor_name":"Contributed by users","vendor_link":"https:\/\/www.protocols.io","vendor_logo":"\/img\/vendors\/1.png","mod_mins":"-45","mod_secs":"1","description":"This protocol provides a method for predicting the proportions of phage replication cycles within the skin virome. We will be looking at three markers for temperate phages: 1) presence of integrase genes, 2) presence of ACLAME database prophage elements, and 3) similarity to bacterial genomes. Based on the methods found in the following publication:\u00a0<br \/><br \/>Hannigan, Geoffrey D., et al. \"The Human Skin Double-Stranded DNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and Dynamic Associations with the Host Microbiome.\"\u00a0<em>mBio<\/em>\u00a06.5 (2015): e01578-15.<br \/><br \/>","is_bookmarked":"0","can_reassign":"1","before_start":"Perl scripts and other supplementary information available at:<br \/><br \/><a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248<\/a>","has_guidelines":"1","materials":[],"warning":"","version_class":"2294","public":"1","is_owner":"1","is_original_owner":"1","created_on":"1454007889","protocol_affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","affiliation":"Merck Research Labs","doi":"dx.doi.org\/10.17504\/protocols.io.egwbbxe","doi_status":"2","changed_fork_steps":null,"profile_url":"Geoffrey-w2y254v2q2","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","created_by":"Geoffrey Hannigan","private_link":"92EBAA09C2CDA58C665D71665F2209B0","original_img":"1","username":"geoffrey-hannigan","is_retracted":"0","retraction_reason":null,"plos_id":null,"manuscript_citation":null,"journal_name":null,"is_donations_disabled":"0","is_donations_disabled_by_user":"9","item_record_id":226777,"fork_info":[],"compare_forks":[],"protocols":[],"groups":[{"group_id":"45","group_uri":"verve-net","group_name":"VERVE Net","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/cdqcwwe.png","requested_uid":null,"request_flag":null,"my_request":"1"},{"group_id":"138","group_uri":"club-grice","group_name":"Club Grice","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/cp7dzme.png","requested_uid":null,"request_flag":null,"my_request":"1"}],"number_of_shared_runs":[],"ownership_history":[],"keywords":"","transfer_to_user":[],"sub_transfer":false,"is_transfer_pending":false,"number_of_bookmarks":"0","collections":[{"protocol_name":"The Human Skin dsDNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and its Dynamic Associations with the Host Microbiome","protocol_name_html":"The Human Skin dsDNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and its Dynamic Associations with the Host Microbiome","uri":"The-Human-Skin-dsDNA-Virome-Topographical-and-Temp-ekubcww","username":"geoffrey-hannigan","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","full_name":"Geoffrey Hannigan"}],"tags":[],"archived":0,"sub_authors":[],"sub_protocols_number":0,"can_edit_shared":0,"shared_runs":[],"is_shared_run":0,"is_shared":1,"banner":null,"contact_badges":[{"badge_id":"4","badge_image":"\/img\/badges\/gold.svg","badge_description":"Gold power author!"},{"badge_id":"5","badge_image":"\/img\/badges\/earlyadopter.svg","badge_description":"Early adopter"},{"badge_id":"6","badge_image":"\/img\/badges\/socialbutterfly.svg","badge_description":"Social butterfly"}],"number_of_comments":0,"is_locked":0,"is_locked_by":false,"authors":"HANNIGAN GD, GRICE EA, ET AL.","authors_list":[{"name":"HANNIGAN GD","affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null},{"name":" GRICE EA","affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null},{"name":" ET AL.","affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null}],"user":{"profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","username":"geoffrey-hannigan","full_name":"Geoffrey Hannigan","created_by":"Geoffrey Hannigan"},"access":{"can_view":"1","can_remove":"0","can_add":"0","can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":"0","can_move":"1","can_transfer":"1","can_download":"1","is_locked":"0"},"is_contact_suspended":0,"guidelines":"<strong>Required Software:<\/strong><br \/>\n<ul>\n<li>UniProt<\/li>\n<li>ACLAME<\/li>\n<li>NCBI Bacterial Genomes<\/li>\n<li>NCBI's BLAST+ v2.2.0<\/li>\n<\/ul>\n<br \/><strong>Relevent Files<\/strong><br \/>Output:<br \/>\n<ul>\n<li>Phage_replication_cycle\/end_contig_counts_final.tsv<\/li>\n<li>Phage_replication_cycle\/final_contig_quant_annotation_ncbi.tsv<\/li>\n<li>Phage_replication_cycle\/phage_lifecycle_otu_table_for_rel_abund.tsv<\/li>\n<\/ul>\nPerl script: remove_block_fasta_format.pl<br \/>R script: <a href=\"https:\/\/www.protocols.io\/view\/Script-R11-Replication-Cycle-ejfbcjn\" target=\"_blank\">R11<\/a>","status_id":"1","is_research":"1","status_info":null,"steps":[{"id":"141196","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"D96870192F6B43BFA598F38145282633","previous_guid":null,"previous_id":"0","last_modified":"1495033562","components":[{"component_id":"147590","previous_id":0,"original_id":"0","guid":"6DF39CE12F434487A70099B6EA37C309","previous_guid":null,"component_type_id":"1","data_id":"0","data":"First go to the UniProt website and search fro all of the phage integrases using the following search terms: organisms: phage AND integrase which gave 32 Swiss-Prot genes and 1,120 TrEMBL genes (accessed Sep 02, 2014).","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"First go to the UniProt website and search fro all of the phage integrases using the following search terms: organisms: phage AND integrase which gave 32 Swiss-Prot genes and 1,120 TrEMBL genes (accessed Sep 02, 2014)."},"is_project":0},{"component_id":"147597","previous_id":"147590","original_id":"0","guid":"ED35DDA972D546A981FA80883A9AE61C","previous_guid":"6DF39CE12F434487A70099B6EA37C309","component_type_id":"6","data_id":"0","data":"Database Preparation","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Database Preparation"},"is_project":0},{"component_id":"147598","previous_id":"147597","original_id":"0","guid":"429D40EC9B79429D9D0D8A468417DC10","previous_guid":"ED35DDA972D546A981FA80883A9AE61C","component_type_id":"7","data_id":"231","data":"http:\/\/beta.uniprot.org\/uniprot\/?query=organism%3aphage+AND+integrase&columns=id%2centry+name%2creviewed%2cprotein+names%2cgenes%2corganism%2clength&offset=0&sort=score","order_id":"2","name":"External Link","data_by_id":"1","type_id":"7","source_data":{"link":"http:\/\/beta.uniprot.org\/uniprot\/?query=organism%3aphage+AND+integrase&columns=id%2centry+name%2creviewed%2cprotein+names%2cgenes%2corganism%2clength&offset=0&sort=score"},"is_project":0},{"component_id":"147591","previous_id":"147598","original_id":"0","guid":"36D8C914F8D34BE2BA2A698C38AFF7B1","previous_guid":"429D40EC9B79429D9D0D8A468417DC10","component_type_id":"26","data_id":"10186","data":"","order_id":"3","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10186","thread_id":"10186","id":"10186","thread_title":"Annotation on step 1 of Script P8: Phage Replication Cycle","uri":"annotation-on-step-1-of-script-p8-phage-replication","thread_uri":"annotation-on-step-1-of-script-p8-phage-replication","step_id":"141196","protocol_uri":"Script-P8-Phage-Replication-Cycle-egwbbxe","protocol_name":"Script P8: Phage Replication Cycle","protocol_name_html":"Script P8: Phage Replication Cycle","annotation":"Because of the way the downloads were setup, I just had to download these reference fastas onto my local computer using my internet browser. These could then be easily transfered to a server for remote analysis as '.\/references\/UniProt_Phage_Integrase\/uniprot-organism_3Aphage_AND_integrase.fasta'.","thread_text":"Because of the way the downloads were setup, I just had to download these reference fastas onto my local computer using my internet browser. These could then be easily transfered to a server for remote analysis as '.\/references\/UniProt_Phage_Integrase\/uniprot-organism_3Aphage_AND_integrase.fasta'.","body":"Because of the way the downloads were setup, I just had to download these reference fastas onto my local computer using my internet browser. These could then be easily transfered to a server for remote analysis as '.\/references\/UniProt_Phage_Integrase\/uniprot-organism_3Aphage_AND_integrase.fasta'.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454008287","created_on":"1454008287","modified_on":"1457537824","last_updated":"1457537824","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0}]},{"id":"141200","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"19914035D24F413EB4123EFBD61234B4","previous_guid":"D96870192F6B43BFA598F38145282633","previous_id":"141196","last_modified":"1457537824","components":[{"component_id":"147601","previous_id":0,"original_id":"0","guid":"5929998E769F4113A7888EC5D2B95E41","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Remove block formatting from the integrase reference database.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Remove block formatting from the integrase reference database."},"is_project":0},{"component_id":"147602","previous_id":"147601","original_id":"0","guid":"7C51CBBD549545058CFEF28161CB3BDB","previous_guid":"5929998E769F4113A7888EC5D2B95E41","component_type_id":"6","data_id":"0","data":"Database Preparation","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Database Preparation"},"is_project":0},{"component_id":"147603","previous_id":"147602","original_id":"0","guid":"A3ECC3369CC1466A91CCE6ED9F3A1369","previous_guid":"7C51CBBD549545058CFEF28161CB3BDB","component_type_id":"15","data_id":"475","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Removing block format from integrase reference database...\nperl remove_block_fasta_format.pl .\/references\/UniProt_Phage_Integrase\/uniprot-organism_3Aphage_AND_integrase.fasta .\/references\/UniProt_Phage_Integrase\/uniprot-organism_3Aphage_AND_integrase_no_block.fasta","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141201","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"1B55A80C6B2245E2B54A92E33665D653","previous_guid":"19914035D24F413EB4123EFBD61234B4","previous_id":"141200","last_modified":"1457537824","components":[{"component_id":"147604","previous_id":0,"original_id":"0","guid":"EFB3402A50774B2D9270FC67235CC649","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Create blast database from the integrase reference fasta and store it in the same reference directory.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Create blast database from the integrase reference fasta and store it in the same reference directory."},"is_project":0},{"component_id":"147605","previous_id":"147604","original_id":"0","guid":"FAA2D53DC3FD44BFAF403BC3FDDF8968","previous_guid":"EFB3402A50774B2D9270FC67235CC649","component_type_id":"6","data_id":"0","data":"Database Preparation","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Database Preparation"},"is_project":0},{"component_id":"147606","previous_id":"147605","original_id":"0","guid":"6F2D1CD1393A4CCAB31B52C5F80EFFFA","previous_guid":"FAA2D53DC3FD44BFAF403BC3FDDF8968","component_type_id":"26","data_id":"10188","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10188","thread_id":"10188","id":"10188","thread_title":"Annotation on step 3 of Script P8: Phage Replication Cycle","uri":"annotation-on-step-3-of-script-p8-phage-replication","thread_uri":"annotation-on-step-3-of-script-p8-phage-replication","step_id":"141201","protocol_uri":"Script-P8-Phage-Replication-Cycle-egwbbxe","protocol_name":"Script P8: Phage Replication Cycle","protocol_name_html":"Script P8: Phage Replication Cycle","annotation":"We are now able to use this reference dataset to calculate the numbers of contigs that were annotated as bacteriophages (see phage taxonomy script) as well as integrase genes. In the end we want to append the numbers of contigs that had integrase, were phages, or both, to the master data list. This will be used for the end result Euler diagram.","thread_text":"We are now able to use this reference dataset to calculate the numbers of contigs that were annotated as bacteriophages (see phage taxonomy script) as well as integrase genes. In the end we want to append the numbers of contigs that had integrase, were phages, or both, to the master data list. This will be used for the end result Euler diagram.","body":"We are now able to use this reference dataset to calculate the numbers of contigs that were annotated as bacteriophages (see phage taxonomy script) as well as integrase genes. In the end we want to append the numbers of contigs that had integrase, were phages, or both, to the master data list. This will be used for the end result Euler diagram.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454009611","created_on":"1454009611","modified_on":"1457537824","last_updated":"1457537824","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"147607","previous_id":"147606","original_id":"0","guid":"F3964CD509334BC8ADFD556BBECD4BF7","previous_guid":"6F2D1CD1393A4CCAB31B52C5F80EFFFA","component_type_id":"15","data_id":"476","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Creating blast database from integrase reference fasta...\nmakeblastdb -dbtype prot -in .\/references\/UniProt_Phage_Integrase\/uniprot-organism_3Aphage_AND_integrase_no_block.fasta -out .\/references\/UniProt_Phage_Integrase\/uniprot_phage_integrase_db","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141202","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"95076E0204714FBDAF3599AD59451EC5","previous_guid":"1B55A80C6B2245E2B54A92E33665D653","previous_id":"141201","last_modified":"1457537824","components":[{"component_id":"147608","previous_id":0,"original_id":"0","guid":"1C1A0077FCB74E7BB1D16439A2FD5F6B","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Make dir for the integrase output.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Make dir for the integrase output."},"is_project":0},{"component_id":"147609","previous_id":"147608","original_id":"0","guid":"FFEF4A21FA5C4ED98AB596D9B7C8AE08","previous_guid":"1C1A0077FCB74E7BB1D16439A2FD5F6B","component_type_id":"6","data_id":"0","data":"Blastx the contig OTUs against the integrase database","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Blastx the contig OTUs against the integrase database"},"is_project":0},{"component_id":"147610","previous_id":"147609","original_id":"0","guid":"AE5AA6EB26304FACA5267A8CC627447D","previous_guid":"FFEF4A21FA5C4ED98AB596D9B7C8AE08","component_type_id":"15","data_id":"477","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/phage_lifecycle\nmkdir .\/phage_lifecycle\/integrase","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141203","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"FAFA886A0B75499D84A2BE16464D1A0D","previous_guid":"95076E0204714FBDAF3599AD59451EC5","previous_id":"141202","last_modified":"1457537824","components":[{"component_id":"147611","previous_id":0,"original_id":"0","guid":"DE1D91885F074F86832D405EFF535579","previous_guid":null,"component_type_id":"1","data_id":"0","data":"The query ORFs were generated in a previous script but I will use them again here.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"The query ORFs were generated in a previous script but I will use them again here."},"is_project":0},{"component_id":"147612","previous_id":"147611","original_id":"0","guid":"B1429DB757CD4752BA73A5ACE2117475","previous_guid":"DE1D91885F074F86832D405EFF535579","component_type_id":"6","data_id":"0","data":"Blastx the contig OTUs against the integrase database","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Blastx the contig OTUs against the integrase database"},"is_project":0},{"component_id":"147613","previous_id":"147612","original_id":"0","guid":"6DCCE084C4E34676881435A1CFCEF6D1","previous_guid":"B1429DB757CD4752BA73A5ACE2117475","component_type_id":"15","data_id":"478","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Blastxing ORFs to the integrase reference database...\nblastx -query \/home\/ghanni\/Analysis\/Human_virome_analysis\/glimmer3\/output\/Contigs_no_block_with_names_glimmer_output_final.fa -out .\/phage_lifecycle\/integrase\/blastx_ORFs_against_int.tsv -db \/project\/egricelab\/references\/UniProt_Phage_Integrase\/uniprot_phage_integrase_db -outfmt 6 -num_threads 16 -max_target_seqs 1 -evalue 1e-5","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141204","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"8B0BF16C3A524FF09F44E82EE5BA2FB9","previous_guid":"FAFA886A0B75499D84A2BE16464D1A0D","previous_id":"141203","last_modified":"1457537824","components":[{"component_id":"147614","previous_id":0,"original_id":"0","guid":"43CF1CBF40184C9F806E210231D0FD22","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Pull out the contig IDs from the blastx output. This is the list of all contigs that contain an integrase gene.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Pull out the contig IDs from the blastx output. This is the list of all contigs that contain an integrase gene."},"is_project":0},{"component_id":"147615","previous_id":"147614","original_id":"0","guid":"B04F7B80D3BB4B2297D3D3265282F7B4","previous_guid":"43CF1CBF40184C9F806E210231D0FD22","component_type_id":"6","data_id":"0","data":"Blastx the contig OTUs against the integrase database","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Blastx the contig OTUs against the integrase database"},"is_project":0},{"component_id":"147616","previous_id":"147615","original_id":"0","guid":"7E630DAFE7494BD788E330F21A18D03E","previous_guid":"B04F7B80D3BB4B2297D3D3265282F7B4","component_type_id":"15","data_id":"479","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Getting list of contigs containing an integrase gene...\ncut -f 1 .\/phage_lifecycle\/integrase\/blastx_ORFs_against_int.tsv | sed 's\/\\.orf.*\/\/' | sort | uniq | sed 's\/^\/>\/' > .\/phage_lifecycle\/integrase\/int_contig_hit_list.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141205","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"717A5BAB1F5B4F5FAA3AC0E55C2431B2","previous_guid":"8B0BF16C3A524FF09F44E82EE5BA2FB9","previous_id":"141204","last_modified":"1457537824","components":[{"component_id":"147617","previous_id":0,"original_id":"0","guid":"3FB8AA7D9D14438D9E99B8B10BFD9271","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Determine what contigs had hits in each anatomical location. Use bowtie2 alignments that have been calculated in other scripts to get a list of contig hits.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Determine what contigs had hits in each anatomical location. Use bowtie2 alignments that have been calculated in other scripts to get a list of contig hits."},"is_project":0},{"component_id":"147618","previous_id":"147617","original_id":"0","guid":"3C34F3B937E94B1084D7A2114560827D","previous_guid":"3FB8AA7D9D14438D9E99B8B10BFD9271","component_type_id":"6","data_id":"0","data":"Blastx the contig OTUs against the integrase database","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Blastx the contig OTUs against the integrase database"},"is_project":0},{"component_id":"147619","previous_id":"147618","original_id":"0","guid":"E0E6B5E4CBF24C7A96C57937FCF41626","previous_guid":"3C34F3B937E94B1084D7A2114560827D","component_type_id":"15","data_id":"480","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/phage_lifecycle\/contig_presence_lists_per_sample_for_integrase\necho Getting lists of contigs present in each negative-cleaned sample...\nfor file in $(ls .\/uniprot_contig_virome_trembl_rel_abund\/abundance_from_sam); do\n\tsed 's\/\\t.*\/\/' .\/uniprot_contig_virome_trembl_rel_abund\/abundance_from_sam\/${file} | tail -n +2 | sort | uniq | sed 's\/^\/>\/' > .\/phage_lifecycle\/contig_presence_lists_per_sample_for_integrase\/${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141206","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"8E133B4729BF43008ADDA1BA9437747F","previous_guid":"717A5BAB1F5B4F5FAA3AC0E55C2431B2","previous_id":"141205","last_modified":"1457537824","components":[{"component_id":"147620","previous_id":0,"original_id":"0","guid":"FC1DF3BDD3FB48D9AF4232997921C088","previous_guid":null,"component_type_id":"1","data_id":"0","data":"First get a list of the contigs that are found in the sites of interest.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"First get a list of the contigs that are found in the sites of interest."},"is_project":0},{"component_id":"147621","previous_id":"147620","original_id":"0","guid":"8D45C53FDB334D54A1D7250E6A20C456","previous_guid":"FC1DF3BDD3FB48D9AF4232997921C088","component_type_id":"6","data_id":"0","data":"Overall Integrase Instead of By-Sample (This is ultimately what we use)","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Overall Integrase Instead of By-Sample (This is ultimately what we use)"},"is_project":0},{"component_id":"147622","previous_id":"147621","original_id":"0","guid":"BBCB86A111824EDD9ACB7C57356D52E4","previous_guid":"8D45C53FDB334D54A1D7250E6A20C456","component_type_id":"15","data_id":"481","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Get list of contigs in overall non-negative sites...\n# Get list of SampleIDs of the bacteriophage contigs in the specific sites\nawk '$3 != \"NA\" && $7 != \"Neg\" { print $3 }' .\/SkinMet_and_Virome_001_metadata.tsv > .\/phage_lifecycle\/integrase\/specific_site_sampleID_list.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141207","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"ABA60646BC3C490DA177D49F0A3A8CB3","previous_guid":"8E133B4729BF43008ADDA1BA9437747F","previous_id":"141206","last_modified":"1457537824","components":[{"component_id":"147623","previous_id":0,"original_id":"0","guid":"E41D4B5399254A5EA5B4910F913D348F","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get list of the contigs present in each of those samples listed.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get list of the contigs present in each of those samples listed."},"is_project":0},{"component_id":"147624","previous_id":"147623","original_id":"0","guid":"1B8F02A1B46A4D5081D9119712F7A7C5","previous_guid":"E41D4B5399254A5EA5B4910F913D348F","component_type_id":"6","data_id":"0","data":"Overall Integrase Instead of By-Sample (This is ultimately what we use)","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Overall Integrase Instead of By-Sample (This is ultimately what we use)"},"is_project":0},{"component_id":"147625","previous_id":"147624","original_id":"0","guid":"3DC58A8C9C1E47A792BF4C200FACC785","previous_guid":"1B8F02A1B46A4D5081D9119712F7A7C5","component_type_id":"15","data_id":"482","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for name in $(cat .\/phage_lifecycle\/integrase\/specific_site_sampleID_list.txt); do\n\tcat .\/phage_lifecycle\/contig_presence_lists_per_sample_for_phage_genes\/${name}_R1.txt >> .\/phage_lifecycle\/integrase\/phage_contigs_no_negs.txt\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141208","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"89524E5515834B329DFD453EF11C276B","previous_guid":"ABA60646BC3C490DA177D49F0A3A8CB3","previous_id":"141207","last_modified":"1457537824","components":[{"component_id":"147626","previous_id":0,"original_id":"0","guid":"8D224CC53C87475A8637F814FB45891D","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get the uniq contigs in this list.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get the uniq contigs in this list."},"is_project":0},{"component_id":"147627","previous_id":"147626","original_id":"0","guid":"2250B1851778423D8962257CEE869059","previous_guid":"8D224CC53C87475A8637F814FB45891D","component_type_id":"6","data_id":"0","data":"Overall Integrase Instead of By-Sample (This is ultimately what we use)","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Overall Integrase Instead of By-Sample (This is ultimately what we use)"},"is_project":0},{"component_id":"147628","previous_id":"147627","original_id":"0","guid":"0E5B71FED30045B3A34F733B0D5C6EC8","previous_guid":"2250B1851778423D8962257CEE869059","component_type_id":"15","data_id":"483","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sort .\/phage_lifecycle\/integrase\/phage_contigs_no_negs.txt | uniq > .\/phage_lifecycle\/integrase\/phage_contigs_no_negs_uniq.txt\nwc -l .\/phage_lifecycle\/integrase\/phage_contigs_no_negs_uniq.txt | sed 's\/^ *\/\/' | sed 's\/ \/\\t\/' | sed 's\/phage_contigs_no_negs_uniq\\.txt\/Phage_Contig_Count\/'>> .\/phage_lifecycle\/end_contig_counts.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141209","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"2292CCB3730841EAA2BFE5175B387917","previous_guid":"89524E5515834B329DFD453EF11C276B","previous_id":"141208","last_modified":"1457537824","components":[{"component_id":"147629","previous_id":0,"original_id":"0","guid":"BB4CF505C5A04C60BEAD2D67479DF694","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Perform the same thing with the integrase genes.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Perform the same thing with the integrase genes."},"is_project":0},{"component_id":"147630","previous_id":"147629","original_id":"0","guid":"7FC68F5FE09C44778D6F01843F37BA37","previous_guid":"BB4CF505C5A04C60BEAD2D67479DF694","component_type_id":"6","data_id":"0","data":"Overall Integrase Instead of By-Sample (This is ultimately what we use)","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Overall Integrase Instead of By-Sample (This is ultimately what we use)"},"is_project":0},{"component_id":"147631","previous_id":"147630","original_id":"0","guid":"A151A90C3EC24DC3985BC55EF76A625C","previous_guid":"7FC68F5FE09C44778D6F01843F37BA37","component_type_id":"15","data_id":"484","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for name in $(cat .\/phage_lifecycle\/integrase\/specific_site_sampleID_list.txt); do\n\tcat .\/phage_lifecycle\/int_contig_presence_lists_per_sample_for_integrase\/${name}_R1.txt >> .\/phage_lifecycle\/integrase\/int_contigs_no_negs.txt\ndone\nsort .\/phage_lifecycle\/integrase\/int_contigs_no_negs.txt | uniq > .\/phage_lifecycle\/integrase\/int_contigs_no_negs_uniq.txt\nwc -l .\/phage_lifecycle\/integrase\/int_contigs_no_negs_uniq.txt | sed 's\/^ *\/\/' | sed 's\/ \/\\t\/' | sed 's\/int_contigs_no_negs_uniq\\.txt\/Integrase_Contig_Count\/'>> .\/phage_lifecycle\/end_contig_counts.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141210","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"898A2B59B3CE4764B746C8A6FDC8F0CA","previous_guid":"2292CCB3730841EAA2BFE5175B387917","previous_id":"141209","last_modified":"1457537824","components":[{"component_id":"147632","previous_id":0,"original_id":"0","guid":"C969C2EF636C400CA0068B239175238B","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get the number of shared contigs between the phage and int contig sets using awk.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get the number of shared contigs between the phage and int contig sets using awk."},"is_project":0},{"component_id":"147633","previous_id":"147632","original_id":"0","guid":"E59C26682E6D4CA2BC90C8FBE329BFC4","previous_guid":"C969C2EF636C400CA0068B239175238B","component_type_id":"6","data_id":"0","data":"Overall Integrase Instead of By-Sample (This is ultimately what we use)","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Overall Integrase Instead of By-Sample (This is ultimately what we use)"},"is_project":0},{"component_id":"147634","previous_id":"147633","original_id":"0","guid":"828917F1819343A1BB219BDA2B3E72E0","previous_guid":"E59C26682E6D4CA2BC90C8FBE329BFC4","component_type_id":"15","data_id":"485","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"awk 'FNR==NR { a[$1]=$1; next } $1 in a { print $1 }' .\/phage_lifecycle\/integrase\/phage_contigs_no_negs_uniq.txt .\/phage_lifecycle\/integrase\/int_contigs_no_negs_uniq.txt > .\/phage_lifecycle\/integrase\/int_phage_shared_contigs_no_negs_uniq.txt\nwc -l .\/phage_lifecycle\/integrase\/int_phage_shared_contigs_no_negs_uniq.txt | sed 's\/^ *\/\/' | sed 's\/ \/\\t\/' | sed 's\/int_phage_shared_contigs_no_negs_uniq\\.txt\/Phage_and_Integrase_Contig_Count\/'>> .\/phage_lifecycle\/end_contig_counts.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141211","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"50AAD577001B41898A2D4D7E50A894C4","previous_guid":"898A2B59B3CE4764B746C8A6FDC8F0CA","previous_id":"141210","last_modified":"1495033562","components":[{"component_id":"147635","previous_id":0,"original_id":"0","guid":"4C5E2B574282471E8519634D1AF33E1F","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Download the prophage protein database (fasta) of ACLAME version 0.4 checking the following boxes: Sequence length; Original NCBI annotation; ACLAME family assignment (only first box); Cross-references; ACLAME function annotations; Sequences; Export in FASTA format; gzipped data.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Download the prophage protein database (fasta) of ACLAME version 0.4 checking the following boxes: Sequence length; Original NCBI annotation; ACLAME family assignment (only first box); Cross-references; ACLAME function annotations; Sequences; Export in FASTA format; gzipped data."},"is_project":0},{"component_id":"147636","previous_id":"147635","original_id":"0","guid":"990E42C461A14F16A1AA1822ADBF1C33","previous_guid":"4C5E2B574282471E8519634D1AF33E1F","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction by ACLAME Detection","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction by ACLAME Detection"},"is_project":0},{"component_id":"147637","previous_id":"147636","original_id":"0","guid":"316E62FCF7BC41C389FA11F04199DAA9","previous_guid":"990E42C461A14F16A1AA1822ADBF1C33","component_type_id":"7","data_id":"232","data":"http:\/\/aclame.ulb.ac.be\/perl\/Aclame\/Tools\/exporter.cgi?id=all&source=proteins&entry_id=1&length=on&ncbi_desc=on&family=on&xrefs=on&funct=on&sequence=on&fmt=fasta&format=gzip&x=145&y=23","order_id":"2","name":"External Link","data_by_id":"1","type_id":"7","source_data":{"link":"http:\/\/aclame.ulb.ac.be\/perl\/Aclame\/Tools\/exporter.cgi?id=all&source=proteins&entry_id=1&length=on&ncbi_desc=on&family=on&xrefs=on&funct=on&sequence=on&fmt=fasta&format=gzip&x=145&y=23"},"is_project":0}]},{"id":"141212","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"CEB48702C01D4880992C2CF40BEEC8A9","previous_guid":"50AAD577001B41898A2D4D7E50A894C4","previous_id":"141211","last_modified":"1457537824","components":[{"component_id":"147638","previous_id":0,"original_id":"0","guid":"243A6FD2489A4B0B95A904B354F23147","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Unzip the downloaded file.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Unzip the downloaded file."},"is_project":0},{"component_id":"147639","previous_id":"147638","original_id":"0","guid":"659018DBFF2749D6B937FBFABD812E47","previous_guid":"243A6FD2489A4B0B95A904B354F23147","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction by ACLAME Detection","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction by ACLAME Detection"},"is_project":0},{"component_id":"147640","previous_id":"147639","original_id":"0","guid":"C7A14F430D4647FBB58728C7641E602E","previous_guid":"659018DBFF2749D6B937FBFABD812E47","component_type_id":"15","data_id":"486","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"gunzip .\/references\/aclame_protein_prophages_ref\/aclame_proteins_prophages_0.4.fasta.gz","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141213","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"D3913D1FB21A499C96545DD2E622A999","previous_guid":"CEB48702C01D4880992C2CF40BEEC8A9","previous_id":"141212","last_modified":"1457537824","components":[{"component_id":"147641","previous_id":0,"original_id":"0","guid":"5BE4286AD89248A4BBF7E5FBED9730F3","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Remove the block fasta format using the\u00a0perl script remove_block_fasta_format.pl.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Remove the block fasta format using the\u00a0perl script remove_block_fasta_format.pl."},"is_project":0},{"component_id":"147642","previous_id":"147641","original_id":"0","guid":"5F8134A7CDFB4E55A4AC3ACFB82FB4DE","previous_guid":"5BE4286AD89248A4BBF7E5FBED9730F3","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction by ACLAME Detection","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction by ACLAME Detection"},"is_project":0},{"component_id":"147643","previous_id":"147642","original_id":"0","guid":"67E101D05E3C4AD4AAF1A80960CE47AA","previous_guid":"5F8134A7CDFB4E55A4AC3ACFB82FB4DE","component_type_id":"15","data_id":"487","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"perl .\/remove_block_fasta_format.pl .\/references\/aclame_protein_prophages_ref\/aclame_proteins_prophages_0.4.fasta .\/references\/aclame_protein_prophages_ref\/aclame_proteins_prophages_no_block.fasta","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141214","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"CF7733B3863447089A5404831561024D","previous_guid":"D3913D1FB21A499C96545DD2E622A999","previous_id":"141213","last_modified":"1457537824","components":[{"component_id":"147644","previous_id":0,"original_id":"0","guid":"D35A8EC6862A4A8B80937569C2B05885","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Create blast database from the ACLAME reference fasta and store it in the same reference directory.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Create blast database from the ACLAME reference fasta and store it in the same reference directory."},"is_project":0},{"component_id":"147645","previous_id":"147644","original_id":"0","guid":"A8C44175A3EF4E08909FC79655F7B532","previous_guid":"D35A8EC6862A4A8B80937569C2B05885","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction by ACLAME Detection","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction by ACLAME Detection"},"is_project":0},{"component_id":"147646","previous_id":"147645","original_id":"0","guid":"32B22492D5E4447F954998BE8634B602","previous_guid":"A8C44175A3EF4E08909FC79655F7B532","component_type_id":"15","data_id":"488","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Creating blast database from ACLAME reference fasta...\nmakeblastdb -dbtype prot -in .\/references\/aclame_protein_prophages_ref\/aclame_proteins_prophages_no_block.fasta -out .\/references\/aclame_protein_prophages_ref\/aclame_proteins_prophages_db","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141215","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"265BEC8C430249F9B9CA120DA9D129B9","previous_guid":"CF7733B3863447089A5404831561024D","previous_id":"141214","last_modified":"1457537824","components":[{"component_id":"147647","previous_id":0,"original_id":"0","guid":"4DFD403EC9524473A609A4D4639971DB","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Make dir for the ACLAME output.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Make dir for the ACLAME output."},"is_project":0},{"component_id":"147648","previous_id":"147647","original_id":"0","guid":"0D6B2A5E129046CC8F453CB36230BAD0","previous_guid":"4DFD403EC9524473A609A4D4639971DB","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction by ACLAME Detection","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction by ACLAME Detection"},"is_project":0},{"component_id":"147649","previous_id":"147648","original_id":"0","guid":"6AFB5FECF4AA422AB02DB36A8C0B20E2","previous_guid":"0D6B2A5E129046CC8F453CB36230BAD0","component_type_id":"15","data_id":"489","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/phage_lifecycle\/ACLAME","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141216","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"AC918F55D6BD43C3A0CF7980279FFD22","previous_guid":"265BEC8C430249F9B9CA120DA9D129B9","previous_id":"141215","last_modified":"1457537824","components":[{"component_id":"147650","previous_id":0,"original_id":"0","guid":"AE8404C3EB80486BB5A8214385BA3C91","previous_guid":null,"component_type_id":"1","data_id":"0","data":"The query ORFs were generated in a different script but I will use them again here.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"The query ORFs were generated in a different script but I will use them again here."},"is_project":0},{"component_id":"147651","previous_id":"147650","original_id":"0","guid":"8EC7C3C952684C4DABC5767E6FFD6ABD","previous_guid":"AE8404C3EB80486BB5A8214385BA3C91","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction by ACLAME Detection","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction by ACLAME Detection"},"is_project":0},{"component_id":"147652","previous_id":"147651","original_id":"0","guid":"54764FFF10E341A8B4D6458DE43B2D9C","previous_guid":"8EC7C3C952684C4DABC5767E6FFD6ABD","component_type_id":"15","data_id":"490","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Blastxing ORFs to the ACLAME reference database...\nblastx -query .\/glimmer3\/output\/Contigs_no_block_with_names_glimmer_output_final.fa -out .\/phage_lifecycle\/ACLAME\/blastx_ORFs_against_ACLAME.tsv -db .\/references\/aclame_protein_prophages_ref\/aclame_proteins_prophages_db -outfmt 6 -num_threads 16 -max_target_seqs 1 -evalue 1e-5","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141217","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"4C4DEDA9B8C0420DB4C102AFC713B3E8","previous_guid":"AC918F55D6BD43C3A0CF7980279FFD22","previous_id":"141216","last_modified":"1457537824","components":[{"component_id":"147653","previous_id":0,"original_id":"0","guid":"05F14DADBAE74DD58AA7105952FE5C89","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Pull out the contig IDs from the blastx output, filter out the contigs that did not have at least one orf match per 10kb, return the numbers of orfs that had assigned taxonomy to each contig.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Pull out the contig IDs from the blastx output, filter out the contigs that did not have at least one orf match per 10kb, return the numbers of orfs that had assigned taxonomy to each contig."},"is_project":0},{"component_id":"147654","previous_id":"147653","original_id":"0","guid":"90073D6B0E9743ABB848FA6EEC0D3068","previous_guid":"05F14DADBAE74DD58AA7105952FE5C89","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction by ACLAME Detection","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction by ACLAME Detection"},"is_project":0},{"component_id":"147655","previous_id":"147654","original_id":"0","guid":"DD70B614206C4D70856352278FF24CC5","previous_guid":"90073D6B0E9743ABB848FA6EEC0D3068","component_type_id":"15","data_id":"491","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Getting list of contigs containing an ACLAME gene once every 10kb...\ncut -f 1 .\/phage_lifecycle\/ACLAME\/blastx_ORFs_against_ACLAME.tsv | sed 's\/\\.orf.*\/\/' | sort | uniq -c | sed 's\/^ *\/\/' | sed 's\/ \/\\t\/' > .\/phage_lifecycle\/ACLAME\/ACLAME_contig_filtered_count_length_list.tsv\nawk 'FNR==NR { a[$1]=$2; next } $2 in a { print $2\"\\t\"$1\"\\t\"a[$2]\"\\t\"10000*$1\/a[$2] }' .\/contig_stats\/contig_length_without_greater_sign.txt .\/phage_lifecycle\/ACLAME\/ACLAME_contig_filtered_count_length_list.tsv | awk '$4 > 1' | cut -f 1 > .\/phage_lifecycle\/ACLAME\/ACLAME_contig_filtered_hit_list.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141218","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"D99697354B3344E9B8A0DC469EA6D838","previous_guid":"4C4DEDA9B8C0420DB4C102AFC713B3E8","previous_id":"141217","last_modified":"1457537824","components":[{"component_id":"147656","previous_id":0,"original_id":"0","guid":"9332BC85FFAB40D0B7138C6B4FF25ACB","previous_guid":null,"component_type_id":"1","data_id":"0","data":"This is the list of all contigs that contain an ACLAME gene at least once every 10kb.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"This is the list of all contigs that contain an ACLAME gene at least once every 10kb."},"is_project":0},{"component_id":"147657","previous_id":"147656","original_id":"0","guid":"67A430BF05814855B767AFC798EAAB66","previous_guid":"9332BC85FFAB40D0B7138C6B4FF25ACB","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction by ACLAME Detection","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction by ACLAME Detection"},"is_project":0},{"component_id":"147658","previous_id":"147657","original_id":"0","guid":"4AEDADC0E5324AA1942909E86B3C113C","previous_guid":"67A430BF05814855B767AFC798EAAB66","component_type_id":"15","data_id":"492","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sort .\/phage_lifecycle\/ACLAME\/ACLAME_contig_filtered_hit_list.tsv | uniq | sed 's\/^\/>\/' > .\/phage_lifecycle\/ACLAME\/ACLAME_contig_hit_list.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141252","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"2356D5E10E954575989F735100BE3F42","previous_guid":"D99697354B3344E9B8A0DC469EA6D838","previous_id":"141218","last_modified":"1457537824","components":[{"component_id":"147753","previous_id":0,"original_id":"0","guid":"5A7C5718C30945C2B81F9DE78A8B507D","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Now that you have both lists, use awk to generate a list of the shared contigs. This is the list of contigs, per sample, that contain an ACLAME gene and are present after negative control cleaning.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Now that you have both lists, use awk to generate a list of the shared contigs. This is the list of contigs, per sample, that contain an ACLAME gene and are present after negative control cleaning."},"is_project":0},{"component_id":"147754","previous_id":"147753","original_id":"0","guid":"C6E6DDD2CC454997B26ADFA2C59EC3CA","previous_guid":"5A7C5718C30945C2B81F9DE78A8B507D","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction by ACLAME Detection","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction by ACLAME Detection"},"is_project":0},{"component_id":"147755","previous_id":"147754","original_id":"0","guid":"3D8C62706B0A4203853324D27FB6DD06","previous_guid":"C6E6DDD2CC454997B26ADFA2C59EC3CA","component_type_id":"15","data_id":"493","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Generating lists of ACLAME gene containing contigs...\nmkdir .\/phage_lifecycle\/ACLAME_contig_presence_lists_per_sample_for_ACLAME\nfor file in $(ls .\/phage_lifecycle\/contig_presence_lists_per_sample_for_integrase); do\n\tawk 'FNR==NR { a[$1]=$1; next } $1 in a { print $1 }' .\/phage_lifecycle\/contig_presence_lists_per_sample_for_integrase\/${file} .\/phage_lifecycle\/ACLAME\/ACLAME_contig_hit_list.tsv > .\/phage_lifecycle\/ACLAME_contig_presence_lists_per_sample_for_ACLAME\/${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141253","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"87378D357040451BA2F36879014741BE","previous_guid":"2356D5E10E954575989F735100BE3F42","previous_id":"141252","last_modified":"1457537824","components":[{"component_id":"147756","previous_id":0,"original_id":"0","guid":"E7921C274E9141C78369DA9CBADDC0AC","previous_guid":null,"component_type_id":"1","data_id":"0","data":"First get a list of the contigs that are found in the sites of interest.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"First get a list of the contigs that are found in the sites of interest."},"is_project":0},{"component_id":"147757","previous_id":"147756","original_id":"0","guid":"07B89EC46EC04D8EA5CCE4B78F1C306C","previous_guid":"E7921C274E9141C78369DA9CBADDC0AC","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction by ACLAME Detection","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction by ACLAME Detection"},"is_project":0},{"component_id":"147758","previous_id":"147757","original_id":"0","guid":"2D19FAED297748D989F47D83878DC0AC","previous_guid":"07B89EC46EC04D8EA5CCE4B78F1C306C","component_type_id":"15","data_id":"494","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Get list of contigs in overall non-negative sites...\n# Get list of ACLAME hit contigs that are found in the non-negative control samples\nfor name in $(cat .\/phage_lifecycle\/integrase\/specific_site_sampleID_list.txt); do\n\tcat .\/phage_lifecycle\/ACLAME_contig_presence_lists_per_sample_for_ACLAME\/${name}_R1.txt >> .\/phage_lifecycle\/ACLAME\/ACLAME_contigs_no_negs.txt\ndone\n\nsort .\/phage_lifecycle\/ACLAME\/ACLAME_contigs_no_negs.txt | uniq > .\/phage_lifecycle\/ACLAME\/ACLAME_contigs_no_negs_uniq.txt\nwc -l .\/phage_lifecycle\/ACLAME\/ACLAME_contigs_no_negs_uniq.txt | sed 's\/^ *\/\/' | sed 's\/ \/\\t\/' | sed 's\/ACLAME_contigs_no_negs_uniq\\.txt\/ACLAME_Contig_Count\/'>> .\/phage_lifecycle\/end_contig_counts.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141254","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"EDFB8B452CB742B7BBA2AFF7CF05BA07","previous_guid":"87378D357040451BA2F36879014741BE","previous_id":"141253","last_modified":"1457537824","components":[{"component_id":"147759","previous_id":0,"original_id":"0","guid":"33368B406D2C4CDBBF1A6051C3792778","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get the number of shared contigs between the phage and ACLAME contig sets using awk.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get the number of shared contigs between the phage and ACLAME contig sets using awk."},"is_project":0},{"component_id":"147760","previous_id":"147759","original_id":"0","guid":"E34387B1D8214A45A883B98BF05D8A65","previous_guid":"33368B406D2C4CDBBF1A6051C3792778","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction by ACLAME Detection","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction by ACLAME Detection"},"is_project":0},{"component_id":"147761","previous_id":"147760","original_id":"0","guid":"AA86DC95363D488792DC33583BE395C1","previous_guid":"E34387B1D8214A45A883B98BF05D8A65","component_type_id":"15","data_id":"495","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"awk 'FNR==NR { a[$1]=$1; next } $1 in a { print $1 }' .\/phage_lifecycle\/integrase\/phage_contigs_no_negs_uniq.txt .\/phage_lifecycle\/ACLAME\/ACLAME_contigs_no_negs_uniq.txt > .\/phage_lifecycle\/ACLAME\/ACLAME_phage_shared_contigs_no_negs_uniq.txt\nwc -l .\/phage_lifecycle\/ACLAME\/ACLAME_phage_shared_contigs_no_negs_uniq.txt | sed 's\/^ *\/\/' | sed 's\/ \/\\t\/' | sed 's\/ACLAME_phage_shared_contigs_no_negs_uniq\\.txt\/Phage_and_ACLAME_Contig_Count\/'>> .\/phage_lifecycle\/end_contig_counts.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141255","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"BA6A3B61870642D48A275E0B98358633","previous_guid":"EDFB8B452CB742B7BBA2AFF7CF05BA07","previous_id":"141254","last_modified":"1457537824","components":[{"component_id":"147762","previous_id":0,"original_id":"0","guid":"F78E7BC2DDF84416A37C4FDAA0E95551","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get the number of contigs that are shared between integrase and ACLAME contigs.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get the number of contigs that are shared between integrase and ACLAME contigs."},"is_project":0},{"component_id":"147763","previous_id":"147762","original_id":"0","guid":"6CE86981ADBE4FF5B53C3ACB12B52090","previous_guid":"F78E7BC2DDF84416A37C4FDAA0E95551","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction by ACLAME Detection","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction by ACLAME Detection"},"is_project":0},{"component_id":"147764","previous_id":"147763","original_id":"0","guid":"2DBF508FA6A34E92B1739D794668F83F","previous_guid":"6CE86981ADBE4FF5B53C3ACB12B52090","component_type_id":"15","data_id":"496","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"awk 'FNR==NR { a[$1]=$1; next } $1 in a { print $1 }' .\/phage_lifecycle\/integrase\/int_contigs_no_negs.txt .\/phage_lifecycle\/ACLAME\/ACLAME_contigs_no_negs_uniq.txt > .\/phage_lifecycle\/ACLAME\/ACLAME_int_shared_contigs_no_negs_uniq.txt\nwc -l .\/phage_lifecycle\/ACLAME\/ACLAME_int_shared_contigs_no_negs_uniq.txt | sed 's\/^ *\/\/' | sed 's\/ \/\\t\/' | sed 's\/ACLAME_int_shared_contigs_no_negs_uniq\\.txt\/ACLAME_and_Integrase_Contig_Count\/'>> .\/phage_lifecycle\/end_contig_counts.tsv","description":"Be careful in this awk line because the order of the input file matters and it must be in this order or else there will be duplicates.","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141256","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"FC39FC5F71DB4CA39A48F2C68B1FEE07","previous_guid":"BA6A3B61870642D48A275E0B98358633","previous_id":"141255","last_modified":"1457537824","components":[{"component_id":"147765","previous_id":0,"original_id":"0","guid":"DD26A3DF4DE747C0BAA8AD7E4B14B79D","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Clean up the end_contig_count row names.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Clean up the end_contig_count row names."},"is_project":0},{"component_id":"147766","previous_id":"147765","original_id":"0","guid":"6DB3845A0B1E4713B72745DDE3703471","previous_guid":"DD26A3DF4DE747C0BAA8AD7E4B14B79D","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction by ACLAME Detection","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction by ACLAME Detection"},"is_project":0},{"component_id":"147767","previous_id":"147766","original_id":"0","guid":"F2D4B921C8E140849D47CD8BF10DD082","previous_guid":"6DB3845A0B1E4713B72745DDE3703471","component_type_id":"15","data_id":"497","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sed 's\/\\.\\\/.*\\\/\/\/' .\/phage_lifecycle\/end_contig_counts.tsv > .\/phage_lifecycle\/end_contig_counts_final.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141257","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"1D5D294CB4E34232BC9AA62E4E3D8D99","previous_guid":"FC39FC5F71DB4CA39A48F2C68B1FEE07","previous_id":"141256","last_modified":"1457537824","components":[{"component_id":"147768","previous_id":0,"original_id":"0","guid":"BAE78B79B2624ADA8F4B329E7B9DA458","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Finally we looked at predicting the temperate phage contigs by matching the contigs to bacterial genomes (downloaded directly from NCBI).","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Finally we looked at predicting the temperate phage contigs by matching the contigs to bacterial genomes (downloaded directly from NCBI)."},"is_project":0},{"component_id":"147769","previous_id":"147768","original_id":"0","guid":"D00E4676BA644E24BC955C3CAD238599","previous_guid":"BAE78B79B2624ADA8F4B329E7B9DA458","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"147770","previous_id":"147769","original_id":"0","guid":"2437ACFC52E4432D9E0FA2E740F8A23B","previous_guid":"D00E4676BA644E24BC955C3CAD238599","component_type_id":"15","data_id":"498","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"wget ftp:\/\/ftp.ncbi.nih.gov\/genomes\/Bacteria\/all.fna.tar.gz","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141258","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"41B7CE32582B4257AEDF75A240F7D8D4","previous_guid":"1D5D294CB4E34232BC9AA62E4E3D8D99","previous_id":"141257","last_modified":"1457537824","components":[{"component_id":"147771","previous_id":0,"original_id":"0","guid":"561CADD2BBBE4556B161D54371123EB7","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Download the reference table.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Download the reference table."},"is_project":0},{"component_id":"147772","previous_id":"147771","original_id":"0","guid":"7E3711F50F2944C88682A6CA5944B189","previous_guid":"561CADD2BBBE4556B161D54371123EB7","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"147773","previous_id":"147772","original_id":"0","guid":"13BDCB2F9C934C26860D9C62C38B7ABF","previous_guid":"7E3711F50F2944C88682A6CA5944B189","component_type_id":"15","data_id":"499","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"wget ftp:\/\/ftp.ncbi.nih.gov\/genomes\/Bacteria\/summary.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141259","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"B911C7AF4C534209B08FD2768ECBBF55","previous_guid":"41B7CE32582B4257AEDF75A240F7D8D4","previous_id":"141258","last_modified":"1457537824","components":[{"component_id":"147774","previous_id":0,"original_id":"0","guid":"E93A0E7FFBE54DF495B3ECF723553348","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Unzip the reference.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Unzip the reference."},"is_project":0},{"component_id":"147775","previous_id":"147774","original_id":"0","guid":"E56B81B153234D5FB4B8DB42CA17460C","previous_guid":"E93A0E7FFBE54DF495B3ECF723553348","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"147776","previous_id":"147775","original_id":"0","guid":"03047F99553348CAB26B060ACC0E2739","previous_guid":"E56B81B153234D5FB4B8DB42CA17460C","component_type_id":"15","data_id":"500","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"tar -zxvf .\/all.fna.tar.gz\nrm all.fna.tar.gz\ncat ..\/all_fasta\/*\/*.fna > .\/ncbi_bacteria.fa\nperl .\/remove_block_fasta_format.pl .\/ncbi_bacteria.fa .\/ncbi_bacteria_no_block_chromosome.fa","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141260","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"32D6ACDEE69D4A8090041C5F3437083C","previous_guid":"B911C7AF4C534209B08FD2768ECBBF55","previous_id":"141259","last_modified":"1457537824","components":[{"component_id":"147777","previous_id":0,"original_id":"0","guid":"D2B5EFD0EB1C4A488C086BD55C132F74","previous_guid":null,"component_type_id":"1","data_id":"0","data":"First make a blast+ database of the bacterial fasta file.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"First make a blast+ database of the bacterial fasta file."},"is_project":0},{"component_id":"147778","previous_id":"147777","original_id":"0","guid":"82C6670202FE4BCAA68995232F6B1D6C","previous_guid":"D2B5EFD0EB1C4A488C086BD55C132F74","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"147779","previous_id":"147778","original_id":"0","guid":"EEBD59E3B2DE40419E17D0FEC9A2400D","previous_guid":"82C6670202FE4BCAA68995232F6B1D6C","component_type_id":"26","data_id":"10203","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10203","thread_id":"10203","id":"10203","thread_title":"Annotation on step 29 of Script P8: Phage Replication Cycle","uri":"annotation-on-step-29-of-script-p8-phage-replication","thread_uri":"annotation-on-step-29-of-script-p8-phage-replication","step_id":"141260","protocol_uri":"Script-P8-Phage-Replication-Cycle-egwbbxe","protocol_name":"Script P8: Phage Replication Cycle","protocol_name_html":"Script P8: Phage Replication Cycle","annotation":"The third and final method for predicting what contigs could be temerpate phages will be determining what contigs have significant matches to bacterial genomes. This metric, like the previous two metrics, was outlined in Minot S, et al, 2011.","thread_text":"The third and final method for predicting what contigs could be temerpate phages will be determining what contigs have significant matches to bacterial genomes. This metric, like the previous two metrics, was outlined in Minot S, et al, 2011.","body":"The third and final method for predicting what contigs could be temerpate phages will be determining what contigs have significant matches to bacterial genomes. This metric, like the previous two metrics, was outlined in Minot S, et al, 2011.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454012010","created_on":"1454012010","modified_on":"1457537824","last_updated":"1457537824","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"147780","previous_id":"147779","original_id":"0","guid":"882551AA4EDB4344802A9C17D961EB92","previous_guid":"EEBD59E3B2DE40419E17D0FEC9A2400D","component_type_id":"15","data_id":"501","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Make blast database for bacteria genome reference...\nmakeblastdb -dbtype nucl -in .\/references\/ncbi_bacteria_complete_genomes\/ncbi_bacteria_no_block_chromosome.fa -out .\/references\/ncbi_bacteria_complete_genomes\/ncbi_bacteria_chromosome_db","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141261","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"A759FEEBAB0446BB82B965151455148D","previous_guid":"32D6ACDEE69D4A8090041C5F3437083C","previous_id":"141260","last_modified":"1457537824","components":[{"component_id":"147781","previous_id":0,"original_id":"0","guid":"066A027B902C4000A12385CB554FA39D","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Make dir for the bacteria hit output.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Make dir for the bacteria hit output."},"is_project":0},{"component_id":"147782","previous_id":"147781","original_id":"0","guid":"94F8E319910B40D5A1DD979989853477","previous_guid":"066A027B902C4000A12385CB554FA39D","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"147783","previous_id":"147782","original_id":"0","guid":"ECBB35A801774D23B387EB757191DE98","previous_guid":"94F8E319910B40D5A1DD979989853477","component_type_id":"15","data_id":"502","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/phage_lifecycle\/bacteria_hits","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141262","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"0F98961B260D490C90D4C080678E0F94","previous_guid":"A759FEEBAB0446BB82B965151455148D","previous_id":"141261","last_modified":"1457537824","components":[{"component_id":"147784","previous_id":0,"original_id":"0","guid":"69EF40DEBF4B469DBAAD3041ECD8444C","previous_guid":null,"component_type_id":"1","data_id":"0","data":"The query contigs were generated in a different script but I will use them again here.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"The query contigs were generated in a different script but I will use them again here."},"is_project":0},{"component_id":"147785","previous_id":"147784","original_id":"0","guid":"2557D382A00847E68444A963B97FDAB7","previous_guid":"69EF40DEBF4B469DBAAD3041ECD8444C","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"147786","previous_id":"147785","original_id":"0","guid":"8C602684F04941D996C3815A6CD59177","previous_guid":"2557D382A00847E68444A963B97FDAB7","component_type_id":"15","data_id":"503","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Blastxing contigs to the bacteria_hits reference database...\nblastn -query .\/glimmer3\/contigs\/Contigs_no_block_with_names.fasta -out .\/phage_lifecycle\/bacteria_hits\/blastx_ORFs_against_bacteria_hits_no_length_filter.tsv -db .\/references\/ncbi_bacteria_complete_genomes\/ncbi_bacteria_chromosome_db -outfmt \"6 qseqid sseqid pident qlen length mismatch\" -num_threads 16 -max_target_seqs 1 -perc_identity 90 -evalue 1e-3","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141263","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"48CA70E7EC784EF189AE69CFEEC3CF64","previous_guid":"0F98961B260D490C90D4C080678E0F94","previous_id":"141262","last_modified":"1457537824","components":[{"component_id":"147787","previous_id":0,"original_id":"0","guid":"A10FC7CB062F48849C441B654EE30DC0","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Print only the lines with a length hit greater than 90% of the query length. Filter blastn hits for only hits similar to more than 90% of the query.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Print only the lines with a length hit greater than 90% of the query length. Filter blastn hits for only hits similar to more than 90% of the query."},"is_project":0},{"component_id":"147788","previous_id":"147787","original_id":"0","guid":"0A2BB5D554FE4A2B8AB60FC682780D99","previous_guid":"A10FC7CB062F48849C441B654EE30DC0","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"147789","previous_id":"147788","original_id":"0","guid":"F4B07DAF2DF34531B6AA2F77AE353469","previous_guid":"0A2BB5D554FE4A2B8AB60FC682780D99","component_type_id":"15","data_id":"504","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"awk ' (100 * $5 \/ $4) > 90 { print }' .\/phage_lifecycle\/bacteria_hits\/blastx_ORFs_against_bacteria_hits_no_length_filter.tsv > .\/phage_lifecycle\/bacteria_hits\/blastx_ORFs_against_bacteria_hits.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141264","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"12A9B0F18B8D4DF3A526B02FB7A67880","previous_guid":"48CA70E7EC784EF189AE69CFEEC3CF64","previous_id":"141263","last_modified":"1457537824","components":[{"component_id":"147790","previous_id":0,"original_id":"0","guid":"65FE7A5B79514CB880CCE4F8EE9EF519","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Pull out the contig IDs from the blastn output.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Pull out the contig IDs from the blastn output."},"is_project":0},{"component_id":"147791","previous_id":"147790","original_id":"0","guid":"7452B4DFBF5F412EA90EEA072C8C14B1","previous_guid":"65FE7A5B79514CB880CCE4F8EE9EF519","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"147794","previous_id":"147791","original_id":"0","guid":"F5DD4013C50447F58BC69EB8E9AAA399","previous_guid":"7452B4DFBF5F412EA90EEA072C8C14B1","component_type_id":"26","data_id":"10205","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10205","thread_id":"10205","id":"10205","thread_title":"Annotation on step 33 of Script P8: Phage Replication Cycle","uri":"annotation-on-step-33-of-script-p8-phage-replication1","thread_uri":"annotation-on-step-33-of-script-p8-phage-replication1","step_id":"141264","protocol_uri":"Script-P8-Phage-Replication-Cycle-egwbbxe","protocol_name":"Script P8: Phage Replication Cycle","protocol_name_html":"Script P8: Phage Replication Cycle","annotation":"This is the list of all contigs that contain a bacteria_hits gene.","thread_text":"This is the list of all contigs that contain a bacteria_hits gene.","body":"This is the list of all contigs that contain a bacteria_hits gene.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454012686","created_on":"1454012686","modified_on":"1457537824","last_updated":"1457537824","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"147793","previous_id":"147794","original_id":"0","guid":"DCF62383143D418B9A0DB8CC55413573","previous_guid":"F5DD4013C50447F58BC69EB8E9AAA399","component_type_id":"15","data_id":"505","data":"","order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Getting list of contigs containing bacteria_hits gene...\ncut -f 1 .\/phage_lifecycle\/bacteria_hits\/blastx_ORFs_against_bacteria_hits.tsv | sort | uniq | sed 's\/^\/>\/' > .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_contig_hit_list.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141266","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"B191202DF9E648D483CA0C160882521D","previous_guid":"12A9B0F18B8D4DF3A526B02FB7A67880","previous_id":"141264","last_modified":"1457537824","components":[{"component_id":"147799","previous_id":0,"original_id":"0","guid":"E4D1453F4662460F910B2F9093F12487","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Now that I have both lists I can use awk to generate a list of only the shared contigs. This is the list of contigs, per sample, that contain a bacteria_hit and are present after negative control cleaning.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Now that I have both lists I can use awk to generate a list of only the shared contigs. This is the list of contigs, per sample, that contain a bacteria_hit and are present after negative control cleaning."},"is_project":0},{"component_id":"147800","previous_id":"147799","original_id":"0","guid":"E4FD67B137A9493C99DDF64264534959","previous_guid":"E4D1453F4662460F910B2F9093F12487","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"147801","previous_id":"147800","original_id":"0","guid":"2EFDDE3C2EDD4BC39D0C4B8C5752107A","previous_guid":"E4FD67B137A9493C99DDF64264534959","component_type_id":"15","data_id":"506","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Generating lists of bacteria_hits gene containing contigs...\nmkdir .\/phage_lifecycle\/bacteria_hits_contig_presence_lists_per_sample_for_bacteria_hits\nfor file in $(ls .\/phage_lifecycle\/contig_presence_lists_per_sample_for_integrase); do\n\tawk 'FNR==NR { a[$1]=$1; next } $1 in a { print $1 }' .\/phage_lifecycle\/contig_presence_lists_per_sample_for_integrase\/${file} .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_contig_hit_list.tsv > .\/phage_lifecycle\/bacteria_hits_contig_presence_lists_per_sample_for_bacteria_hits\/${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141270","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"D5E159E5CCF14E3D85BB0E6A146229B6","previous_guid":"B191202DF9E648D483CA0C160882521D","previous_id":"141266","last_modified":"1457537824","components":[{"component_id":"147808","previous_id":0,"original_id":"0","guid":"4F155BD9A7B94EA6927387E595AFD613","previous_guid":null,"component_type_id":"1","data_id":"0","data":"First get a list of the contigs that are found in the sites of interest.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"First get a list of the contigs that are found in the sites of interest."},"is_project":0},{"component_id":"147809","previous_id":"147808","original_id":"0","guid":"CD2E5B6041084512A4E1864331FF9CDE","previous_guid":"4F155BD9A7B94EA6927387E595AFD613","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"148346","previous_id":"147809","original_id":"0","guid":"1AB532F2EAC64C7A86AAC9A3C173E4F5","previous_guid":"CD2E5B6041084512A4E1864331FF9CDE","component_type_id":"15","data_id":"540","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Get list of contigs in overall non-negative sites...\n# Get list of bacteria_hits hit contigs that are found in the non-negative control samples\nfor name in $(cat .\/phage_lifecycle\/integrase\/specific_site_sampleID_list.txt); do\n\tcat .\/phage_lifecycle\/bacteria_hits_contig_presence_lists_per_sample_for_bacteria_hits\/${name}_R1.txt >> .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_contigs_no_negs.txt\ndone\nsort .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_contigs_no_negs.txt | uniq > .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_contigs_no_negs_uniq.txt\nwc -l .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_contigs_no_negs_uniq.txt | sed 's\/^ *\/\/' | sed 's\/ \/\\t\/' | sed 's\/bacteria_hits_contigs_no_negs_uniq\\.txt\/bacteria_hits_Contig_Count\/'>> .\/phage_lifecycle\/end_contig_counts.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141518","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"D9B2C6FF227743A9985765EDA9C0BCBD","previous_guid":"D5E159E5CCF14E3D85BB0E6A146229B6","previous_id":"141270","last_modified":"1457537824","components":[{"component_id":"148349","previous_id":0,"original_id":"0","guid":"6D08E0D39B5C48E6ADA04F463B56F8EE","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get the number of shared contigs between phage and bacteria_hits contig sets using awk.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get the number of shared contigs between phage and bacteria_hits contig sets using awk."},"is_project":0},{"component_id":"148350","previous_id":"148349","original_id":"0","guid":"49D893F899D64A24A3B0DCDD54F119C4","previous_guid":"6D08E0D39B5C48E6ADA04F463B56F8EE","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"148351","previous_id":"148350","original_id":"0","guid":"98A11863DB4E4A14BE1CC767368EB22C","previous_guid":"49D893F899D64A24A3B0DCDD54F119C4","component_type_id":"15","data_id":"541","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"awk 'FNR==NR { a[$1]=$1; next } $1 in a { print $1 }' .\/phage_lifecycle\/integrase\/phage_contigs_no_negs_uniq.txt .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_contigs_no_negs_uniq.txt > .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_phage_shared_contigs_no_negs_uniq.txt\nwc -l .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_phage_shared_contigs_no_negs_uniq.txt | sed 's\/^ *\/\/' | sed 's\/ \/\\t\/' | sed 's\/bacteria_hits_phage_shared_contigs_no_negs_uniq\\.txt\/Phage_and_bacteria_hits_Contig_Count\/'>> .\/phage_lifecycle\/end_contig_counts.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141519","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"5F5E6FA2DBA049AFAA35541BFC227A86","previous_guid":"D9B2C6FF227743A9985765EDA9C0BCBD","previous_id":"141518","last_modified":"1457537824","components":[{"component_id":"148352","previous_id":0,"original_id":"0","guid":"F3D68A2190A04C62859EE3ABA0EFD7BE","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get the number of contigs that are shared between integrase and bacteria_hits contigs.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get the number of contigs that are shared between integrase and bacteria_hits contigs."},"is_project":0},{"component_id":"148353","previous_id":"148352","original_id":"0","guid":"6254AD1D135F4D06BC2800DB72083EF6","previous_guid":"F3D68A2190A04C62859EE3ABA0EFD7BE","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"148354","previous_id":"148353","original_id":"0","guid":"DEC2E6FE4F3E4C5B846A4C56149DD359","previous_guid":"6254AD1D135F4D06BC2800DB72083EF6","component_type_id":"26","data_id":"10227","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10227","thread_id":"10227","id":"10227","thread_title":"Annotation on step 37 of Script P8: Phage Replication Cycle","uri":"annotation-on-step-37-of-script-p8-phage-replication","thread_uri":"annotation-on-step-37-of-script-p8-phage-replication","step_id":"141519","protocol_uri":"Script-P8-Phage-Replication-Cycle-egwbbxe","protocol_name":"Script P8: Phage Replication Cycle","protocol_name_html":"Script P8: Phage Replication Cycle","annotation":"Be careful in this awk line because the order of the input file matters and it must be in this order or else there will be duplicates.","thread_text":"Be careful in this awk line because the order of the input file matters and it must be in this order or else there will be duplicates.","body":"Be careful in this awk line because the order of the input file matters and it must be in this order or else there will be duplicates.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454449636","created_on":"1454449636","modified_on":"1457537824","last_updated":"1457537824","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"148355","previous_id":"148354","original_id":"0","guid":"B09AE4AC73784EF997030DABA45ADB19","previous_guid":"DEC2E6FE4F3E4C5B846A4C56149DD359","component_type_id":"15","data_id":"542","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"awk 'FNR==NR { a[$1]=$1; next } $1 in a { print $1 }' .\/phage_lifecycle\/integrase\/int_contigs_no_negs.txt .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_contigs_no_negs_uniq.txt > .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_int_shared_contigs_no_negs_uniq.txt\nwc -l .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_int_shared_contigs_no_negs_uniq.txt | sed 's\/^ *\/\/' | sed 's\/ \/\\t\/' | sed 's\/bacteria_hits_int_shared_contigs_no_negs_uniq\\.txt\/bacteria_hits_and_Integrase_Contig_Count\/'>> .\/phage_lifecycle\/end_contig_counts.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141520","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"DD059534FDB4407AB45909BA4E4DDD91","previous_guid":"5F5E6FA2DBA049AFAA35541BFC227A86","previous_id":"141519","last_modified":"1457537824","components":[{"component_id":"148356","previous_id":0,"original_id":"0","guid":"3DC59826E617488CB60BC0D7A71D0774","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get the number of contigs that are shared between integrase, phage, and bacteria_hits contigs.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get the number of contigs that are shared between integrase, phage, and bacteria_hits contigs."},"is_project":0},{"component_id":"148357","previous_id":"148356","original_id":"0","guid":"E0A23F9FCAD9481A9834ABCE724DA48E","previous_guid":"3DC59826E617488CB60BC0D7A71D0774","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"148358","previous_id":"148357","original_id":"0","guid":"9D9B061580F64B6EBD82A064F00583AE","previous_guid":"E0A23F9FCAD9481A9834ABCE724DA48E","component_type_id":"26","data_id":"10228","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10228","thread_id":"10228","id":"10228","thread_title":"Annotation on step 38 of Script P8: Phage Replication Cycle","uri":"annotation-on-step-38-of-script-p8-phage-replication","thread_uri":"annotation-on-step-38-of-script-p8-phage-replication","step_id":"141520","protocol_uri":"Script-P8-Phage-Replication-Cycle-egwbbxe","protocol_name":"Script P8: Phage Replication Cycle","protocol_name_html":"Script P8: Phage Replication Cycle","annotation":"Be careful in this awk line because the order of the input file matters and it must be in this order or else there will be duplicates.","thread_text":"Be careful in this awk line because the order of the input file matters and it must be in this order or else there will be duplicates.","body":"Be careful in this awk line because the order of the input file matters and it must be in this order or else there will be duplicates.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454449636","created_on":"1454449636","modified_on":"1457537824","last_updated":"1457537824","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"148359","previous_id":"148358","original_id":"0","guid":"1396F4D85BCD43B6B5D0CA80622688A2","previous_guid":"9D9B061580F64B6EBD82A064F00583AE","component_type_id":"15","data_id":"543","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"awk 'FNR==NR { a[$1]=$1; next } $1 in a { print $1 }' .\/phage_lifecycle\/integrase\/int_contigs_no_negs.txt .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_phage_shared_contigs_no_negs_uniq.txt > .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_phage_integrase_shared_contigs_no_negs_uniq.txt\nwc -l .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_phage_integrase_shared_contigs_no_negs_uniq.txt | sed 's\/^ *\/\/' | sed 's\/ \/\\t\/' | sed 's\/bacteria_hits_phage_integrase_shared_contigs_no_negs_uniq\\.txt\/Phage_and_Integrase_and_bacteria_hits_Contig_Count\/'>> .\/phage_lifecycle\/end_contig_counts.tsv\n\nawk 'FNR==NR { a[$1]=$1; next } $1 in a { print $1 }' .\/phage_lifecycle\/ACLAME\/ACLAME_contigs_no_negs.txt .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_phage_shared_contigs_no_negs_uniq.txt > .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_phage_ACLAME_shared_contigs_no_negs_uniq.txt\nwc -l .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_phage_ACLAME_shared_contigs_no_negs_uniq.txt | sed 's\/^ *\/\/' | sed 's\/ \/\\t\/' | sed 's\/bacteria_hits_phage_ACLAME_shared_contigs_no_negs_uniq\\.txt\/Phage_and_ACLAME_and_bacteria_hits_Contig_Count\/'>> .\/phage_lifecycle\/end_contig_counts.tsv\n\nawk 'FNR==NR { a[$1]=$1; next } $1 in a { print $1 }' .\/phage_lifecycle\/ACLAME\/ACLAME_contigs_no_negs.txt .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_int_shared_contigs_no_negs_uniq.txt > .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_integrase_ACLAME_shared_contigs_no_negs_uniq.txt\nwc -l .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_integrase_ACLAME_shared_contigs_no_negs_uniq.txt | sed 's\/^ *\/\/' | sed 's\/ \/\\t\/' | sed 's\/bacteria_hits_integrase_ACLAME_shared_contigs_no_negs_uniq\\.txt\/Integrase_and_ACLAME_and_bacteria_hits_Contig_Count\/'>> .\/phage_lifecycle\/end_contig_counts.tsv\n\nawk 'FNR==NR { a[$1]=$1; next } $1 in a { print $1 }' .\/phage_lifecycle\/ACLAME\/ACLAME_contigs_no_negs.txt .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_contigs_no_negs_uniq.txt > .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_ACLAME_shared_contigs_no_negs_uniq.txt\nwc -l .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_ACLAME_shared_contigs_no_negs_uniq.txt | sed 's\/^ *\/\/' | sed 's\/ \/\\t\/' | sed 's\/bacteria_hits_ACLAME_shared_contigs_no_negs_uniq\\.txt\/ACLAME_and_bacteria_hits_Contig_Count\/'>> .\/phage_lifecycle\/end_contig_counts.tsv\n\nawk 'FNR==NR { a[$1]=$1; next } $1 in a { print $1 }' .\/phage_lifecycle\/ACLAME\/ACLAME_contigs_no_negs.txt .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_phage_integrase_shared_contigs_no_negs_uniq.txt > .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_ACLAME_integrase_phage_shared_contigs_no_negs_uniq.txt\nwc -l .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_ACLAME_integrase_phage_shared_contigs_no_negs_uniq.txt | sed 's\/^ *\/\/' | sed 's\/ \/\\t\/' | sed 's\/bacteria_hits_ACLAME_integrase_phage_shared_contigs_no_negs_uniq\\.txt\/ACLAME_and_bacteria_hits_and_integrase_and_phage_Contig_Count\/'>> .\/phage_lifecycle\/end_contig_counts.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141521","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"C3BB845D003545E2AA3D55E7C99F9CB3","previous_guid":"DD059534FDB4407AB45909BA4E4DDD91","previous_id":"141520","last_modified":"1457537824","components":[{"component_id":"148360","previous_id":0,"original_id":"0","guid":"096F6736EB8B4D15907DED87F66B1739","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Clean up the end_contig_count row names.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Clean up the end_contig_count row names."},"is_project":0},{"component_id":"148361","previous_id":"148360","original_id":"0","guid":"3B217F8261C54A1ABE95460351EE8363","previous_guid":"096F6736EB8B4D15907DED87F66B1739","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"148362","previous_id":"148361","original_id":"0","guid":"C95CB927CFE442048B544355B5DFA7FA","previous_guid":"3B217F8261C54A1ABE95460351EE8363","component_type_id":"15","data_id":"544","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sed 's\/\\.\\\/.*\\\/\/\/' .\/phage_lifecycle\/end_contig_counts.tsv > .\/phage_lifecycle\/end_contig_counts_final.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141522","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"BCC5E68192944694BC68A71AA68613A3","previous_guid":"C3BB845D003545E2AA3D55E7C99F9CB3","previous_id":"141521","last_modified":"1457537824","components":[{"component_id":"148363","previous_id":0,"original_id":"0","guid":"3F6AA34693F94C17ABCA150338AB6A49","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Going to want to remove the intermediate contig count file in the end.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Going to want to remove the intermediate contig count file in the end."},"is_project":0},{"component_id":"148364","previous_id":"148363","original_id":"0","guid":"803D3B98DA954D03BE2F0A3AEB35DD7F","previous_guid":"3F6AA34693F94C17ABCA150338AB6A49","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"148365","previous_id":"148364","original_id":"0","guid":"51A3CB92258A4E34B9EB9F719B8FC594","previous_guid":"803D3B98DA954D03BE2F0A3AEB35DD7F","component_type_id":"15","data_id":"545","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"rm .\/phage_lifecycle\/end_contig_counts.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141523","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"84342836F3184700AB70EEEF16306E3C","previous_guid":"BCC5E68192944694BC68A71AA68613A3","previous_id":"141522","last_modified":"1457537824","components":[{"component_id":"148366","previous_id":0,"original_id":"0","guid":"6CA92E6ECCDA4B8AA16ABA0EDFE338ED","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Remove the appended files in case the script needs to be run again.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Remove the appended files in case the script needs to be run again."},"is_project":0},{"component_id":"148367","previous_id":"148366","original_id":"0","guid":"46A17C8A91C3464EAF124F9BC40A1A09","previous_guid":"6CA92E6ECCDA4B8AA16ABA0EDFE338ED","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"148368","previous_id":"148367","original_id":"0","guid":"DF80308826174838A9CCF7F9CA123671","previous_guid":"46A17C8A91C3464EAF124F9BC40A1A09","component_type_id":"15","data_id":"546","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"rm .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_contigs_no_negs.txt\nrm .\/phage_lifecycle\/ACLAME\/ACLAME_contigs_no_negs.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141524","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"430DA9D0377B4E1FA4B32A0D61F6FDB9","previous_guid":"84342836F3184700AB70EEEF16306E3C","previous_id":"141523","last_modified":"1457537824","components":[{"component_id":"148369","previous_id":0,"original_id":"0","guid":"1266E868BBD54C2AA6917E243BFD3E66","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get the number of phage contigs that have at least one temperate phage marker.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get the number of phage contigs that have at least one temperate phage marker."},"is_project":0},{"component_id":"148370","previous_id":"148369","original_id":"0","guid":"EF40AC34EA294097909F611BF7EBADDB","previous_guid":"1266E868BBD54C2AA6917E243BFD3E66","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"148371","previous_id":"148370","original_id":"0","guid":"78B8235541234BE99FA38AC68199B323","previous_guid":"EF40AC34EA294097909F611BF7EBADDB","component_type_id":"15","data_id":"547","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cat .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_phage_shared_contigs_no_negs_uniq.txt .\/phage_lifecycle\/ACLAME\/ACLAME_phage_shared_contigs_no_negs_uniq.txt .\/phage_lifecycle\/integrase\/int_phage_shared_contigs_no_negs_uniq.txt | sort | uniq | wc -l > .\/phage_lifecycle\/list_contigs_at_least_one_temperate_hit.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141525","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"D5AE8438AA2E4AA284D39913AF8DF278","previous_guid":"430DA9D0377B4E1FA4B32A0D61F6FDB9","previous_id":"141524","last_modified":"1457537824","components":[{"component_id":"148372","previous_id":0,"original_id":"0","guid":"CCF8F2D233394A5198F1E2EFA0C41195","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Because we were matching the phage contigs to bacterial genomes, we are interested to see what those hits actually were. To do this, we simply annotated the resulting blast output from above. We took these annotations (genus level) and manually added the order level annotations since there were relatively few unique hits.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Because we were matching the phage contigs to bacterial genomes, we are interested to see what those hits actually were. To do this, we simply annotated the resulting blast output from above. We took these annotations (genus level) and manually added the order level annotations since there were relatively few unique hits."},"is_project":0},{"component_id":"148373","previous_id":"148372","original_id":"0","guid":"5D664CD3DD0E46D0A33879CE94B3AF98","previous_guid":"CCF8F2D233394A5198F1E2EFA0C41195","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0}]},{"id":"141526","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"E4826A175DA84615A16FC4F8A821A8A8","previous_guid":"D5AE8438AA2E4AA284D39913AF8DF278","previous_id":"141525","last_modified":"1457537824","components":[{"component_id":"148374","previous_id":0,"original_id":"0","guid":"4D3FB17EF9E543B8B45F1016E9D4582E","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get a list of the names and accession numbers that matched the contigs after blastn (f1 = contig number, f2 = accession). This is the overall list of possible contig hits to an accession number, but have not yet been length filtered (fine here, but watch out in downstream processes)","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get a list of the names and accession numbers that matched the contigs after blastn (f1 = contig number, f2 = accession). This is the overall list of possible contig hits to an accession number, but have not yet been length filtered (fine here, but watch out in downstream processes)"},"is_project":0},{"component_id":"148375","previous_id":"148374","original_id":"0","guid":"453A257C16A14BE2B79736C369C1B810","previous_guid":"4D3FB17EF9E543B8B45F1016E9D4582E","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"148376","previous_id":"148375","original_id":"0","guid":"40F5E40474FB4E1492595C016E57F650","previous_guid":"453A257C16A14BE2B79736C369C1B810","component_type_id":"15","data_id":"548","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cut -f 1,2 .\/phage_lifecycle\/bacteria_hits\/blastx_ORFs_against_bacteria_hits_no_length_filter.tsv | sed 's\/^\/>\/' | sed 's\/gi.*ref|\/\/' | sed 's\/|\/\/' | sort | uniq > .\/phage_lifecycle\/bacteria_hits\/blastn_contigs_ncbi_accs.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141527","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"24180BC0F31148C3895E35BD9B207C24","previous_guid":"E4826A175DA84615A16FC4F8A821A8A8","previous_id":"141526","last_modified":"1457537824","components":[{"component_id":"148377","previous_id":0,"original_id":"0","guid":"B7CA42F03B3F4E6BAC66F774D39E1671","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get these accession number for those contigs which were similar to both bacteria and phages.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get these accession number for those contigs which were similar to both bacteria and phages."},"is_project":0},{"component_id":"148378","previous_id":"148377","original_id":"0","guid":"08D865BA133E4A9599B986CA0CC6F2D7","previous_guid":"B7CA42F03B3F4E6BAC66F774D39E1671","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"148379","previous_id":"148378","original_id":"0","guid":"362E728069B9416EA21ECBC6ECFCA83B","previous_guid":"08D865BA133E4A9599B986CA0CC6F2D7","component_type_id":"15","data_id":"549","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"awk 'FNR==NR { a[$1]=$2; next } $1 in a { print $1\"\\t\"a[$1] }' .\/phage_lifecycle\/bacteria_hits\/blastn_contigs_ncbi_accs.tsv .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_phage_shared_contigs_no_negs_uniq.txt > .\/phage_lifecycle\/bacteria_hits\/ncbi_accs_for_contigs_match_phage_and_bactera.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141528","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"26A4840539FA4A00B93273BEDA10F777","previous_guid":"24180BC0F31148C3895E35BD9B207C24","previous_id":"141527","last_modified":"1457537824","components":[{"component_id":"148380","previous_id":0,"original_id":"0","guid":"3929007E59864969932BB58F06BBBD38","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get a list of only the unique accession numbers that matched the phage+bacteria contigs.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get a list of only the unique accession numbers that matched the phage+bacteria contigs."},"is_project":0},{"component_id":"148381","previous_id":"148380","original_id":"0","guid":"6778215116F44EE291E08FC0828B75D4","previous_guid":"3929007E59864969932BB58F06BBBD38","component_type_id":"6","data_id":"0","data":"Temperate Phage Prediction with Bacterial Genomes","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Temperate Phage Prediction with Bacterial Genomes"},"is_project":0},{"component_id":"148382","previous_id":"148381","original_id":"0","guid":"9BF5F9B0AB004AF0BF0A74A6C2C0F1BE","previous_guid":"6778215116F44EE291E08FC0828B75D4","component_type_id":"15","data_id":"550","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cat .\/phage_lifecycle\/bacteria_hits\/ncbi_accs_for_contigs_match_phage_and_bactera.tsv | cut -f 2 | sort | uniq > .\/phage_lifecycle\/bacteria_hits\/ncbi_accs_for_contigs_match_phage_and_bactera_uniq.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141529","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"A576F0464CAE45ED9682A37A0E89C69B","previous_guid":"26A4840539FA4A00B93273BEDA10F777","previous_id":"141528","last_modified":"1502718711","components":[{"component_id":"977463","previous_id":0,"original_id":"0","guid":"D0C91A60503C48AB8D308B84C949F17D","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"148383","previous_id":"977463","original_id":"0","guid":"8E436137141649CC9F6155AEC63F54BD","previous_guid":"D0C91A60503C48AB8D308B84C949F17D","component_type_id":"1","data_id":"0","data":"Get a reference list of the uniq phage+bacteria accession numbers with their taxonomic information. First format the reference.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get a reference list of the uniq phage+bacteria accession numbers with their taxonomic information. First format the reference."},"is_project":0},{"component_id":"148384","previous_id":"148383","original_id":"0","guid":"8DEDB7485E6B4C178D60E8A535422E7E","previous_guid":"8E436137141649CC9F6155AEC63F54BD","component_type_id":"15","data_id":"551","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"grep '>' .\/references\/ncbi_bacteria_complete_genomes\/ncbi_bacteria_no_block_chromosome.fa | sed 's\/| \/|\\t\/' | sed 's\/ \/_\/g' | sed 's\/.*|ref|\\(.*\\)|\\t\\(.*\\)$\/\\1\\t\\2\/' | sed 's\/_chromosome,_complete_genome\/\/' | sed 's\/complete_chromosome_\/\/' > .\/references\/ncbi_bacteria_complete_genomes\/summary_chromosome_from_fasta.txt\nawk 'FNR==NR { a[$1]=$2; next } { print $1\"\\t\"a[$1] }' .\/references\/ncbi_bacteria_complete_genomes\/summary_chromosome_from_fasta.txt .\/phage_lifecycle\/bacteria_hits\/ncbi_accs_for_contigs_match_phage_and_bactera_uniq.tsv > .\/phage_lifecycle\/bacteria_hits\/ncbi_taxonomy_for_contigs_match_phage_and_bactera_uniq.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141530","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"F1C7842329644B968AC45BEEB9AE00D0","previous_guid":"A576F0464CAE45ED9682A37A0E89C69B","previous_id":"141529","last_modified":"1502718712","components":[{"component_id":"977464","previous_id":0,"original_id":"0","guid":"59D416DAA55D4E5CBFBEA4928F56678E","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"148385","previous_id":"977464","original_id":"0","guid":"4EA3C4E8BA7E4DA7AA0D321C4A89AE46","previous_guid":"59D416DAA55D4E5CBFBEA4928F56678E","component_type_id":"1","data_id":"0","data":"Get a list of only the genera.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get a list of only the genera."},"is_project":0},{"component_id":"148386","previous_id":"148385","original_id":"0","guid":"80DFCF03121E419AAB832709D3F87681","previous_guid":"4EA3C4E8BA7E4DA7AA0D321C4A89AE46","component_type_id":"15","data_id":"552","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sed 's\/\\([^C]\\)_.*\/\\1\/' .\/phage_lifecycle\/bacteria_hits\/ncbi_taxonomy_for_contigs_match_phage_and_bactera_uniq.tsv > .\/phage_lifecycle\/bacteria_hits\/ncbi_genus_taxonomy_for_contigs_match_phage_and_bactera_uniq.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141531","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"0AFEFAAA59BB4F26AF9C6674D1687B6F","previous_guid":"F1C7842329644B968AC45BEEB9AE00D0","previous_id":"141530","last_modified":"1502718712","components":[{"component_id":"977465","previous_id":0,"original_id":"0","guid":"B89B4C3A2FEC406BB869EBDC23800A70","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"148387","previous_id":"977465","original_id":"0","guid":"BE54C94C84A74EA596B6A9FCCCA817F5","previous_guid":"B89B4C3A2FEC406BB869EBDC23800A70","component_type_id":"1","data_id":"0","data":"Annotate each contig, with genus level, that matched both phage and bacteria.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Annotate each contig, with genus level, that matched both phage and bacteria."},"is_project":0},{"component_id":"148388","previous_id":"148387","original_id":"0","guid":"6F0E14CAEB404CC0B19C3545917D7CFF","previous_guid":"BE54C94C84A74EA596B6A9FCCCA817F5","component_type_id":"15","data_id":"553","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"awk 'FNR==NR { a[$1]=$2; next } { print $1\"\\t\"a[$2] }' .\/phage_lifecycle\/bacteria_hits\/ncbi_genus_taxonomy_for_contigs_match_phage_and_bactera_uniq.tsv .\/phage_lifecycle\/bacteria_hits\/ncbi_accs_for_contigs_match_phage_and_bactera.tsv > .\/phage_lifecycle\/bacteria_hits\/ncbi_genus_taxonomy_contigs_match_phage_and_bactera_uniq.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141532","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"8BA512E0FB6641CFA0C560E24CD87DB6","previous_guid":"0AFEFAAA59BB4F26AF9C6674D1687B6F","previous_id":"141531","last_modified":"1502718712","components":[{"component_id":"977466","previous_id":0,"original_id":"0","guid":"6F0FA2778B654535AD11CA4CC6B5D4D0","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"148389","previous_id":"977466","original_id":"0","guid":"F04B9FF015714EDF934E46155D56418A","previous_guid":"6F0FA2778B654535AD11CA4CC6B5D4D0","component_type_id":"1","data_id":"0","data":"Quantify how many contigs hit each genus.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Quantify how many contigs hit each genus."},"is_project":0},{"component_id":"148390","previous_id":"148389","original_id":"0","guid":"3B6F89F8C4EE466FA7EA10A7F9CE1F81","previous_guid":"F04B9FF015714EDF934E46155D56418A","component_type_id":"26","data_id":"10229","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10229","thread_id":"10229","id":"10229","thread_title":"Annotation on step 50 of Script P8: Phage Replication Cycle","uri":"annotation-on-step-50-of-script-p8-phage-replication","thread_uri":"annotation-on-step-50-of-script-p8-phage-replication","step_id":"141532","protocol_uri":"Script-P8-Phage-Replication-Cycle-egwbbxe","protocol_name":"Script P8: Phage Replication Cycle","protocol_name_html":"Script P8: Phage Replication Cycle","annotation":"This output can be used in R for graphing. There are not many categories so the phylum levels can just be manually entered. This is faster than trying to deal with a data base.","thread_text":"This output can be used in R for graphing. There are not many categories so the phylum levels can just be manually entered. This is faster than trying to deal with a data base.","body":"This output can be used in R for graphing. There are not many categories so the phylum levels can just be manually entered. This is faster than trying to deal with a data base.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454450087","created_on":"1454450087","modified_on":"1457537824","last_updated":"1457537824","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"148391","previous_id":"148390","original_id":"0","guid":"B58A682457A544318459510727B55DE7","previous_guid":"3B6F89F8C4EE466FA7EA10A7F9CE1F81","component_type_id":"15","data_id":"554","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cut -f 2 .\/phage_lifecycle\/bacteria_hits\/ncbi_genus_taxonomy_contigs_match_phage_and_bactera_uniq.tsv | sort | uniq -c | sed 's\/ *\/\/' | sed 's\/ \/\\t\/' | sed '1 s\/^\/Number_Contigs\\tBacterial_Genus\\n\/' > .\/phage_lifecycle\/bacteria_hits\/final_contig_quant_annotation_ncbi.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141533","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"586DA208BC884758AAFCCF295ABC67DF","previous_guid":"8BA512E0FB6641CFA0C560E24CD87DB6","previous_id":"141532","last_modified":"1502718712","components":[{"component_id":"977467","previous_id":0,"original_id":"0","guid":"6CAA8523595C440791404130EEAC8B7F","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"148392","previous_id":"977467","original_id":"0","guid":"32BEEF2D25DE46D98C412A8419B1F97B","previous_guid":"6CAA8523595C440791404130EEAC8B7F","component_type_id":"1","data_id":"0","data":"Now we have the proportions of contigs that were annotated as potential temperate phages, but this is not a relative abundance of the samples, which would need to take into account the individual, un-assembled sequences. To calculate the relative abundance of temperate phages per site, we used the relative abundance table generated during our taxonomy analysis.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Now we have the proportions of contigs that were annotated as potential temperate phages, but this is not a relative abundance of the samples, which would need to take into account the individual, un-assembled sequences. To calculate the relative abundance of temperate phages per site, we used the relative abundance table generated during our taxonomy analysis."},"is_project":0}]},{"id":"141534","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"5DD8260F1A3C4FB484876C827BD4AF25","previous_guid":"586DA208BC884758AAFCCF295ABC67DF","previous_id":"141533","last_modified":"1502718712","components":[{"component_id":"977468","previous_id":0,"original_id":"0","guid":"AB3CC8E4DC1440CC825BBFB9C1EEDD28","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"148393","previous_id":"977468","original_id":"0","guid":"209B0985667E49BCAF3793ACA512BEB4","previous_guid":"AB3CC8E4DC1440CC825BBFB9C1EEDD28","component_type_id":"1","data_id":"0","data":"Get list of all of the predicted temperate phage contig IDs (predicted in the 'predict_temperate_phage.sh' script)","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get list of all of the predicted temperate phage contig IDs (predicted in the 'predict_temperate_phage.sh' script)"},"is_project":0},{"component_id":"148394","previous_id":"148393","original_id":"0","guid":"17CC8C613D3049A79933A50D8CA29DEB","previous_guid":"209B0985667E49BCAF3793ACA512BEB4","component_type_id":"15","data_id":"555","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/phage_lifecycle\nmkdir .\/phage_lifecycle\/temperate_phage_rel_abund\ncat .\/phage_lifecycle\/integrase\/int_phage_shared_contigs_no_negs_uniq.txt .\/phage_lifecycle\/ACLAME\/ACLAME_phage_shared_contigs_no_negs_uniq.txt .\/phage_lifecycle\/bacteria_hits\/bacteria_hits_phage_shared_contigs_no_negs_uniq.txt | sort | uniq > .\/phage_lifecycle\/temperate_phage_rel_abund\/temperate_phage_contig_id_list.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141535","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"74518A84CFEA4DA2852C1571CABB4C99","previous_guid":"5DD8260F1A3C4FB484876C827BD4AF25","previous_id":"141534","last_modified":"1502718712","components":[{"component_id":"977469","previous_id":0,"original_id":"0","guid":"BA61CDDAD6E0407B9B0627C7ECEFC81E","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"148395","previous_id":"977469","original_id":"0","guid":"6066F8570E1E471595E17BD2FDFA7948","previous_guid":"BA61CDDAD6E0407B9B0627C7ECEFC81E","component_type_id":"1","data_id":"0","data":"Get a list of all of the phage contig IDs that are not included in the temperate phage list.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get a list of all of the phage contig IDs that are not included in the temperate phage list."},"is_project":0},{"component_id":"148396","previous_id":"148395","original_id":"0","guid":"EC36D54F14624FD2AC6DC860601F48C2","previous_guid":"6066F8570E1E471595E17BD2FDFA7948","component_type_id":"15","data_id":"556","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"grep -v --file=.\/phage_lifecycle\/temperate_phage_rel_abund\/temperate_phage_contig_id_list.txt .\/phage_lifecycle\/integrase\/phage_contigs_no_negs_uniq.txt  > .\/phage_lifecycle\/temperate_phage_rel_abund\/non_temperate_phage_contig_id_list.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141536","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"72EAA6666C7046AB84713CCB2B6FC00D","previous_guid":"74518A84CFEA4DA2852C1571CABB4C99","previous_id":"141535","last_modified":"1502718712","components":[{"component_id":"977470","previous_id":0,"original_id":"0","guid":"25FB40C3323140589AD3E9CF68C42450","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"148397","previous_id":"977470","original_id":"0","guid":"1C84DF25BC4545FCBD554A95CF835167","previous_guid":"25FB40C3323140589AD3E9CF68C42450","component_type_id":"1","data_id":"0","data":"Add annotation for whether the contig list is for temperate or lytic phages.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Add annotation for whether the contig list is for temperate or lytic phages."},"is_project":0},{"component_id":"148398","previous_id":"148397","original_id":"0","guid":"6CAF0F505D914382AAF4EC50859F5E37","previous_guid":"1C84DF25BC4545FCBD554A95CF835167","component_type_id":"15","data_id":"557","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sed 's\/$\/\\tTemperate_Phage\/' .\/phage_lifecycle\/temperate_phage_rel_abund\/temperate_phage_contig_id_list.txt > .\/phage_lifecycle\/temperate_phage_rel_abund\/named_temperate_phage_contig_id_list.txt\nsed 's\/$\/\\tNon-Temperate_Phage\/' .\/phage_lifecycle\/temperate_phage_rel_abund\/non_temperate_phage_contig_id_list.txt > .\/phage_lifecycle\/temperate_phage_rel_abund\/named_non_temperate_phage_contig_id_list.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141537","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"C92841FD48D64F5A8867C9D07F3771AC","previous_guid":"72EAA6666C7046AB84713CCB2B6FC00D","previous_id":"141536","last_modified":"1502718712","components":[{"component_id":"977471","previous_id":0,"original_id":"0","guid":"40A427848FC7464E90466500BCB46AB4","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"148399","previous_id":"977471","original_id":"0","guid":"2C7C05ABA49948BDA7CD5C8EFA50D53F","previous_guid":"40A427848FC7464E90466500BCB46AB4","component_type_id":"1","data_id":"0","data":"Format the contig OTU table with greater-than signs.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Format the contig OTU table with greater-than signs."},"is_project":0},{"component_id":"148400","previous_id":"148399","original_id":"0","guid":"503678512FD3481181FCEFF69EBC1A14","previous_guid":"2C7C05ABA49948BDA7CD5C8EFA50D53F","component_type_id":"15","data_id":"558","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sed 's\/^\/>\/' .\/uniprot_contig_virome_trembl_rel_abund\/contig_otu_table.txt > .\/phage_lifecycle\/temperate_phage_rel_abund\/formatted_contig_otu_table.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141538","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"39E23AA11953424A8277B5855E515328","previous_guid":"C92841FD48D64F5A8867C9D07F3771AC","previous_id":"141537","last_modified":"1502718712","components":[{"component_id":"977472","previous_id":0,"original_id":"0","guid":"D3C96BE901184A3BA14CB67721EBA826","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"148401","previous_id":"977472","original_id":"0","guid":"467CD4512F12439791C4A03171E24785","previous_guid":"D3C96BE901184A3BA14CB67721EBA826","component_type_id":"1","data_id":"0","data":"Also get the header from this file.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Also get the header from this file."},"is_project":0},{"component_id":"148402","previous_id":"148401","original_id":"0","guid":"9EBFE4A71D004A7EA9C53C1141EE5F07","previous_guid":"467CD4512F12439791C4A03171E24785","component_type_id":"15","data_id":"559","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"head -n 1 .\/uniprot_contig_virome_trembl_rel_abund\/contig_otu_table.txt > .\/phage_lifecycle\/temperate_phage_rel_abund\/contig_otu_table_header.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141539","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"BED73095BE9549709A8B046875E6925F","previous_guid":"39E23AA11953424A8277B5855E515328","previous_id":"141538","last_modified":"1502718712","components":[{"component_id":"977473","previous_id":0,"original_id":"0","guid":"D18B5C6E59A943359AAD43C36F73BB63","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"148403","previous_id":"977473","original_id":"0","guid":"70EE2A31B3B3479B928FE43F3BA84323","previous_guid":"D18B5C6E59A943359AAD43C36F73BB63","component_type_id":"1","data_id":"0","data":"In contig OTU table that was used for uniprot taxonomy, replace contig IDs with annotation of temperate status. Determine, of all of the contigs, how many have hits to temperate or non-temperate phages.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"In contig OTU table that was used for uniprot taxonomy, replace contig IDs with annotation of temperate status. Determine, of all of the contigs, how many have hits to temperate or non-temperate phages."},"is_project":0},{"component_id":"148404","previous_id":"148403","original_id":"0","guid":"23C12505CC644C7A80A13DFC50F48FD1","previous_guid":"70EE2A31B3B3479B928FE43F3BA84323","component_type_id":"15","data_id":"560","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"awk 'FNR==NR { a[$1]=$2; next } $1 in a { print a[$1]\"\\t\"$0 }' .\/phage_lifecycle\/temperate_phage_rel_abund\/named_temperate_phage_contig_id_list.txt .\/phage_lifecycle\/temperate_phage_rel_abund\/formatted_contig_otu_table.txt | cut -f 1,3- > .\/phage_lifecycle\/temperate_phage_rel_abund\/temperate_contig_otu_table.txt\nawk 'FNR==NR { a[$1]=$2; next } $1 in a { print a[$1]\"\\t\"$0 }' .\/phage_lifecycle\/temperate_phage_rel_abund\/named_non_temperate_phage_contig_id_list.txt .\/phage_lifecycle\/temperate_phage_rel_abund\/formatted_contig_otu_table.txt | cut -f 1,3- > .\/phage_lifecycle\/temperate_phage_rel_abund\/non_temperate_contig_otu_table.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141540","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"A6EDE2CFD45E4B18A79CD5647F493C5D","previous_guid":"BED73095BE9549709A8B046875E6925F","previous_id":"141539","last_modified":"1502718712","components":[{"component_id":"977474","previous_id":0,"original_id":"0","guid":"2CA17E4086144DFD8A8BE143679DC195","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"148405","previous_id":"977474","original_id":"0","guid":"FEF18A468D9F47668AD3B1C402821B97","previous_guid":"2CA17E4086144DFD8A8BE143679DC195","component_type_id":"1","data_id":"0","data":"Put together the header, temperate phage abundance list, and the non-temperate abundance list.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Put together the header, temperate phage abundance list, and the non-temperate abundance list."},"is_project":0},{"component_id":"148406","previous_id":"148405","original_id":"0","guid":"87A87434D40640728F6E44023972E60B","previous_guid":"FEF18A468D9F47668AD3B1C402821B97","component_type_id":"26","data_id":"10230","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10230","thread_id":"10230","id":"10230","thread_title":"Annotation on step 58 of Script P8: Phage Replication Cycle","uri":"annotation-on-step-58-of-script-p8-phage-replication","thread_uri":"annotation-on-step-58-of-script-p8-phage-replication","step_id":"141540","protocol_uri":"Script-P8-Phage-Replication-Cycle-egwbbxe","protocol_name":"Script P8: Phage Replication Cycle","protocol_name_html":"Script P8: Phage Replication Cycle","annotation":"In R, these relative abundance values can be summed based on their temperate status easily, and then stats can be run.","thread_text":"In R, these relative abundance values can be summed based on their temperate status easily, and then stats can be run.","body":"In R, these relative abundance values can be summed based on their temperate status easily, and then stats can be run.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454450088","created_on":"1454450088","modified_on":"1457537824","last_updated":"1457537824","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"148407","previous_id":"148406","original_id":"0","guid":"8D771F5E0B0B47949D4C7DF89EF7DE72","previous_guid":"87A87434D40640728F6E44023972E60B","component_type_id":"15","data_id":"561","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cat .\/phage_lifecycle\/temperate_phage_rel_abund\/contig_otu_table_header.txt .\/phage_lifecycle\/temperate_phage_rel_abund\/non_temperate_contig_otu_table.txt .\/phage_lifecycle\/temperate_phage_rel_abund\/temperate_contig_otu_table.txt > .\/phage_lifecycle\/temperate_phage_rel_abund\/phage_lifecycle_otu_table_for_rel_abund.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]}]}