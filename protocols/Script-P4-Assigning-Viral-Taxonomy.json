{"uri":"Script-P4-Assigning-Viral-Taxonomy-efqbbmw","version_id":"0","protocol_name":"Script P4: Assigning Viral Taxonomy","protocol_name_html":"Script P4: Assigning Viral Taxonomy","is_prepublished":"0","can_edit":"0","parent_id":null,"api_version":"2","is_new_mode":"1","last_modified":"1521007201","type_id":"1","link":"http:\/\/mbio.asm.org\/content\/6\/5\/e01578-15.full","fork_id":"","public_fork_note":"","number_of_steps":"64","has_versions":"0","first_published_date":"1457616039","publish_date":"2016-03-11 02:58:46","documents":"null","have_protocol_in_step":"0","is_protocol_in_step":"0","vendor_name":"Contributed by users","vendor_link":"https:\/\/www.protocols.io","vendor_logo":"\/img\/vendors\/1.png","mod_mins":"-45","mod_secs":"1","description":"This protocol provides a method for identifying bacteriophage\/virus taxonomy without a virome dataset using UniProt reference database. Based on the methods found in the following publication:<br \/><br \/>Hannigan, Geoffrey D., et al. \"The Human Skin Double-Stranded DNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and Dynamic Associations with the Host Microbiome.\"\u00a0<em>mBio<\/em>\u00a06.5 (2015): e01578-15.","is_bookmarked":"0","can_reassign":"1","before_start":"Perl scripts and other supplementary information available at:<br \/><br \/><a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248<\/a>","has_guidelines":"1","materials":[],"warning":"","version_class":"2256","public":"1","is_owner":"1","is_original_owner":"1","created_on":"1452795041","protocol_affiliation":"Grice Lab, DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","affiliation":"Merck Research Labs","doi":"dx.doi.org\/10.17504\/protocols.io.efqbbmw","doi_status":"2","changed_fork_steps":null,"profile_url":"Geoffrey-w2y254v2q2","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","created_by":"Geoffrey Hannigan","private_link":"E3525A8F199D5867866E323AED9A7493","original_img":"1","username":"geoffrey-hannigan","is_retracted":"0","retraction_reason":null,"plos_id":null,"manuscript_citation":null,"journal_name":null,"is_donations_disabled":"0","is_donations_disabled_by_user":"9","item_record_id":226773,"fork_info":[],"compare_forks":[],"protocols":[],"groups":[{"group_id":"45","group_uri":"verve-net","group_name":"VERVE Net","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/cdqcwwe.png","requested_uid":null,"request_flag":null,"my_request":"1"},{"group_id":"138","group_uri":"club-grice","group_name":"Club Grice","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/cp7dzme.png","requested_uid":null,"request_flag":null,"my_request":"1"}],"number_of_shared_runs":[],"ownership_history":[],"keywords":"","transfer_to_user":[],"sub_transfer":false,"is_transfer_pending":false,"number_of_bookmarks":"0","collections":[{"protocol_name":"The Human Skin dsDNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and its Dynamic Associations with the Host Microbiome","protocol_name_html":"The Human Skin dsDNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and its Dynamic Associations with the Host Microbiome","uri":"The-Human-Skin-dsDNA-Virome-Topographical-and-Temp-ekubcww","username":"geoffrey-hannigan","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","full_name":"Geoffrey Hannigan"}],"tags":[],"archived":0,"sub_authors":[],"sub_protocols_number":0,"can_edit_shared":0,"shared_runs":[],"is_shared_run":0,"is_shared":1,"banner":null,"contact_badges":[{"badge_id":"4","badge_image":"\/img\/badges\/gold.svg","badge_description":"Gold power author!"},{"badge_id":"5","badge_image":"\/img\/badges\/earlyadopter.svg","badge_description":"Early adopter"},{"badge_id":"6","badge_image":"\/img\/badges\/socialbutterfly.svg","badge_description":"Social butterfly"}],"number_of_comments":0,"is_locked":0,"is_locked_by":false,"authors":"HANNIGAN GD, GRICE EA, ET AL.","authors_list":[{"name":"HANNIGAN GD","affiliation":"Grice Lab, DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null},{"name":" GRICE EA","affiliation":"Grice Lab, DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null},{"name":" ET AL.","affiliation":"Grice Lab, DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null}],"user":{"profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","username":"geoffrey-hannigan","full_name":"Geoffrey Hannigan","created_by":"Geoffrey Hannigan"},"access":{"can_view":"1","can_remove":"0","can_add":"0","can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":"0","can_move":"1","can_transfer":"1","can_download":"1","is_locked":"0"},"is_contact_suspended":0,"guidelines":"<strong>Required Software:<\/strong><br \/>\n<ul>\n<li>NCBI's BLAST+ v2.2.0<\/li>\n<li>UniProt Database<\/li>\n<li>Bowtie2-2.1.0<\/li>\n<li>MEGAN-5.5.3<\/li>\n<\/ul>\n<strong>Relevant Files<\/strong><br \/><br \/>Output:<br \/>\n<ul>\n<li>Bray-curtis_virome_analysis\/contig_otu_table_transposed_formatted.txt<\/li>\n<li>Phage_Taxonomy\/order_rel_abund.tsv<\/li>\n<li>Phage_Taxonomy\/genus_rel_abund.tsv<\/li>\n<li>Phage_Taxonomy\/species_rel_abund.tsv<\/li>\n<\/ul>\nPerl Scripts:<br \/>\n<ul>\n<li>remove_block_fasta_format.pl<\/li>\n<li>filter_fasta_file.pl<\/li>\n<li>get_format_order.pl, get_format_family.pl, get_format_subfamily.pl, get_format_genus.pl<\/li>\n<li>contig_id_by_orfs.pl<\/li>\n<li>calculate_abundance_from_sam.pl<\/li>\n<\/ul>\nPython script:<br \/>\n<ul>\n<li>transpose_tab_delim.py<\/li>\n<\/ul>\nR scripts: <br \/>\n<ul>\n<li><a href=\"https:\/\/www.protocols.io\/view\/Script-R1-Virome-Contig-and-Sequencing-Statistics-eh5bb86?step=undefined\" target=\"_blank\">R1<\/a> and <a href=\"https:\/\/www.protocols.io\/view\/Script-R4-Virome-Taxonomy-eiabcae\" target=\"_blank\">R4<\/a><\/li>\n<\/ul>","status_id":"1","is_research":"1","status_info":null,"steps":[{"id":"140452","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"EC04A2A744BB430D95A73D5A955DDABE","previous_guid":null,"previous_id":"0","last_modified":"1457537650","components":[{"component_id":"146110","previous_id":0,"original_id":"0","guid":"6DB2BCB3D59C4E4885D874DBCFE6389F","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Download the entire Uniprot TrEMBL reference fasta database.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Download the entire Uniprot TrEMBL reference fasta database."},"is_project":0},{"component_id":"146111","previous_id":"146110","original_id":"0","guid":"02CD8D526D2B428BB6529824250F6469","previous_guid":"6DB2BCB3D59C4E4885D874DBCFE6389F","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146112","previous_id":"146111","original_id":"0","guid":"9697814760D64993A5D5F35DBD026EC2","previous_guid":"02CD8D526D2B428BB6529824250F6469","component_type_id":"15","data_id":"396","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/references\/TrEMBL\ncd .\/references\/TrEMBL\nwget ftp:\/\/ftp.uniprot.org\/pub\/databases\/uniprot\/current_release\/knowledgebase\/complete\/uniprot_trembl.fasta.gz\ngunzip .\/TrEMBL\/uniprot_trembl.fasta.gz\nmkdir ..\/UniProt-Virus-Phage\ncd ..\/UniProt-Virus-Phage","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140454","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"AA21DAD3B5BF4017A35FFD7B4454983D","previous_guid":"EC04A2A744BB430D95A73D5A955DDABE","previous_id":"140452","last_modified":"1457537650","components":[{"component_id":"146114","previous_id":0,"original_id":"0","guid":"520F22FA15A34FB3AA18E31C9973F57A","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Download the virus taxonomy reference text file.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Download the virus taxonomy reference text file."},"is_project":0},{"component_id":"146115","previous_id":"146114","original_id":"0","guid":"511CAE7F34E14AA0A2A1B565847FCD7C","previous_guid":"520F22FA15A34FB3AA18E31C9973F57A","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146116","previous_id":"146115","original_id":"0","guid":"E987AE403D104561B37B655B98FB27AE","previous_guid":"511CAE7F34E14AA0A2A1B565847FCD7C","component_type_id":"15","data_id":"397","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"wget ftp:\/\/ftp.uniprot.org\/pub\/databases\/uniprot\/current_release\/knowledgebase\/taxonomic_divisions\/uniprot_trembl_viruses.dat.gz","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140455","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"87D1097BA9F9475691BA50E8699C5ACB","previous_guid":"AA21DAD3B5BF4017A35FFD7B4454983D","previous_id":"140454","last_modified":"1457537650","components":[{"component_id":"146117","previous_id":0,"original_id":"0","guid":"BF9F83BAB9694744A9C46D58595675BC","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Unzip the files.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Unzip the files."},"is_project":0},{"component_id":"146118","previous_id":"146117","original_id":"0","guid":"914A4EB073D8498585585896D3F0C0C9","previous_guid":"BF9F83BAB9694744A9C46D58595675BC","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146119","previous_id":"146118","original_id":"0","guid":"C3E463CF1D77424782568A484E0248F6","previous_guid":"914A4EB073D8498585585896D3F0C0C9","component_type_id":"15","data_id":"398","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"gunzip .\/uniprot_trembl_viruses.dat.gz","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140456","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"6E8DB894B4484BD3BFACB01D67BC61BA","previous_guid":"87D1097BA9F9475691BA50E8699C5ACB","previous_id":"140455","last_modified":"1457537650","components":[{"component_id":"146120","previous_id":0,"original_id":"0","guid":"042AC0FF193944A3BB192D2670A11D9C","previous_guid":null,"component_type_id":"1","data_id":"0","data":"To make the TrEMBL database more managable downstream, we want to pull out the viral reference genes to make a virus specific database. While still in the directory 'UniProt-Virus-Phage', get a list of the IDs associated with each virus protein sequence.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"To make the TrEMBL database more managable downstream, we want to pull out the viral reference genes to make a virus specific database. While still in the directory 'UniProt-Virus-Phage', get a list of the IDs associated with each virus protein sequence."},"is_project":0},{"component_id":"146121","previous_id":"146120","original_id":"0","guid":"70BD961A0CCC4C96A13AD1DD4B00ABD5","previous_guid":"042AC0FF193944A3BB192D2670A11D9C","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146122","previous_id":"146121","original_id":"0","guid":"BAEEB1080E2C45EC8F23081A5AC83AEA","previous_guid":"70BD961A0CCC4C96A13AD1DD4B00ABD5","component_type_id":"15","data_id":"399","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"egrep '^AC' uniprot_trembl_viruses.dat | sed 's\/AC *\/\/' | sed 's\/\\;\/\/g' > .\/virus_accession_trembl_list.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140458","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"F1002B8D19F24ED5A28EA325D9CFB121","previous_guid":"6E8DB894B4484BD3BFACB01D67BC61BA","previous_id":"140456","last_modified":"1495033562","components":[{"component_id":"146126","previous_id":0,"original_id":"0","guid":"4B02852BF36641DEBE35D91CC74F4717","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Before getting the sequences that match the accession number list, we need to remove the block format from the fasta files using the perl script remove_block_fasta_format.pl","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Before getting the sequences that match the accession number list, we need to remove the block format from the fasta files using the perl script remove_block_fasta_format.pl"},"is_project":0},{"component_id":"146127","previous_id":"146126","original_id":"0","guid":"DA3942A4E03F476892C6AE1B75561BF1","previous_guid":"4B02852BF36641DEBE35D91CC74F4717","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146128","previous_id":"146127","original_id":"0","guid":"74DA613B96D24B3790569ABB0D19BA4B","previous_guid":"DA3942A4E03F476892C6AE1B75561BF1","component_type_id":"7","data_id":"227","data":"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248","order_id":"2","name":"External Link","data_by_id":"1","type_id":"7","source_data":{"link":"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248"},"is_project":0},{"component_id":"146129","previous_id":"146128","original_id":"0","guid":"9F58CBDDC3024D2596E7A2FAE6331BC6","previous_guid":"74DA613B96D24B3790569ABB0D19BA4B","component_type_id":"26","data_id":"10092","data":"","order_id":"3","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10092","thread_id":"10092","id":"10092","thread_title":"Annotation on step 5 of Script P4: Assigning Viral Taxonomy","uri":"annotation-on-step-5-of-script-p4-assigning-viral","thread_uri":"annotation-on-step-5-of-script-p4-assigning-viral","step_id":"140458","protocol_uri":"Script-P4-Assigning-Viral-Taxonomy-efqbbmw","protocol_name":"Script P4: Assigning Viral Taxonomy","protocol_name_html":"Script P4: Assigning Viral Taxonomy","annotation":"Perl scripts can be found in the supplementary information and on <a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">figshare<\/a>.","thread_text":"Perl scripts can be found in the supplementary information and on <a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">figshare<\/a>.","body":"Perl scripts can be found in the supplementary information and on <a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">figshare<\/a>.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1452797529","created_on":"1452797529","modified_on":"1457537650","last_updated":"1457537650","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"146130","previous_id":"146129","original_id":"0","guid":"BA4D8307C0F5452299D92C6DE0ACE90E","previous_guid":"9F58CBDDC3024D2596E7A2FAE6331BC6","component_type_id":"15","data_id":"400","data":null,"order_id":"4","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd ..\/TrEMBL\/\nperl remove_block_fasta_format.pl .\/uniprot_trembl.fasta .\/uniprot_trembl_no_block.fa\ncd ..\/UniProt-Virus-Phage","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140459","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"CD53917B1BA144C2B71B194043C06907","previous_guid":"F1002B8D19F24ED5A28EA325D9CFB121","previous_id":"140458","last_modified":"1495033562","components":[{"component_id":"146131","previous_id":0,"original_id":"0","guid":"E45DDE0197724EA1B697E524837FA0D4","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Use the\u00a0perl script filter_fasta_file.pl to get all of the sequences with matching accession numbers.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Use the\u00a0perl script filter_fasta_file.pl to get all of the sequences with matching accession numbers."},"is_project":0},{"component_id":"146132","previous_id":"146131","original_id":"0","guid":"53CC46C9FA6C49A7A7FD8F9B467973E3","previous_guid":"E45DDE0197724EA1B697E524837FA0D4","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146133","previous_id":"146132","original_id":"0","guid":"5F04BEEE9E494FEAB980368CAE52B8E5","previous_guid":"53CC46C9FA6C49A7A7FD8F9B467973E3","component_type_id":"7","data_id":"227","data":"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248","order_id":"2","name":"External Link","data_by_id":"1","type_id":"7","source_data":{"link":"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248"},"is_project":0},{"component_id":"146136","previous_id":"146133","original_id":"0","guid":"4A5DC2FCFDCC4716B4DB1DF3BC1CE515","previous_guid":"5F04BEEE9E494FEAB980368CAE52B8E5","component_type_id":"26","data_id":"10094","data":"","order_id":"3","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10094","thread_id":"10094","id":"10094","thread_title":"Annotation on step 6 of Script P4: Assigning Viral Taxonomy","uri":"annotation-on-step-6-of-script-p4-assigning-viral1","thread_uri":"annotation-on-step-6-of-script-p4-assigning-viral1","step_id":"140459","protocol_uri":"Script-P4-Assigning-Viral-Taxonomy-efqbbmw","protocol_name":"Script P4: Assigning Viral Taxonomy","protocol_name_html":"Script P4: Assigning Viral Taxonomy","annotation":"Perl scripts can be found in the supplementary information and on <a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">figshare<\/a>.","thread_text":"Perl scripts can be found in the supplementary information and on <a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">figshare<\/a>.","body":"Perl scripts can be found in the supplementary information and on <a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">figshare<\/a>.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1452797613","created_on":"1452797613","modified_on":"1457537650","last_updated":"1457537650","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"146135","previous_id":"146136","original_id":"0","guid":"3C6A8699FE644305807740A8B461A6FA","previous_guid":"4A5DC2FCFDCC4716B4DB1DF3BC1CE515","component_type_id":"15","data_id":"401","data":"","order_id":"4","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"perl filter_fasta_file.pl -l .\/virus_accession_trembl_list.txt -i .\/references\/TrEMBL\/uniprot_trembl_no_block.fa -o .\/uniprot_phage_virus_TrEMBL.fa -id_regex \".*\\|(.*)\\|.*\"","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140461","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"72D4D8A36C524FC3833092D3B8F727CF","previous_guid":"CD53917B1BA144C2B71B194043C06907","previous_id":"140459","last_modified":"1457537650","components":[{"component_id":"146142","previous_id":0,"original_id":"0","guid":"BD77E41EC8FB4516853FC3FF472728F7","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Generate blast database from the uniprot references (virus+phage).","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Generate blast database from the uniprot references (virus+phage)."},"is_project":0},{"component_id":"146143","previous_id":"146142","original_id":"0","guid":"22B5EACB4332405882A0F1C709FCB711","previous_guid":"BD77E41EC8FB4516853FC3FF472728F7","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146144","previous_id":"146143","original_id":"0","guid":"E23EF1195AB141F0BDBA8D19377CC080","previous_guid":"22B5EACB4332405882A0F1C709FCB711","component_type_id":"15","data_id":"402","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"makeblastdb -dbtype prot -in uniprot_phage_virus_TrEMBL.fa -out uniprot_virus_and_phage_TrEMBL_db\n\negrep \"^(OC|ID|OS)\" .\/uniprot_trembl_viruses.dat | sed -e :a -e '$!N;s\/\\n\\(OS\\)\/ \/;ta' -e 'P;D' | sed -e :a -e '$!N;s\/\\n\\(OC\\)\/ \/;ta' -e 'P;D' > .\/tmp1_TrEMBL.txt\nsed 's\/^.*\\(Viruses\\)\/\\1\/' .\/tmp1_TrEMBL.txt | sed 's\/ \\+\/ \/g' | sed 's\/\\.\/\/g' | sed 's\/; \/\\t\/g' | sed 's\/ \/_\/g' > .\/tmp_taxa_tree_TrEMBL.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140462","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"0F1AA96C509C42BCA5AEE2B88AC6A932","previous_guid":"72D4D8A36C524FC3833092D3B8F727CF","previous_id":"140461","last_modified":"1495033562","components":[{"component_id":"146145","previous_id":0,"original_id":"0","guid":"0FC16B7AEBC342968B4B27B605F1F045","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Pull out the different taxonomic level information.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Pull out the different taxonomic level information."},"is_project":0},{"component_id":"146146","previous_id":"146145","original_id":"0","guid":"E7F4780D982F40D1B5B6EC1228D81F9F","previous_guid":"0FC16B7AEBC342968B4B27B605F1F045","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146147","previous_id":"146146","original_id":"0","guid":"DBF9B1D816264B0ABD3398F3C6682E7D","previous_guid":"E7F4780D982F40D1B5B6EC1228D81F9F","component_type_id":"7","data_id":"227","data":"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248","order_id":"2","name":"External Link","data_by_id":"1","type_id":"7","source_data":{"link":"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248"},"is_project":0},{"component_id":"146148","previous_id":"146147","original_id":"0","guid":"B566A179111C464882D7DA117E6D6FA5","previous_guid":"DBF9B1D816264B0ABD3398F3C6682E7D","component_type_id":"26","data_id":"10095","data":"","order_id":"3","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10095","thread_id":"10095","id":"10095","thread_title":"Annotation on step 8 of Script P4: Assigning Viral Taxonomy","uri":"annotation-on-step-8-of-script-p4-assigning-viral","thread_uri":"annotation-on-step-8-of-script-p4-assigning-viral","step_id":"140462","protocol_uri":"Script-P4-Assigning-Viral-Taxonomy-efqbbmw","protocol_name":"Script P4: Assigning Viral Taxonomy","protocol_name_html":"Script P4: Assigning Viral Taxonomy","annotation":"Perl scripts can be found in the supplementary information and on <a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">figshare<\/a>.","thread_text":"Perl scripts can be found in the supplementary information and on <a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">figshare<\/a>.","body":"Perl scripts can be found in the supplementary information and on <a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">figshare<\/a>.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1452798511","created_on":"1452798511","modified_on":"1457537650","last_updated":"1457537650","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"146149","previous_id":"146148","original_id":"0","guid":"8BE5147DAFED4335A8E6E482DE76B07E","previous_guid":"B566A179111C464882D7DA117E6D6FA5","component_type_id":"15","data_id":"403","data":null,"order_id":"4","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"perl get_format_order.pl tmp_taxa_tree_TrEMBL.txt tmp_order_TrEMBL.txt\nperl get_format_family.pl tmp_taxa_tree_TrEMBL.txt tmp_family_TrEMBL.txt\nperl get_format_subfamily.pl tmp_taxa_tree_TrEMBL.txt tmp_subfamily_TrEMBL.txt\nperl get_format_genus.pl tmp_taxa_tree_TrEMBL.txt tmp_genus_TrEMBL.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140463","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"DF6F2378A5734709A1C10223DF67D7CA","previous_guid":"0F1AA96C509C42BCA5AEE2B88AC6A932","previous_id":"140462","last_modified":"1457537650","components":[{"component_id":"146150","previous_id":0,"original_id":"0","guid":"6AA090F4F6CB41D1B66CEAD730CF6519","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get list of IDs.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get list of IDs."},"is_project":0},{"component_id":"146151","previous_id":"146150","original_id":"0","guid":"BB78B088ED1C4D4C87D54233B898B3FC","previous_guid":"6AA090F4F6CB41D1B66CEAD730CF6519","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146152","previous_id":"146151","original_id":"0","guid":"05C6B04FFC654D9281642FAD1EA82555","previous_guid":"BB78B088ED1C4D4C87D54233B898B3FC","component_type_id":"15","data_id":"404","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sed 's\/^ID \\+\/\/' tmp1_TrEMBL.txt | sed 's\/ .*$\/\/' > tmp_id_TrEMBL.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140464","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"3350D620AB044CD6BCA30007D542C160","previous_guid":"DF6F2378A5734709A1C10223DF67D7CA","previous_id":"140463","last_modified":"1457537650","components":[{"component_id":"146153","previous_id":0,"original_id":"0","guid":"3286CE71EFEC4137BA8543AF06FA82CE","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get list of \"species names\"","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get list of \"species names\""},"is_project":0},{"component_id":"146154","previous_id":"146153","original_id":"0","guid":"5EC54ABA66B042EAA2E1FB523FEB71B4","previous_guid":"3286CE71EFEC4137BA8543AF06FA82CE","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146155","previous_id":"146154","original_id":"0","guid":"697286A5F4D0445396F972A1E34A5252","previous_guid":"5EC54ABA66B042EAA2E1FB523FEB71B4","component_type_id":"15","data_id":"405","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sed 's\/^.*AA\\. *\/\/' tmp1_TrEMBL.txt | sed 's\/Viruses.*$\/\/' | sed 's\/ \\+\/_\/g' | sed 's\/\\._$\/\/' > tmp_species_TrEMBL.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140465","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"B723FFFEEF1742EA96E9C2216792868D","previous_guid":"3350D620AB044CD6BCA30007D542C160","previous_id":"140464","last_modified":"1457537650","components":[{"component_id":"146156","previous_id":0,"original_id":"0","guid":"FF9C35A7AEBE4E1F8BAE6150B2056F7B","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Paste together the lists.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Paste together the lists."},"is_project":0},{"component_id":"146157","previous_id":"146156","original_id":"0","guid":"EBAD7AE9B7114A1A891D086DC93929CD","previous_guid":"FF9C35A7AEBE4E1F8BAE6150B2056F7B","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146158","previous_id":"146157","original_id":"0","guid":"A7859F3C177145738095229E973FE684","previous_guid":"EBAD7AE9B7114A1A891D086DC93929CD","component_type_id":"15","data_id":"406","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"paste tmp_id_TrEMBL.txt tmp_order_TrEMBL.txt tmp_family_TrEMBL.txt tmp_subfamily_TrEMBL.txt tmp_genus_TrEMBL.txt tmp_species_TrEMBL.txt > uniprot_reference_phage_and_virus_TrEMBL_taxonomy_table.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140466","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"AE47A833A7964723806BC371CF91B499","previous_guid":"B723FFFEEF1742EA96E9C2216792868D","previous_id":"140465","last_modified":"1457537650","components":[{"component_id":"146159","previous_id":0,"original_id":"0","guid":"982B59E5FA774E6BA9F2BE7CB1AD49EF","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Remove the tmp files after the script is finished running.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Remove the tmp files after the script is finished running."},"is_project":0},{"component_id":"146160","previous_id":"146159","original_id":"0","guid":"B13A3CBB163943A5BCD06184A5654E8E","previous_guid":"982B59E5FA774E6BA9F2BE7CB1AD49EF","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146161","previous_id":"146160","original_id":"0","guid":"07D2D18488CA4D12907382A215A8F4FB","previous_guid":"B13A3CBB163943A5BCD06184A5654E8E","component_type_id":"15","data_id":"407","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"rm .\/tmp*","description":"WARNING: This will remove all files that start with \"tmp\", so be careful and make sure you don't delete files that you want to keep.","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140467","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"5982838EBBB94A3D97A00F00EA458B0E","previous_guid":"AE47A833A7964723806BC371CF91B499","previous_id":"140466","last_modified":"1457537650","components":[{"component_id":"146162","previous_id":0,"original_id":"0","guid":"3EF04A7699774DD09CC4C95716B69E12","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Now that we have the virus reference database prepared and formatted, we can start annotating the viruses in our dataset. Instead of annotating each individual short sequence, we are going to annotate our longer contigs.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Now that we have the virus reference database prepared and formatted, we can start annotating the viruses in our dataset. Instead of annotating each individual short sequence, we are going to annotate our longer contigs."},"is_project":0},{"component_id":"146163","previous_id":"146162","original_id":"0","guid":"97448638587644AFA319945A160FCCD6","previous_guid":"3EF04A7699774DD09CC4C95716B69E12","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146164","previous_id":"146163","original_id":"0","guid":"D6DD93F57A9A4CFFBDF3EB3568FAE3A1","previous_guid":"97448638587644AFA319945A160FCCD6","component_type_id":"26","data_id":"10096","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10096","thread_id":"10096","id":"10096","thread_title":"Annotation on step 13 of Script P4: Assigning Viral Taxonomy","uri":"annotation-on-step-13-of-script-p4-assigning-viral","thread_uri":"annotation-on-step-13-of-script-p4-assigning-viral","step_id":"140467","protocol_uri":"Script-P4-Assigning-Viral-Taxonomy-efqbbmw","protocol_name":"Script P4: Assigning Viral Taxonomy","protocol_name_html":"Script P4: Assigning Viral Taxonomy","annotation":"Note that near the end of the loop below, we need to address some name issues. There are duplicates in the TrEMBL dataset due to slight naming differences (i.e. Environmental_Halophage and Environmental_halophage) which could throw off some downstream relative abundance analyses. Therefore we standardize these names across the dataset. We also removed some 'strain' specific information to allow the phages\/viruses to be a little more broadly grouped (i.e. Taking the numbers off the end of different Staphylococcus phage names to make them all 'Staphylococcus phage'.","thread_text":"Note that near the end of the loop below, we need to address some name issues. There are duplicates in the TrEMBL dataset due to slight naming differences (i.e. Environmental_Halophage and Environmental_halophage) which could throw off some downstream relative abundance analyses. Therefore we standardize these names across the dataset. We also removed some 'strain' specific information to allow the phages\/viruses to be a little more broadly grouped (i.e. Taking the numbers off the end of different Staphylococcus phage names to make them all 'Staphylococcus phage'.","body":"Note that near the end of the loop below, we need to address some name issues. There are duplicates in the TrEMBL dataset due to slight naming differences (i.e. Environmental_Halophage and Environmental_halophage) which could throw off some downstream relative abundance analyses. Therefore we standardize these names across the dataset. We also removed some 'strain' specific information to allow the phages\/viruses to be a little more broadly grouped (i.e. Taking the numbers off the end of different Staphylococcus phage names to make them all 'Staphylococcus phage'.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1452798511","created_on":"1452798511","modified_on":"1457537650","last_updated":"1457537650","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0}]},{"id":"140468","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"3D65FFEDFF9B49808CF8021A9AB871F1","previous_guid":"5982838EBBB94A3D97A00F00EA458B0E","previous_id":"140467","last_modified":"1457537650","components":[{"component_id":"146165","previous_id":0,"original_id":"0","guid":"6DB31EF1C1254E678DC11C4705060A0A","previous_guid":null,"component_type_id":"1","data_id":"0","data":"In the main working directory make a directory for the uniprot taxonomy results.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"In the main working directory make a directory for the uniprot taxonomy results."},"is_project":0},{"component_id":"146166","previous_id":"146165","original_id":"0","guid":"07F2210AD5C24197BF5D157EE7132539","previous_guid":"6DB31EF1C1254E678DC11C4705060A0A","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146167","previous_id":"146166","original_id":"0","guid":"B5908D96C933439CA5BC3ED66F66A2F6","previous_guid":"07F2210AD5C24197BF5D157EE7132539","component_type_id":"15","data_id":"408","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/uniprot_taxonomy_using_orfs","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140469","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"43357FD2CEA047C994BB25BA03EA9FC5","previous_guid":"3D65FFEDFF9B49808CF8021A9AB871F1","previous_id":"140468","last_modified":"1457537650","components":[{"component_id":"146168","previous_id":0,"original_id":"0","guid":"CD8EADF5C2634DE889A0E7C8F1EF5802","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Perform blastx of the predicted ORFs against the virus\/phage uniprot database reference (TREMBL).","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Perform blastx of the predicted ORFs against the virus\/phage uniprot database reference (TREMBL)."},"is_project":0},{"component_id":"146169","previous_id":"146168","original_id":"0","guid":"D7C463329FFD410D8AEDB8E65D9BBEE6","previous_guid":"CD8EADF5C2634DE889A0E7C8F1EF5802","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146170","previous_id":"146169","original_id":"0","guid":"1D1977FCA03046A8BBFFB703D84F00E5","previous_guid":"D7C463329FFD410D8AEDB8E65D9BBEE6","component_type_id":"8","data_id":"22","data":null,"order_id":"2","name":"Software package","data_by_id":"1","type_id":"8","source_data":{"id":"22","name":"BLAST Toolkit","developer":"NCBI","repository":"ftp:\/\/ftp.ncbi.nlm.nih.gov\/blast\/executables\/blast+\/LATEST\/","link":"https:\/\/blast.ncbi.nlm.nih.gov\/Blast.cgi?PAGE_TYPE=BlastDocs&DOC_TYPE=Download","os_name":"Unix","os_version":"","version":"2.2.0","can_edit":"0"},"is_project":0},{"component_id":"146171","previous_id":"146170","original_id":"0","guid":"F1F8708C3C6A41C29D0F3D3F449DCB11","previous_guid":"1D1977FCA03046A8BBFFB703D84F00E5","component_type_id":"15","data_id":"409","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"blastx -query .\/glimmer3\/output\/Contigs_no_block_with_names_glimmer_output_final.fa -out .\/uniprot_taxonomy_using_orfs\/blastx_trembl_glimmer_total_orfs.txt -db .\/references\/UniProt-Virus-Phage\/uniprot_virus_and_phage_TrEMBL_db -outfmt 6 -num_threads 16 -max_target_seqs 1 -evalue 1e-5","description":"Use ORF fasta file (from glimmer3)","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140470","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"D5223A0173D84861AFAC42C13096E9EF","previous_guid":"43357FD2CEA047C994BB25BA03EA9FC5","previous_id":"140469","last_modified":"1457537650","components":[{"component_id":"146172","previous_id":0,"original_id":"0","guid":"1039886F30704A768408E3BDBF9640DD","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Move blastx output files to a specific directory.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Move blastx output files to a specific directory."},"is_project":0},{"component_id":"146173","previous_id":"146172","original_id":"0","guid":"9D611F1346B34820A471B2F9DC52372D","previous_guid":"1039886F30704A768408E3BDBF9640DD","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146174","previous_id":"146173","original_id":"0","guid":"FF01321786624AE7AA5B21D8C4C12CAF","previous_guid":"9D611F1346B34820A471B2F9DC52372D","component_type_id":"15","data_id":"410","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/uniprot_taxonomy_using_orfs\/blastx_raw_results\nmv .\/uniprot_taxonomy_using_orfs\/blastx_trembl_glimmer_total_orfs.txt .\/uniprot_taxonomy_using_orfs\/blastx_raw_results","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140471","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"A2835B041D58432599442C89B095D288","previous_guid":"D5223A0173D84861AFAC42C13096E9EF","previous_id":"140470","last_modified":"1457537650","components":[{"component_id":"146175","previous_id":0,"original_id":"0","guid":"0B4C9DAA9E524043A24303E4FAEFF9CD","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get the gene and contig IDs from the blastx results (output 6; tab delimited file).","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get the gene and contig IDs from the blastx results (output 6; tab delimited file)."},"is_project":0},{"component_id":"146176","previous_id":"146175","original_id":"0","guid":"AA34A9C89EE44B3AB5EFAB393F784270","previous_guid":"0B4C9DAA9E524043A24303E4FAEFF9CD","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146177","previous_id":"146176","original_id":"0","guid":"F69FE2544DE64297A1C4A3864C8C713C","previous_guid":"AA34A9C89EE44B3AB5EFAB393F784270","component_type_id":"26","data_id":"10097","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10097","thread_id":"10097","id":"10097","thread_title":"Annotation on step 17 of Script P4: Assigning Viral Taxonomy","uri":"annotation-on-step-17-of-script-p4-assigning-viral","thread_uri":"annotation-on-step-17-of-script-p4-assigning-viral","step_id":"140471","protocol_uri":"Script-P4-Assigning-Viral-Taxonomy-efqbbmw","protocol_name":"Script P4: Assigning Viral Taxonomy","protocol_name_html":"Script P4: Assigning Viral Taxonomy","annotation":"Do this all in a loop to make life easier.","thread_text":"Do this all in a loop to make life easier.","body":"Do this all in a loop to make life easier.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1452798511","created_on":"1452798511","modified_on":"1457537650","last_updated":"1457537650","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"146178","previous_id":"146177","original_id":"0","guid":"65DE6BA2AD6346648DAE31721DDE1F65","previous_guid":"F69FE2544DE64297A1C4A3864C8C713C","component_type_id":"15","data_id":"411","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\nfor file in $(ls .\/uniprot_taxonomy_using_orfs\/blastx_raw_results); do","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140472","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"D0CD3A2C0B5D40DFBF284B5297E7AEEA","previous_guid":"A2835B041D58432599442C89B095D288","previous_id":"140471","last_modified":"1457537650","components":[{"component_id":"146179","previous_id":0,"original_id":"0","guid":"0418F29EDF0A429B8D6E9745443FF7FA","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Set file name variable.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Set file name variable."},"is_project":0},{"component_id":"146180","previous_id":"146179","original_id":"0","guid":"C7817BB3625D4317A4C09EE893F1077E","previous_guid":"0418F29EDF0A429B8D6E9745443FF7FA","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146181","previous_id":"146180","original_id":"0","guid":"0202656710394E8494E9FAC1993F87BD","previous_guid":"C7817BB3625D4317A4C09EE893F1077E","component_type_id":"15","data_id":"412","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"NAME=$(echo ${file})","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140473","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"038CF7F0884A4AFDB342AE58166847AC","previous_guid":"D0CD3A2C0B5D40DFBF284B5297E7AEEA","previous_id":"140472","last_modified":"1457537650","components":[{"component_id":"146182","previous_id":0,"original_id":"0","guid":"A3D52B0C5AAA4B038CB5E2A98CE9CFC8","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Assign contig IDs to tmp list file.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Assign contig IDs to tmp list file."},"is_project":0},{"component_id":"146183","previous_id":"146182","original_id":"0","guid":"6255A43A977D40069CF1B156B1B774C4","previous_guid":"A3D52B0C5AAA4B038CB5E2A98CE9CFC8","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146184","previous_id":"146183","original_id":"0","guid":"2E98BFE728C0420682E8940B2EB4D980","previous_guid":"6255A43A977D40069CF1B156B1B774C4","component_type_id":"15","data_id":"413","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cut -f 1 .\/uniprot_taxonomy_using_orfs\/blastx_raw_results\/${file} | sed 's\/_.*\/\/' > .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/tmp1_${file}","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140474","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"CAD45D51E2204540910E2D8C46AE4B3B","previous_guid":"038CF7F0884A4AFDB342AE58166847AC","previous_id":"140473","last_modified":"1457537650","components":[{"component_id":"146185","previous_id":0,"original_id":"0","guid":"DFD130F565464C7B8EB850B48BE6929C","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Assign gene hit IDs to another tmp list.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Assign gene hit IDs to another tmp list."},"is_project":0},{"component_id":"146186","previous_id":"146185","original_id":"0","guid":"03DD631BD10049D9BCB3D8830D007F32","previous_guid":"DFD130F565464C7B8EB850B48BE6929C","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146187","previous_id":"146186","original_id":"0","guid":"F79C3212F36C44D4B3ABF4038BDB1D47","previous_guid":"03DD631BD10049D9BCB3D8830D007F32","component_type_id":"15","data_id":"414","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cut -f 2 .\/uniprot_taxonomy_using_orfs\/blastx_raw_results\/${file} | sed 's\/.*|.*|\\(.*\\)\/\\1\/' > .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/tmp2_${file}","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140475","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"E9FC3A5573414B1EA6CDE927D651B17B","previous_guid":"CAD45D51E2204540910E2D8C46AE4B3B","previous_id":"140474","last_modified":"1457537650","components":[{"component_id":"146188","previous_id":0,"original_id":"0","guid":"DACA72957CC244828F98B4AD8F967BB3","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Paste these files together for reference.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Paste these files together for reference."},"is_project":0},{"component_id":"146189","previous_id":"146188","original_id":"0","guid":"3D4A919D083A4BCAB02E1B289E0356D0","previous_guid":"DACA72957CC244828F98B4AD8F967BB3","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146190","previous_id":"146189","original_id":"0","guid":"CF428EA13A8C498D9151BC18C8EB5858","previous_guid":"3D4A919D083A4BCAB02E1B289E0356D0","component_type_id":"15","data_id":"415","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"paste .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/tmp1_${file} .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/tmp2_${file} > .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/tmp_paste_${file}","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140476","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"BFB27892D14449C196B802899157663D","previous_guid":"E9FC3A5573414B1EA6CDE927D651B17B","previous_id":"140475","last_modified":"1457537650","components":[{"component_id":"146191","previous_id":0,"original_id":"0","guid":"DB250C30E4B84654B4F07F13B42D050F","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Add in the taxonomy data from the uniprot reference database.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Add in the taxonomy data from the uniprot reference database."},"is_project":0},{"component_id":"146192","previous_id":"146191","original_id":"0","guid":"463D148AF5A34E4184A9C02459A671DF","previous_guid":"DB250C30E4B84654B4F07F13B42D050F","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146193","previous_id":"146192","original_id":"0","guid":"159A6DA4F5444781ADB761E1951B85D1","previous_guid":"463D148AF5A34E4184A9C02459A671DF","component_type_id":"15","data_id":"416","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Assigning taxonomy to ${file}...\n\tif [[ $NAME =~ .*trembl.* ]]; then\n\t\tawk 'FNR==NR { a[$1]=$2\"\\t\"$3\"\\t\"$4\"\\t\"$5\"\\t\"$6; next } $2 in a { print $1\"\\t\"a[$2] }' .\/references\/UniProt-Virus-Phage\/uniprot_reference_phage_and_virus_TrEMBL_taxonomy_table.txt .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/tmp_paste_${file} > .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/tmp_awk_cat_${file}\n\t\techo $NAME contains trembl!\n\telif [[ $NAME =~ .*swissprot.* ]]; then\n\t\techo $NAME contains swissprot!\n\telse\n\t\techo $NAME does not contain trembl or swissprot!\n\tfi","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140477","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"4F94D6BD85814C9489503537A9FBAA63","previous_guid":"BFB27892D14449C196B802899157663D","previous_id":"140476","last_modified":"1457537650","components":[{"component_id":"146194","previous_id":0,"original_id":"0","guid":"8AF85B8EA07B4637952F94D97B3B6D45","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Add @ symbol delimiter at first tab for easier perl parsing.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Add @ symbol delimiter at first tab for easier perl parsing."},"is_project":0},{"component_id":"146195","previous_id":"146194","original_id":"0","guid":"39773792747A4E67B09059971F56A8BA","previous_guid":"8AF85B8EA07B4637952F94D97B3B6D45","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146196","previous_id":"146195","original_id":"0","guid":"BAE5A1BF5ACB4D639308A36C4448B372","previous_guid":"39773792747A4E67B09059971F56A8BA","component_type_id":"15","data_id":"417","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sed 's\/\\t\/@\/' .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/tmp_awk_cat_${file} > .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/format_for_perl_${file}","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140478","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"B0EF57F1A361466B82AAD65F638400F6","previous_guid":"4F94D6BD85814C9489503537A9FBAA63","previous_id":"140477","last_modified":"1457537650","components":[{"component_id":"146197","previous_id":0,"original_id":"0","guid":"D0B4516F775E4D8388F25BA5B04D638C","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Filter out the contigs that did not have at least one orf match per 10kb. Return the number of orfs that had assigned taxonomy to each contig.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Filter out the contigs that did not have at least one orf match per 10kb. Return the number of orfs that had assigned taxonomy to each contig."},"is_project":0},{"component_id":"146198","previous_id":"146197","original_id":"0","guid":"0B1EC47F1ED34C37A5C34AFB8C34FA80","previous_guid":"D0B4516F775E4D8388F25BA5B04D638C","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146199","previous_id":"146198","original_id":"0","guid":"2DD5A117B594404698A013D8B019A24C","previous_guid":"0B1EC47F1ED34C37A5C34AFB8C34FA80","component_type_id":"15","data_id":"418","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sed 's\/@.*\/_\/' .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/format_for_perl_${file} | sort | uniq -c | sed 's\/^ *\/\/' | sed 's\/ \/\\t\/' > .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/tmp_orf_count_${file}","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140479","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"C10C2020EEA84E1682E63136B9436F32","previous_guid":"B0EF57F1A361466B82AAD65F638400F6","previous_id":"140478","last_modified":"1457537650","components":[{"component_id":"146200","previous_id":0,"original_id":"0","guid":"29425C71195F49CEA4FDD8F976214E12","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Assemble a list of contig numbers, only including those contigs which had at least 1 orf per 10kb.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Assemble a list of contig numbers, only including those contigs which had at least 1 orf per 10kb."},"is_project":0},{"component_id":"146201","previous_id":"146200","original_id":"0","guid":"10C5EABC285E4972B71936A73A7BF90B","previous_guid":"29425C71195F49CEA4FDD8F976214E12","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146202","previous_id":"146201","original_id":"0","guid":"5FACDE8F369E4DD7B335CEA4E5FB7EC4","previous_guid":"10C5EABC285E4972B71936A73A7BF90B","component_type_id":"15","data_id":"419","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"awk 'FNR==NR { a[$1]=$2; next } $2 in a { print $2\"\\t\"$1\"\\t\"a[$2]\"\\t\"10000*$1\/a[$2] }' .\/contig_stats\/contig_length_without_greater_sign.txt .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/tmp_orf_count_${file} | awk '$4 > 1' > .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/tmp_awk_list_less_10kb_${file}","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140480","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"9DB757D591534206A7527BEDF996DE01","previous_guid":"C10C2020EEA84E1682E63136B9436F32","previous_id":"140479","last_modified":"1457537650","components":[{"component_id":"146203","previous_id":0,"original_id":"0","guid":"FFA4AF159DB64A94B74A58ED47D04D0F","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get only the contig ID numbers, clean away the other information from each row.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get only the contig ID numbers, clean away the other information from each row."},"is_project":0},{"component_id":"146204","previous_id":"146203","original_id":"0","guid":"1C152373F7B84C0D9C9637579A085D0A","previous_guid":"FFA4AF159DB64A94B74A58ED47D04D0F","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146205","previous_id":"146204","original_id":"0","guid":"07F04AEA18884291A3EA8788C9CE6709","previous_guid":"1C152373F7B84C0D9C9637579A085D0A","component_type_id":"15","data_id":"420","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cut -f 1 .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/tmp_awk_list_less_10kb_${file} > .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/tmp_awk_list_less_10kb_clean_${file}","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140481","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"48F9FC45D66E406EABD4AD715FD1B275","previous_guid":"9DB757D591534206A7527BEDF996DE01","previous_id":"140480","last_modified":"1457537650","components":[{"component_id":"146206","previous_id":0,"original_id":"0","guid":"F4203C4B108A4333BDFCBCE20B6C457E","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Remove the underscores from the ends of the contig IDs so that grep can match the entire words.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Remove the underscores from the ends of the contig IDs so that grep can match the entire words."},"is_project":0},{"component_id":"146207","previous_id":"146206","original_id":"0","guid":"5289707E5018419D9591F4C78B175933","previous_guid":"F4203C4B108A4333BDFCBCE20B6C457E","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146208","previous_id":"146207","original_id":"0","guid":"CECF8B732650432A860FD273298BB3E2","previous_guid":"5289707E5018419D9591F4C78B175933","component_type_id":"15","data_id":"421","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sed 's\/\\t\/_\\t\/' .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/tmp_awk_cat_${file} > .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/tmp_awk_cat_no_underscore_${file}","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140482","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"E6709BED379D4CD5848873BF3D339CB9","previous_guid":"48F9FC45D66E406EABD4AD715FD1B275","previous_id":"140481","last_modified":"1457537650","components":[{"component_id":"146209","previous_id":0,"original_id":"0","guid":"5C8BAA9A92944048BBEF64081142E0DA","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Use grep to get the contig rows that match the list of contigs to keep.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Use grep to get the contig rows that match the list of contigs to keep."},"is_project":0},{"component_id":"146210","previous_id":"146209","original_id":"0","guid":"85A102A6489B4E2D9F2A749C9FF1B9EB","previous_guid":"5C8BAA9A92944048BBEF64081142E0DA","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146211","previous_id":"146210","original_id":"0","guid":"5778738EC2E142B3B4F8F3AA5E667C4F","previous_guid":"85A102A6489B4E2D9F2A749C9FF1B9EB","component_type_id":"15","data_id":"422","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"grep -w --file=.\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/tmp_awk_list_less_10kb_clean_${file} .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/tmp_awk_cat_no_underscore_${file} > .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/coverage_filtered_${file}","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140484","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"BCCB842EB4494CA2957FF69D78037509","previous_guid":"E6709BED379D4CD5848873BF3D339CB9","previous_id":"140482","last_modified":"1457537650","components":[{"component_id":"146214","previous_id":0,"original_id":"0","guid":"3E330AE02D3542D3B9ACEE600676603E","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Again add @ symbol delimiter at first tab for easier perl parsing on filtered contigs.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Again add @ symbol delimiter at first tab for easier perl parsing on filtered contigs."},"is_project":0},{"component_id":"146215","previous_id":"146214","original_id":"0","guid":"1A7FAD57E81249D58CD0CBEF62859A68","previous_guid":"3E330AE02D3542D3B9ACEE600676603E","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146216","previous_id":"146215","original_id":"0","guid":"AA9536D00CAC42B081F2031F5B85F16F","previous_guid":"1A7FAD57E81249D58CD0CBEF62859A68","component_type_id":"15","data_id":"423","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sed 's\/_\\t\/@\/' .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/coverage_filtered_${file} > .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/format_for_perl_filtered_${file}","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140485","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"D56CD2067F6848C7A712F6A847FA9E8D","previous_guid":"BCCB842EB4494CA2957FF69D78037509","previous_id":"140484","last_modified":"1495033562","components":[{"component_id":"146217","previous_id":0,"original_id":"0","guid":"08EDB307EC2C44969225080FE7079452","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Remove the strain specific IDs at the ends of the phage and virus species names (for example, staph_phage_0594 is just staph_phage).","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Remove the strain specific IDs at the ends of the phage and virus species names (for example, staph_phage_0594 is just staph_phage)."},"is_project":0},{"component_id":"146218","previous_id":"146217","original_id":"0","guid":"8434C082A4F74B8A889DADCD57D52E8C","previous_guid":"08EDB307EC2C44969225080FE7079452","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146219","previous_id":"146218","original_id":"0","guid":"DFF65C5B1A204677947F7CCAA07EE289","previous_guid":"8434C082A4F74B8A889DADCD57D52E8C","component_type_id":"7","data_id":"227","data":"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248","order_id":"2","name":"External Link","data_by_id":"1","type_id":"7","source_data":{"link":"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248"},"is_project":0},{"component_id":"146220","previous_id":"146219","original_id":"0","guid":"6CF71753D6934C9B9FBDD11FE2619496","previous_guid":"DFF65C5B1A204677947F7CCAA07EE289","component_type_id":"26","data_id":"10099","data":"","order_id":"3","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10099","thread_id":"10099","id":"10099","thread_title":"Annotation on step 30 of Script P4: Assigning Viral Taxonomy","uri":"annotation-on-step-30-of-script-p4-assigning-viral","thread_uri":"annotation-on-step-30-of-script-p4-assigning-viral","step_id":"140485","protocol_uri":"Script-P4-Assigning-Viral-Taxonomy-efqbbmw","protocol_name":"Script P4: Assigning Viral Taxonomy","protocol_name_html":"Script P4: Assigning Viral Taxonomy","annotation":"Perl scripts and supplementary information available at <a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">figshare<\/a>.","thread_text":"Perl scripts and supplementary information available at <a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">figshare<\/a>.","body":"Perl scripts and supplementary information available at <a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">figshare<\/a>.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1452803895","created_on":"1452803895","modified_on":"1457537650","last_updated":"1457537650","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"146221","previous_id":"146220","original_id":"0","guid":"19CB59E8379646E2A43F2902C21BDDBB","previous_guid":"6CF71753D6934C9B9FBDD11FE2619496","component_type_id":"26","data_id":"10100","data":"","order_id":"4","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10100","thread_id":"10100","id":"10100","thread_title":"Annotation on step 30 of Script P4: Assigning Viral Taxonomy","uri":"annotation-on-step-30-of-script-p4-assigning-viral1","thread_uri":"annotation-on-step-30-of-script-p4-assigning-viral1","step_id":"140485","protocol_uri":"Script-P4-Assigning-Viral-Taxonomy-efqbbmw","protocol_name":"Script P4: Assigning Viral Taxonomy","protocol_name_html":"Script P4: Assigning Viral Taxonomy","annotation":"Here I am primarily changing the phage identifiers and am not changing much of the other taxonomic information. There were some duplicate that we noticed upon manual inspection, so I also fix those here.","thread_text":"Here I am primarily changing the phage identifiers and am not changing much of the other taxonomic information. There were some duplicate that we noticed upon manual inspection, so I also fix those here.","body":"Here I am primarily changing the phage identifiers and am not changing much of the other taxonomic information. There were some duplicate that we noticed upon manual inspection, so I also fix those here.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1452803895","created_on":"1452803895","modified_on":"1457537650","last_updated":"1457537650","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"146222","previous_id":"146221","original_id":"0","guid":"69A86CB367D34EA1BDF10719900379DF","previous_guid":"19CB59E8379646E2A43F2902C21BDDBB","component_type_id":"15","data_id":"424","data":null,"order_id":"5","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sed 's\/\\(\\t.*_phage\\).*$\/\\1\/' .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/format_for_perl_filtered_${file} | sed 's\/\\(\\t.*_virus\\).*$\/\\1\/' | sed 's\/_type.*$\/\/' | sed 's\/\\(virus\\)[^\\t^\\n]*$\/\\1\/' | sed 's\/_bacteriophage.*$\/_phage\/' | sed 's\/\\(_phage\\).*_phage.*$\/\\1\/' | sed 's\/\\([A-Za-z]\\{2\\}phage\\)_.*$\/\\1\/' | sed 's\/_prophage.*$\/_phage\/' | sed 's\/-\/_\/' | sed 's\/\\.\/_\/' | sed 's\/Streptomyce_phage\/Streptomyces_phage\/' | sed 's\/Mycobacteriophage\/Mycobacterium_phage\/' | sed 's\/Environmental_Halophage\/Environmental_halophage\/' | sed 's\/Corynephage\/Corynebacterium_phage\/' | sed 's\/Enterobacterial_phage\/Enterobacteria_phage\/' | sed 's\/Enterobacterio_phage\/Enterobacteria_phage\/' > .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/trimmed_format_for_perl_filtered_${file}","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140486","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"3DB1D63AE6A74856A9A3DEA43F43E7C5","previous_guid":"D56CD2067F6848C7A712F6A847FA9E8D","previous_id":"140485","last_modified":"1457537650","components":[{"component_id":"146223","previous_id":0,"original_id":"0","guid":"BD42546430B04522BBA6BB494CD8B7CA","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Use the uniprot orf contig taxonomy script for contig taxonomy assignment.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Use the uniprot orf contig taxonomy script for contig taxonomy assignment."},"is_project":0},{"component_id":"146224","previous_id":"146223","original_id":"0","guid":"D89D536FD41D4C89BCB4A7EEDF1B18DC","previous_guid":"BD42546430B04522BBA6BB494CD8B7CA","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146225","previous_id":"146224","original_id":"0","guid":"D219FAA1B9A44EBB8439E55BF4210E68","previous_guid":"D89D536FD41D4C89BCB4A7EEDF1B18DC","component_type_id":"15","data_id":"425","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"perl contig_id_by_orfs.pl .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/trimmed_format_for_perl_filtered_${file} .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/perl_taxonomy_results_${file}","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"140487","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"6341DD7457BF41CCB1C779A0252783EA","previous_guid":"3DB1D63AE6A74856A9A3DEA43F43E7C5","previous_id":"140486","last_modified":"1457537650","components":[{"component_id":"146226","previous_id":0,"original_id":"0","guid":"4DCD7606F8C1435781774E3A8977209A","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Add underscore to the end of each contig number in the file.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Add underscore to the end of each contig number in the file."},"is_project":0},{"component_id":"146227","previous_id":"146226","original_id":"0","guid":"FB190EF53D7241D3B5231ADC3181FBC1","previous_guid":"4DCD7606F8C1435781774E3A8977209A","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"146228","previous_id":"146227","original_id":"0","guid":"6AE0E1535C134BAD8BF489F07FA38244","previous_guid":"FB190EF53D7241D3B5231ADC3181FBC1","component_type_id":"15","data_id":"426","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sed 's\/\\t\/_\\t\/' .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/perl_taxonomy_results_${file} > .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/perl_taxonomy_results_underscore_${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141482","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"84417AB2CFC348CEB73E39579253AAA6","previous_guid":"6341DD7457BF41CCB1C779A0252783EA","previous_id":"140487","last_modified":"1457537650","components":[{"component_id":"148245","previous_id":0,"original_id":"0","guid":"BA3DBFD85D764B2DA8544D79041435D8","previous_guid":null,"component_type_id":"1","data_id":"0","data":"The contigs have now been annotated with taxonomic information, but this is only half of the analysis battle. Our goal is to get a relative abundance table with each column being a sample, each row being a contig (like an \"OTU\") which has taxonomic information, and the intersections have the relative abundance information (calculated as RPKM).","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"The contigs have now been annotated with taxonomic information, but this is only half of the analysis battle. Our goal is to get a relative abundance table with each column being a sample, each row being a contig (like an \"OTU\") which has taxonomic information, and the intersections have the relative abundance information (calculated as RPKM)."},"is_project":0},{"component_id":"148246","previous_id":"148245","original_id":"0","guid":"A2EE4B71AC4C4800BBB3EFD3B4B94227","previous_guid":"BA3DBFD85D764B2DA8544D79041435D8","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0}]},{"id":"141483","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"2BF0A5E12EDB445F85B227A8A60294B7","previous_guid":"84417AB2CFC348CEB73E39579253AAA6","previous_id":"141482","last_modified":"1457537650","components":[{"component_id":"148247","previous_id":0,"original_id":"0","guid":"F8D52DE16EA54D71B5CB732DEEB0ABE2","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Run bowtie2 of the negative cleaned samples against the contig reference database. First build bowtie reference of the contigs.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Run bowtie2 of the negative cleaned samples against the contig reference database. First build bowtie reference of the contigs."},"is_project":0},{"component_id":"148248","previous_id":"148247","original_id":"0","guid":"A2DC4F0594DD4F4287D4D7ED50BBA9F9","previous_guid":"F8D52DE16EA54D71B5CB732DEEB0ABE2","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148249","previous_id":"148248","original_id":"0","guid":"ECE5975233EC4A95B9A89BF81BAAA01F","previous_guid":"A2DC4F0594DD4F4287D4D7ED50BBA9F9","component_type_id":"15","data_id":"514","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/uniprot_contig_virome_trembl_rel_abund\nbowtie2-build -f .\/ray_contigs_from_total_cat_pairs\/Contigs_no_block_with_names.fasta .\/uniprot_contig_virome_trembl_rel_abund\/bowtie2_contig_build","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141484","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"22E180FB4C7D4F6EB4DCD6EAC3EEBDF9","previous_guid":"2BF0A5E12EDB445F85B227A8A60294B7","previous_id":"141483","last_modified":"1457537650","components":[{"component_id":"148250","previous_id":0,"original_id":"0","guid":"8B22D19C766D4158ADD951D43FF488B5","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Map the sequences to the contigs.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Map the sequences to the contigs."},"is_project":0},{"component_id":"148251","previous_id":"148250","original_id":"0","guid":"A207061E70D84B51A1422AAD9DFF6F61","previous_guid":"8B22D19C766D4158ADD951D43FF488B5","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148252","previous_id":"148251","original_id":"0","guid":"E7D538AA7AC8410DA9EB9B5F914D18AB","previous_guid":"A207061E70D84B51A1422AAD9DFF6F61","component_type_id":"15","data_id":"515","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/uniprot_contig_virome_trembl_rel_abund\/bowtie2_neg_cleaned_hits\nrun.bowtie2.against.contigs () {\n    bowtie2 -x .\/uniprot_contig_virome_trembl_rel_abund\/bowtie2_contig_build -f .\/negative_clean_seqs\/$1 -S .\/uniprot_contig_virome_trembl_rel_abund\/bowtie2_neg_cleaned_hits\/$1 -L 25 -N 1\n}\nexport -f run.bowtie2.against.contigs","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141485","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"1B75EBE371CD436CA064E7E350D143BC","previous_guid":"22E180FB4C7D4F6EB4DCD6EAC3EEBDF9","previous_id":"141484","last_modified":"1457537650","components":[{"component_id":"148253","previous_id":0,"original_id":"0","guid":"FFA670F6B9D547F6964041C85FF2E776","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Run as a subroutine because it can be run much quicker with multiple procs at a time.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Run as a subroutine because it can be run much quicker with multiple procs at a time."},"is_project":0},{"component_id":"148254","previous_id":"148253","original_id":"0","guid":"E2C1B9872D0C4C0A9558A460BDC6950E","previous_guid":"FFA670F6B9D547F6964041C85FF2E776","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148255","previous_id":"148254","original_id":"0","guid":"42ED1209ABD842538AE309EB6B232CC0","previous_guid":"E2C1B9872D0C4C0A9558A460BDC6950E","component_type_id":"15","data_id":"516","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"ls .\/negative_clean_seqs\/ | xargs -I {} --max-procs=128 bash run.bowtie2.against.contigs {}","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141486","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"A1D49537122D4D83B9228AC1576763C7","previous_guid":"1B75EBE371CD436CA064E7E350D143BC","previous_id":"141485","last_modified":"1457537650","components":[{"component_id":"148256","previous_id":0,"original_id":"0","guid":"8C19B739524F4989BFC68863E8A15559","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Rename the files to be .sam files.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Rename the files to be .sam files."},"is_project":0},{"component_id":"148257","previous_id":"148256","original_id":"0","guid":"4FCC6F6534C54E6EBDB5071368312CD4","previous_guid":"8C19B739524F4989BFC68863E8A15559","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148258","previous_id":"148257","original_id":"0","guid":"5C92D60518A44F8B9BF58A1E0684518F","previous_guid":"4FCC6F6534C54E6EBDB5071368312CD4","component_type_id":"15","data_id":"517","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for file in $(ls .\/uniprot_contig_virome_trembl_rel_abund\/bowtie2_neg_cleaned_hits); do\n    mv .\/uniprot_contig_virome_trembl_rel_abund\/bowtie2_neg_cleaned_hits\/\"${file}\" .\/uniprot_contig_virome_trembl_rel_abund\/bowtie2_neg_cleaned_hits\/\"${file\/%.fa\/.sam}\"\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141487","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"2367D92D9A284EA39A0F3016DF5AEB57","previous_guid":"A1D49537122D4D83B9228AC1576763C7","previous_id":"141486","last_modified":"1457537650","components":[{"component_id":"148259","previous_id":0,"original_id":"0","guid":"FE7BE43C7AE54D119F85334F7964A592","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Calculate the hit abundances from bowtie2 using bowtie2 estimation perl script.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Calculate the hit abundances from bowtie2 using bowtie2 estimation perl script."},"is_project":0},{"component_id":"148260","previous_id":"148259","original_id":"0","guid":"F0001BCFC6054D819DD5DE31FAD0E604","previous_guid":"FE7BE43C7AE54D119F85334F7964A592","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148262","previous_id":"148260","original_id":"0","guid":"028B91CE7C604AFB84666549B4330B68","previous_guid":"F0001BCFC6054D819DD5DE31FAD0E604","component_type_id":"26","data_id":"10225","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10225","thread_id":"10225","id":"10225","thread_title":"Annotation on step 38 of Script P4: Assigning Viral Taxonomy","uri":"annotation-on-step-38-of-script-p4-assigning-viral","thread_uri":"annotation-on-step-38-of-script-p4-assigning-viral","step_id":"141487","protocol_uri":"Script-P4-Assigning-Viral-Taxonomy-efqbbmw","protocol_name":"Script P4: Assigning Viral Taxonomy","protocol_name_html":"Script P4: Assigning Viral Taxonomy","annotation":"Perl script available at:\u00a0<br \/><a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248<\/a>","thread_text":"Perl script available at:\u00a0<br \/><a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248<\/a>","body":"Perl script available at:\u00a0<br \/><a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248<\/a>","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454447816","created_on":"1454447816","modified_on":"1457537650","last_updated":"1457537650","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"148261","previous_id":"148262","original_id":"0","guid":"E44E138B98094D4082F79C13EEC91C85","previous_guid":"028B91CE7C604AFB84666549B4330B68","component_type_id":"15","data_id":"518","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/uniprot_contig_virome_trembl_rel_abund\/abundance_from_sam\nfor file in $(ls .\/uniprot_contig_virome_trembl_rel_abund\/bowtie2_neg_cleaned_hits); do\n    perl calculate_abundance_from_sam.pl .\/uniprot_contig_virome_trembl_rel_abund\/bowtie2_neg_cleaned_hits\/${file} .\/uniprot_contig_virome_trembl_rel_abund\/abundance_from_sam\/${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141489","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"B8C9031EB0CC4339908E2F3883C8C004","previous_guid":"2367D92D9A284EA39A0F3016DF5AEB57","previous_id":"141487","last_modified":"1457537650","components":[{"component_id":"148267","previous_id":0,"original_id":"0","guid":"7764C1865A6949A793DC229C0CC38DA8","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Rename the sam files to text files.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Rename the sam files to text files."},"is_project":0},{"component_id":"148268","previous_id":"148267","original_id":"0","guid":"FA93D8E1DEB34E66A91EAF85A48F8080","previous_guid":"7764C1865A6949A793DC229C0CC38DA8","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148269","previous_id":"148268","original_id":"0","guid":"750D20A8D6FB4794810F662D69C865C9","previous_guid":"FA93D8E1DEB34E66A91EAF85A48F8080","component_type_id":"15","data_id":"519","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for file in $(ls .\/uniprot_contig_virome_trembl_rel_abund\/abundance_from_sam); do\n    mv .\/uniprot_contig_virome_trembl_rel_abund\/abundance_from_sam\/\"${file}\" .\/uniprot_contig_virome_trembl_rel_abund\/abundance_from_sam\/\"${file\/%.sam\/.txt}\"\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141490","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"7F8A777E636E4A4BA4B4A3A20A7B3D5F","previous_guid":"B8C9031EB0CC4339908E2F3883C8C004","previous_id":"141489","last_modified":"1457537650","components":[{"component_id":"148270","previous_id":0,"original_id":"0","guid":"8F7A28FCEFA14D9EB0730C29EC4B488F","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Add in contig length information using awk and calculate RPKM.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Add in contig length information using awk and calculate RPKM."},"is_project":0},{"component_id":"148271","previous_id":"148270","original_id":"0","guid":"2994692814F448F5A9B1656A0CE67A6D","previous_guid":"8F7A28FCEFA14D9EB0730C29EC4B488F","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148272","previous_id":"148271","original_id":"0","guid":"A6D6C892F7F84A78A24E88B26EBED71A","previous_guid":"2994692814F448F5A9B1656A0CE67A6D","component_type_id":"15","data_id":"520","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/uniprot_contig_virome_trembl_rel_abund\/abundance_with_length\nfor file in $(ls .\/uniprot_contig_virome_trembl_rel_abund\/abundance_from_sam); do\n    export SUM=$(awk '{ SUM += $2 } END { print SUM }' .\/uniprot_contig_virome_trembl_rel_abund\/abundance_from_sam\/${file})","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141491","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"FD129FAE40A2429885C3EA3F296EAB1A","previous_guid":"7F8A777E636E4A4BA4B4A3A20A7B3D5F","previous_id":"141490","last_modified":"1457537650","components":[{"component_id":"148273","previous_id":0,"original_id":"0","guid":"ABC7E5C3300042DDBF124076678F8FB2","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Add an echo of the sum value to confirm that the sum is being calculated (read it in STDOUT).","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Add an echo of the sum value to confirm that the sum is being calculated (read it in STDOUT)."},"is_project":0},{"component_id":"148274","previous_id":"148273","original_id":"0","guid":"CF34E738E3EF4BB4A57163641A099F71","previous_guid":"ABC7E5C3300042DDBF124076678F8FB2","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148275","previous_id":"148274","original_id":"0","guid":"5440C461BE8945948CCDD32380F4DB67","previous_guid":"CF34E738E3EF4BB4A57163641A099F71","component_type_id":"15","data_id":"521","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Sum is $SUM\n    awk --assign sum=$SUM 'FNR==NR { a[$1]=$2; next } $1 in a { print $1\"\\t\"$2\"\\t\"a[$1]\"\\t\"$2*1000000000\/(a[$1]*sum) }' .\/contig_stats\/contig_length_without_greater_sign.txt .\/uniprot_contig_virome_trembl_rel_abund\/abundance_from_sam\/${file} > .\/uniprot_contig_virome_trembl_rel_abund\/abundance_with_length\/${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141492","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"594889070F0D4B8995F2D1B92F05800A","previous_guid":"FD129FAE40A2429885C3EA3F296EAB1A","previous_id":"141491","last_modified":"1457537650","components":[{"component_id":"148276","previous_id":0,"original_id":"0","guid":"9711913FCEB44A39B1EAFEEF1EB298D4","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get columns of only the contig IDs and the normalized RPKM abundance counts and add sample name to top of column for when this is used in distance matrix calculations.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get columns of only the contig IDs and the normalized RPKM abundance counts and add sample name to top of column for when this is used in distance matrix calculations."},"is_project":0},{"component_id":"148277","previous_id":"148276","original_id":"0","guid":"BA4FC56E28164B688DAC286A3DD1975A","previous_guid":"9711913FCEB44A39B1EAFEEF1EB298D4","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148278","previous_id":"148277","original_id":"0","guid":"C46006E231C743988ADD35A9DAE6B2B5","previous_guid":"BA4FC56E28164B688DAC286A3DD1975A","component_type_id":"15","data_id":"522","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/uniprot_contig_virome_trembl_rel_abund\/abundance_RPKM_with_only_contig_id\nfor file in $(ls .\/uniprot_contig_virome_trembl_rel_abund\/abundance_with_length); do\n    NAME=$(echo ${file} | sed 's\/_R1\\.txt\/\/')\n    echo Name is $NAME\n    cut -f 1,4 .\/uniprot_contig_virome_trembl_rel_abund\/abundance_with_length\/${file} | sed \"1 s\/^\/Contig_ID\\t${NAME}\\n\/\" > .\/uniprot_contig_virome_trembl_rel_abund\/abundance_RPKM_with_only_contig_id\/${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141493","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"9C21C8808AC24B16AB52E8D0F7669D4E","previous_guid":"594889070F0D4B8995F2D1B92F05800A","previous_id":"141492","last_modified":"1457537650","components":[{"component_id":"148279","previous_id":0,"original_id":"0","guid":"48A1FADEF8F6476D90E33160D4563763","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Make master list of the contig numbers as a reference for merging the relative abundance matrix values.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Make master list of the contig numbers as a reference for merging the relative abundance matrix values."},"is_project":0},{"component_id":"148280","previous_id":"148279","original_id":"0","guid":"96944BB6F73B4900844B7BF8F369CDDB","previous_guid":"48A1FADEF8F6476D90E33160D4563763","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148281","previous_id":"148280","original_id":"0","guid":"65FB222397744C1E965DB4676615C3AD","previous_guid":"96944BB6F73B4900844B7BF8F369CDDB","component_type_id":"15","data_id":"523","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sed -n 1~2p .\/ray_contigs_from_total_cat_pairs\/Contigs_no_block_with_names.fasta | sed s'\/>\/\/g' | sed '1 s\/^\/Contig_ID\\n\/' > .\/ray_contigs_from_total_cat_pairs\/master_contig_list.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141494","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"684519B03603418E92C3F68CD80034F7","previous_guid":"9C21C8808AC24B16AB52E8D0F7669D4E","previous_id":"141493","last_modified":"1457537650","components":[{"component_id":"148282","previous_id":0,"original_id":"0","guid":"8328471E6DD04C8DB40D814665622F34","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Merge the sample hit files to the master contig list. After this runs, all of the resulting files should have the same number of lines because they were all merged with the same master list.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Merge the sample hit files to the master contig list. After this runs, all of the resulting files should have the same number of lines because they were all merged with the same master list."},"is_project":0},{"component_id":"148283","previous_id":"148282","original_id":"0","guid":"6532E61E5F844F42BCC0F55009B3AA7F","previous_guid":"8328471E6DD04C8DB40D814665622F34","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148284","previous_id":"148283","original_id":"0","guid":"8B96A226F4474FE29FF7C0C57D29C0D7","previous_guid":"6532E61E5F844F42BCC0F55009B3AA7F","component_type_id":"15","data_id":"524","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/uniprot_contig_virome_trembl_rel_abund\/RPKM_contig_count_on_master_list\nfor file in $(ls .\/uniprot_contig_virome_trembl_rel_abund\/abundance_RPKM_with_only_contig_id); do\n    awk 'FNR==NR {a[$1]=$2;next}{ print $1\"\\t\"a[$1] }' .\/uniprot_contig_virome_trembl_rel_abund\/abundance_RPKM_with_only_contig_id\/${file} .\/ray_contigs_from_total_cat_pairs\/master_contig_list.txt | sed '\/[0-9]\\t[0-9]\/!s\/$\/0\/' | sed '1 s\/\\t0\/\/' | sed '1 s\/0$\/\/' > .\/uniprot_contig_virome_trembl_rel_abund\/RPKM_contig_count_on_master_list\/${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141495","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"D75918408D884DF58A0F376F3464CCE2","previous_guid":"684519B03603418E92C3F68CD80034F7","previous_id":"141494","last_modified":"1457537650","components":[{"component_id":"148285","previous_id":0,"original_id":"0","guid":"30A38D0594064B8CAFD0A67D07CD935B","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get only the RPKM abundance values so that they can be merged to the master contig list and used for distance matrix calculations.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get only the RPKM abundance values so that they can be merged to the master contig list and used for distance matrix calculations."},"is_project":0},{"component_id":"148286","previous_id":"148285","original_id":"0","guid":"849706475BDD4D9AA56BB544462F0471","previous_guid":"30A38D0594064B8CAFD0A67D07CD935B","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148287","previous_id":"148286","original_id":"0","guid":"F22AD40FDE864FED867D9EC66A02B722","previous_guid":"849706475BDD4D9AA56BB544462F0471","component_type_id":"15","data_id":"525","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/uniprot_contig_virome_trembl_rel_abund\/abundance_RPKM_for_merge\nfor file in $(ls .\/uniprot_contig_virome_trembl_rel_abund\/RPKM_contig_count_on_master_list); do\n    cut -f 2 .\/uniprot_contig_virome_trembl_rel_abund\/RPKM_contig_count_on_master_list\/$file > .\/uniprot_contig_virome_trembl_rel_abund\/abundance_RPKM_for_merge\/${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141496","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"B4469412CDCA405EBEAB26516D0206E1","previous_guid":"D75918408D884DF58A0F376F3464CCE2","previous_id":"141495","last_modified":"1457537650","components":[{"component_id":"148288","previous_id":0,"original_id":"0","guid":"A4FC74147EDB49A1824A254D22ECD96A","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Merge the abundances with the contig names.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Merge the abundances with the contig names."},"is_project":0},{"component_id":"148289","previous_id":"148288","original_id":"0","guid":"93AE7C8F0D2F419CA810AD4D2D4A7F3B","previous_guid":"A4FC74147EDB49A1824A254D22ECD96A","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148290","previous_id":"148289","original_id":"0","guid":"7C8A1EE1B9C04D8288E1308489118A18","previous_guid":"93AE7C8F0D2F419CA810AD4D2D4A7F3B","component_type_id":"15","data_id":"526","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"paste .\/ray_contigs_from_total_cat_pairs\/master_contig_list.txt .\/uniprot_contig_virome_trembl_rel_abund\/abundance_RPKM_for_merge\/* > .\/uniprot_contig_virome_trembl_rel_abund\/contig_otu_table.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141497","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"A3F4D63C3B32474A8E382F1F3177CD78","previous_guid":"B4469412CDCA405EBEAB26516D0206E1","previous_id":"141496","last_modified":"1457537650","components":[{"component_id":"148291","previous_id":0,"original_id":"0","guid":"57826FD6DA10460B918E064AA6E7DA87","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Transpose the cat file.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Transpose the cat file."},"is_project":0},{"component_id":"148292","previous_id":"148291","original_id":"0","guid":"A99B10F8AA9B4EAF9B76779586DC6DBE","previous_guid":"57826FD6DA10460B918E064AA6E7DA87","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148293","previous_id":"148292","original_id":"0","guid":"C34B93E2EB52474682F73D4B5FA7232F","previous_guid":"A99B10F8AA9B4EAF9B76779586DC6DBE","component_type_id":"15","data_id":"527","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"python transpose_tab_delim.py -i .\/uniprot_contig_virome_trembl_rel_abund\/contig_otu_table.txt -o .\/uniprot_contig_virome_trembl_rel_abund\/contig_otu_table_transposed.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141498","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"A647C8E937244405B5BEB8FF371ABEB5","previous_guid":"A3F4D63C3B32474A8E382F1F3177CD78","previous_id":"141497","last_modified":"1457537650","components":[{"component_id":"148294","previous_id":0,"original_id":"0","guid":"1F52A93FF6FC4BFD89A3D7D7F3F4D8B1","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Remove underscores from the transposed files as this can interfere with downstream analyses.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Remove underscores from the transposed files as this can interfere with downstream analyses."},"is_project":0},{"component_id":"148295","previous_id":"148294","original_id":"0","guid":"3B2BB336F76348CB96EBE8596023AE38","previous_guid":"1F52A93FF6FC4BFD89A3D7D7F3F4D8B1","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148296","previous_id":"148295","original_id":"0","guid":"B2AA549763384B4F82EC98CD5981D23D","previous_guid":"3B2BB336F76348CB96EBE8596023AE38","component_type_id":"15","data_id":"528","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sed 's\/_\/\/g' .\/uniprot_contig_virome_trembl_rel_abund\/contig_otu_table_transposed.txt > .\/uniprot_contig_virome_trembl_rel_abund\/contig_otu_table_transposed_formatted.txt","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141500","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"4E5ADD0DC18F477CAA8970FE5212C1B3","previous_guid":"A647C8E937244405B5BEB8FF371ABEB5","previous_id":"141498","last_modified":"1457537650","components":[{"component_id":"148298","previous_id":0,"original_id":"0","guid":"A9E7849BB8714921B7C581EC473CE843","previous_guid":null,"component_type_id":"1","data_id":"0","data":"This data from the section above (Bray-curtis_virome_analysis\/contig_otu_table_transposed_formatted.txt) can be used in Script R3. As stated above, we can now use the relative abundance table to determine the taxonomic composition of our virome samples. This analysis is described below.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"This data from the section above (Bray-curtis_virome_analysis\/contig_otu_table_transposed_formatted.txt) can be used in Script R3. As stated above, we can now use the relative abundance table to determine the taxonomic composition of our virome samples. This analysis is described below."},"is_project":0},{"component_id":"148299","previous_id":"148298","original_id":"0","guid":"796E373B02124DD9A71D9C2E14D28DD5","previous_guid":"A9E7849BB8714921B7C581EC473CE843","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0}]},{"id":"141501","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"00D79139EDA04067A4582B1548D45EA6","previous_guid":"4E5ADD0DC18F477CAA8970FE5212C1B3","previous_id":"141500","last_modified":"1457537650","components":[{"component_id":"148300","previous_id":0,"original_id":"0","guid":"B9AB16702A0A4009B3A43A694DDAD49A","previous_guid":null,"component_type_id":"1","data_id":"0","data":"The above can be used for taxonomy reference independent diversity, but we will also want to look at virus taxonomy relative abundance.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"The above can be used for taxonomy reference independent diversity, but we will also want to look at virus taxonomy relative abundance."},"is_project":0},{"component_id":"148301","previous_id":"148300","original_id":"0","guid":"FBC1EE335D844A019386917ECE50C97C","previous_guid":"B9AB16702A0A4009B3A43A694DDAD49A","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0}]},{"id":"141502","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"3964790C7C104221A19AAD8FAAD14E57","previous_guid":"00D79139EDA04067A4582B1548D45EA6","previous_id":"141501","last_modified":"1457537650","components":[{"component_id":"148302","previous_id":0,"original_id":"0","guid":"94522A49C4554BC187E2E4F3C49F1C75","previous_guid":null,"component_type_id":"1","data_id":"0","data":"First make a master contig to ID reference table that includes the ID and the corresponding contig number.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"First make a master contig to ID reference table that includes the ID and the corresponding contig number."},"is_project":0},{"component_id":"148303","previous_id":"148302","original_id":"0","guid":"84EF6E6EDD9C47AEAEBA688DA8C05F6E","previous_guid":"94522A49C4554BC187E2E4F3C49F1C75","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148304","previous_id":"148303","original_id":"0","guid":"0DF67563B4D549C8809425F5726C066E","previous_guid":"84EF6E6EDD9C47AEAEBA688DA8C05F6E","component_type_id":"15","data_id":"529","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"awk 'FNR==NR {a[$1]=$2\"\\t\"$3\"\\t\"$4\"\\t\"$5\"\\t\"$6\"\\t\";next}{ print $1\"\\t\"a[$1] }' .\/uniprot_taxonomy_using_orfs\/virome_phage_blastx_formatted_for_taxa\/perl_taxonomy_results_underscore_blastx_trembl_glimmer_total_orfs.txt .\/ray_contigs_from_total_cat_pairs\/master_contig_list.txt | sed 's\/_\\t$\/_\\tNo_hit\\tNo_hit\\tNo_hit\\tNo_hit\\tNo_hit\/' > .\/uniprot_taxonomy_using_orfs\/contig_id_reference_table.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141503","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"8253C07A4B48459FB66CA00F0DB4EDDE","previous_guid":"3964790C7C104221A19AAD8FAAD14E57","previous_id":"141502","last_modified":"1457537650","components":[{"component_id":"148305","previous_id":0,"original_id":"0","guid":"785BB8590A28439F871AFAE3EF9B524B","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Make a directory for the taxonomy output.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Make a directory for the taxonomy output."},"is_project":0},{"component_id":"148306","previous_id":"148305","original_id":"0","guid":"00B98E6F586F45CB932598650D2CC862","previous_guid":"785BB8590A28439F871AFAE3EF9B524B","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148307","previous_id":"148306","original_id":"0","guid":"787B31646EC2493CA668FE13CA1B97D5","previous_guid":"00B98E6F586F45CB932598650D2CC862","component_type_id":"15","data_id":"530","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/uniprot_contig_virome_trembl_rel_abund\/trembl_order_rel_abund","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141504","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"69E5D728CFE940059C8C6F35C7BD57D3","previous_guid":"8253C07A4B48459FB66CA00F0DB4EDDE","previous_id":"141503","last_modified":"1457537650","components":[{"component_id":"148308","previous_id":0,"original_id":"0","guid":"528E485510744808B11125C8BD376FE9","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Calculate the relative abundance of the viral order.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Calculate the relative abundance of the viral order."},"is_project":0},{"component_id":"148309","previous_id":"148308","original_id":"0","guid":"792BC29D7949465892CD861C8810D8DB","previous_guid":"528E485510744808B11125C8BD376FE9","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148310","previous_id":"148309","original_id":"0","guid":"99AA922933B04A9B87EFF1358DED1CFF","previous_guid":"792BC29D7949465892CD861C8810D8DB","component_type_id":"15","data_id":"531","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for file in $(ls .\/uniprot_contig_virome_trembl_rel_abund\/RPKM_contig_count_on_master_list); do\n    NAME=$(echo ${file} | sed 's\/_R1\\.txt\/\/')\n    awk 'FNR==NR { a[$1]=$2; next } $1 in a { print $2\"\\t\"a[$1] }' .\/uniprot_contig_virome_trembl_rel_abund\/RPKM_contig_count_on_master_list\/${file} .\/uniprot_taxonomy_using_orfs\/contig_id_reference_table.tsv  | sed '1d' > .\/uniprot_contig_virome_trembl_rel_abund\/trembl_order_rel_abund\/raw_${file}\n    awk '{a[$1]+=$2}END{for(i in a) print i,a[i]}' .\/uniprot_contig_virome_trembl_rel_abund\/trembl_order_rel_abund\/raw_${file} | sed 's\/ \/\\t\/g' | sed \"s\/$\/\\t${NAME}\/\" > .\/uniprot_contig_virome_trembl_rel_abund\/trembl_order_rel_abund\/rel_abund_${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141505","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"DC71D670BF314B98B6A6F962E0BC7C3A","previous_guid":"69E5D728CFE940059C8C6F35C7BD57D3","previous_id":"141504","last_modified":"1457537650","components":[{"component_id":"148311","previous_id":0,"original_id":"0","guid":"089945F6C076424D96FF5384F8334DF9","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Calculate the relative abundance of the viral families.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Calculate the relative abundance of the viral families."},"is_project":0},{"component_id":"148312","previous_id":"148311","original_id":"0","guid":"BAAC87AAF7254C64B782A0D6876F889A","previous_guid":"089945F6C076424D96FF5384F8334DF9","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148313","previous_id":"148312","original_id":"0","guid":"81983453743D457B825703F04292FCA0","previous_guid":"BAAC87AAF7254C64B782A0D6876F889A","component_type_id":"15","data_id":"532","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/uniprot_contig_virome_trembl_rel_abund\/trembl_family_rel_abund\nfor file in $(ls .\/uniprot_contig_virome_trembl_rel_abund\/RPKM_contig_count_on_master_list); do\n    NAME=$(echo ${file} | sed 's\/_R1\\.txt\/\/')\n    awk 'FNR==NR { a[$1]=$2; next } $1 in a { print $3\"\\t\"a[$1] }' .\/uniprot_contig_virome_trembl_rel_abund\/RPKM_contig_count_on_master_list\/${file} .\/uniprot_taxonomy_using_orfs\/contig_id_reference_table.tsv  | sed '1d' > .\/uniprot_contig_virome_trembl_rel_abund\/trembl_family_rel_abund\/raw_${file}\n    awk '{a[$1]+=$2}END{for(i in a) print i,a[i]}' .\/uniprot_contig_virome_trembl_rel_abund\/trembl_family_rel_abund\/raw_${file} | sed 's\/ \/\\t\/g' | sed \"s\/$\/\\t${NAME}\/\" > .\/uniprot_contig_virome_trembl_rel_abund\/trembl_family_rel_abund\/rel_abund_${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141506","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"35E7A5360FD247FCB730A51A3B9C3B64","previous_guid":"DC71D670BF314B98B6A6F962E0BC7C3A","previous_id":"141505","last_modified":"1457537650","components":[{"component_id":"148314","previous_id":0,"original_id":"0","guid":"EE0C8D5DA14348FE8150F69294008ACF","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Calculate the relative abundance of the viral sub-families.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Calculate the relative abundance of the viral sub-families."},"is_project":0},{"component_id":"148315","previous_id":"148314","original_id":"0","guid":"99BEF667A51E4FCEA96D66F8897C3A54","previous_guid":"EE0C8D5DA14348FE8150F69294008ACF","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148316","previous_id":"148315","original_id":"0","guid":"ACEAAEB71B1F48DDBFB7F45BA1F7DEB9","previous_guid":"99BEF667A51E4FCEA96D66F8897C3A54","component_type_id":"15","data_id":"533","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/uniprot_contig_virome_trembl_rel_abund\/trembl_sub_family_rel_abund\nfor file in $(ls .\/uniprot_contig_virome_trembl_rel_abund\/RPKM_contig_count_on_master_list); do\n    NAME=$(echo ${file} | sed 's\/_R1\\.txt\/\/')\n    awk 'FNR==NR { a[$1]=$2; next } $1 in a { print $4\"\\t\"a[$1] }' .\/uniprot_contig_virome_trembl_rel_abund\/RPKM_contig_count_on_master_list\/${file} .\/uniprot_taxonomy_using_orfs\/contig_id_reference_table.tsv  | sed '1d' > .\/uniprot_contig_virome_trembl_rel_abund\/trembl_sub_family_rel_abund\/raw_${file}\n    awk '{a[$1]+=$2}END{for(i in a) print i,a[i]}' .\/uniprot_contig_virome_trembl_rel_abund\/trembl_sub_family_rel_abund\/raw_${file} | sed 's\/ \/\\t\/g' | sed \"s\/$\/\\t${NAME}\/\" > .\/uniprot_contig_virome_trembl_rel_abund\/trembl_sub_family_rel_abund\/rel_abund_${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141507","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"24FCDA36DD9744798A7DA29C3875F7C3","previous_guid":"35E7A5360FD247FCB730A51A3B9C3B64","previous_id":"141506","last_modified":"1457537650","components":[{"component_id":"148317","previous_id":0,"original_id":"0","guid":"D370EC2799164D888AE0CD215E8A66C3","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Calculate the relative abundance of the viral genera.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Calculate the relative abundance of the viral genera."},"is_project":0},{"component_id":"148318","previous_id":"148317","original_id":"0","guid":"E3CC84BA52C24F7DAF1B2D6825CAACCA","previous_guid":"D370EC2799164D888AE0CD215E8A66C3","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148319","previous_id":"148318","original_id":"0","guid":"8EFD6DDAC4804B2186BC01FCCCBAE841","previous_guid":"E3CC84BA52C24F7DAF1B2D6825CAACCA","component_type_id":"15","data_id":"534","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/uniprot_contig_virome_trembl_rel_abund\/trembl_genus_rel_abund\nfor file in $(ls .\/uniprot_contig_virome_trembl_rel_abund\/RPKM_contig_count_on_master_list); do\n    NAME=$(echo ${file} | sed 's\/_R1\\.txt\/\/')\n    awk 'FNR==NR { a[$1]=$2; next } $1 in a { print $5\"\\t\"a[$1] }' .\/uniprot_contig_virome_trembl_rel_abund\/RPKM_contig_count_on_master_list\/${file} .\/uniprot_taxonomy_using_orfs\/contig_id_reference_table.tsv  | sed '1d' > .\/uniprot_contig_virome_trembl_rel_abund\/trembl_genus_rel_abund\/raw_${file}\n    awk '{a[$1]+=$2}END{for(i in a) print i,a[i]}' .\/uniprot_contig_virome_trembl_rel_abund\/trembl_genus_rel_abund\/raw_${file} | sed 's\/ \/\\t\/g' | sed \"s\/$\/\\t${NAME}\/\" > .\/uniprot_contig_virome_trembl_rel_abund\/trembl_genus_rel_abund\/rel_abund_${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141508","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"85466677E60B4D3899D62BAA9FF749BC","previous_guid":"24FCDA36DD9744798A7DA29C3875F7C3","previous_id":"141507","last_modified":"1457537650","components":[{"component_id":"148320","previous_id":0,"original_id":"0","guid":"1956D59CEE354C528BC95EBE5DC0DE40","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Calculate the relative abundance of the viral species.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Calculate the relative abundance of the viral species."},"is_project":0},{"component_id":"148321","previous_id":"148320","original_id":"0","guid":"B9F8404645CB48C5A26C5B5C2CE82B52","previous_guid":"1956D59CEE354C528BC95EBE5DC0DE40","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148322","previous_id":"148321","original_id":"0","guid":"A5D486F870364CFF94877962D0AD20F0","previous_guid":"B9F8404645CB48C5A26C5B5C2CE82B52","component_type_id":"15","data_id":"535","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/uniprot_contig_virome_trembl_rel_abund\/trembl_species_rel_abund\nfor file in $(ls .\/uniprot_contig_virome_trembl_rel_abund\/RPKM_contig_count_on_master_list); do\n    NAME=$(echo ${file} | sed 's\/_R1\\.txt\/\/')\n    awk 'FNR==NR { a[$1]=$2; next } $1 in a { print $6\"\\t\"a[$1] }' .\/uniprot_contig_virome_trembl_rel_abund\/RPKM_contig_count_on_master_list\/${file} .\/uniprot_taxonomy_using_orfs\/contig_id_reference_table.tsv  | sed '1d' > .\/uniprot_contig_virome_trembl_rel_abund\/trembl_species_rel_abund\/raw_${file}\n    awk '{a[$1]+=$2}END{for(i in a) print i,a[i]}' .\/uniprot_contig_virome_trembl_rel_abund\/trembl_species_rel_abund\/raw_${file} | sed 's\/ \/\\t\/g' | sed \"s\/$\/\\t${NAME}\/\" > .\/uniprot_contig_virome_trembl_rel_abund\/trembl_species_rel_abund\/rel_abund_${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141509","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"673786011B274747A9CAFE0767ADEF50","previous_guid":"85466677E60B4D3899D62BAA9FF749BC","previous_id":"141508","last_modified":"1457537650","components":[{"component_id":"148323","previous_id":0,"original_id":"0","guid":"9532B4DE7E1A40E0A71185A548BC0964","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Cat together all of the sample files by taxonomic level.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Cat together all of the sample files by taxonomic level."},"is_project":0},{"component_id":"148324","previous_id":"148323","original_id":"0","guid":"DD59639BB2A04F298FFB79CABBE1B456","previous_guid":"9532B4DE7E1A40E0A71185A548BC0964","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148325","previous_id":"148324","original_id":"0","guid":"9231B8359E6244CB8F360C8879BE311E","previous_guid":"DD59639BB2A04F298FFB79CABBE1B456","component_type_id":"26","data_id":"10226","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"10226","thread_id":"10226","id":"10226","thread_title":"Annotation on step 58 of Script P4: Assigning Viral Taxonomy","uri":"annotation-on-step-58-of-script-p4-assigning-viral","thread_uri":"annotation-on-step-58-of-script-p4-assigning-viral","step_id":"141509","protocol_uri":"Script-P4-Assigning-Viral-Taxonomy-efqbbmw","protocol_name":"Script P4: Assigning Viral Taxonomy","protocol_name_html":"Script P4: Assigning Viral Taxonomy","annotation":"These files can be used for taxonomic analysis in R.","thread_text":"These files can be used for taxonomic analysis in R.","body":"These files can be used for taxonomic analysis in R.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1454448591","created_on":"1454448591","modified_on":"1457537650","last_updated":"1457537650","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","affiliation":"Merck Research Labs","username":"geoffrey-hannigan","email":"hanni035@d.umn.edu","pa_useranme":"geoffrey-hannigan","comments":[]},"is_project":0},{"component_id":"148326","previous_id":"148325","original_id":"0","guid":"A4F6719F3D1546099EA6E99E5BF3C1D3","previous_guid":"9231B8359E6244CB8F360C8879BE311E","component_type_id":"15","data_id":"536","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cat .\/uniprot_contig_virome_trembl_rel_abund\/trembl_order_rel_abund\/rel_abund_* > .\/uniprot_contig_virome_trembl_rel_abund\/order_rel_abund.tsv\ncat .\/uniprot_contig_virome_trembl_rel_abund\/trembl_family_rel_abund\/rel_abund_* > .\/uniprot_contig_virome_trembl_rel_abund\/family_rel_abund.tsv\ncat .\/uniprot_contig_virome_trembl_rel_abund\/trembl_sub_family_rel_abund\/rel_abund_* > .\/uniprot_contig_virome_trembl_rel_abund\/sub_family_rel_abund.tsv\ncat .\/uniprot_contig_virome_trembl_rel_abund\/trembl_genus_rel_abund\/rel_abund_* > .\/uniprot_contig_virome_trembl_rel_abund\/genus_rel_abund.tsv\ncat .\/uniprot_contig_virome_trembl_rel_abund\/trembl_species_rel_abund\/rel_abund_* > .\/uniprot_contig_virome_trembl_rel_abund\/species_rel_abund.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141510","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"6067219D8DB9419D83614107A250B035","previous_guid":"673786011B274747A9CAFE0767ADEF50","previous_id":"141509","last_modified":"1457537650","components":[{"component_id":"148327","previous_id":0,"original_id":"0","guid":"8B13A2D076474E83A7AA939BFEC3B39E","previous_guid":null,"component_type_id":"1","data_id":"0","data":"After the environmental background removal, we also wanted to use the program MEGAN to see what percent of our un-assebmled reads were unknown compared to the NCBI non-redundant database (meaning they had no hits to the database). The following outlines our BLAST approach.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"After the environmental background removal, we also wanted to use the program MEGAN to see what percent of our un-assebmled reads were unknown compared to the NCBI non-redundant database (meaning they had no hits to the database). The following outlines our BLAST approach."},"is_project":0},{"component_id":"148328","previous_id":"148327","original_id":"0","guid":"A41BAAC8CE574154BF775ED9739B078C","previous_guid":"8B13A2D076474E83A7AA939BFEC3B39E","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148329","previous_id":"148328","original_id":"0","guid":"DA00E4BA44FD44B9A062B087C98C32BF","previous_guid":"A41BAAC8CE574154BF775ED9739B078C","component_type_id":"15","data_id":"537","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Subsampling clean fasta files for MEGAN analysis...\nmkdir .\/neg_clean_seqs_blastn_for_MEGAN\nmkdir .\/neg_clean_subsample_blastn_for_MEGAN","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141511","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"110CE0CEEB9D45AFAA9D6D2E740A5E6F","previous_guid":"6067219D8DB9419D83614107A250B035","previous_id":"141510","last_modified":"1457537650","components":[{"component_id":"148330","previous_id":0,"original_id":"0","guid":"AFA3DC785F0441D08CE295A6653F5E6F","previous_guid":null,"component_type_id":"1","data_id":"0","data":"These need to be subsampled mainly for speed purposes, but also for normalization.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"These need to be subsampled mainly for speed purposes, but also for normalization."},"is_project":0},{"component_id":"148331","previous_id":"148330","original_id":"0","guid":"2D870E89291648A49A95D5FA4EB92143","previous_guid":"AFA3DC785F0441D08CE295A6653F5E6F","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148332","previous_id":"148331","original_id":"0","guid":"8EDC089962474DD9999C6ACEAC1CA49C","previous_guid":"2D870E89291648A49A95D5FA4EB92143","component_type_id":"15","data_id":"538","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for file in $(ls .\/negative_clean_seqs); do\n        seqtk sample .\/negative_clean_seqs\/$file 2500 > .\/neg_clean_subsample_blastn_for_MEGAN\/${file}\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141512","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"5628A3127941437E82287CB5522BF3B3","previous_guid":"110CE0CEEB9D45AFAA9D6D2E740A5E6F","previous_id":"141511","last_modified":"1457537650","components":[{"component_id":"148333","previous_id":0,"original_id":"0","guid":"FBD391B1DDA3495A94929898B9E56F20","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Rename the files.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Rename the files."},"is_project":0},{"component_id":"148334","previous_id":"148333","original_id":"0","guid":"67720EAE519340CFBECFF68E54A52120","previous_guid":"FBD391B1DDA3495A94929898B9E56F20","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0},{"component_id":"148335","previous_id":"148334","original_id":"0","guid":"263A6ED87DA943DC9C30CD2BF36DB1AF","previous_guid":"67720EAE519340CFBECFF68E54A52120","component_type_id":"15","data_id":"539","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"echo Renaming the clean files for MEGAN...\nfor i in $(ls .\/neg_clean_subsample_blastn_for_MEGAN); do\n        mv .\/neg_clean_subsample_blastn_for_MEGAN\/\"${i}\" .\/neg_clean_subsample_blastn_for_MEGAN\/\"${i\/%.*\/.fa}\"\ndone\necho BlastNing clean subsampled files for MEGAN analysis...\nrun.blast.parallel.clean.for.MEGAN () {\n    blastn -query .\/neg_clean_subsample_blastn_for_MEGAN\/${1} -out .\/neg_clean_seqs_blastn_for_MEGAN\/${1} -db .\/references\/ncbi\/nt -outfmt 5 -num_threads 2 -evalue 1e-3\n}\nexport -f run.blast.parallel.clean.for.MEGAN\nls .\/neg_clean_subsample_blastn_for_MEGAN\/ | xargs -I {} --max-procs=128 sh -c 'run.blast.parallel.clean.for.MEGAN'\nwait\necho Renaming blastn output for MEGAN...\nfor i in $(ls .\/neg_clean_seqs_blastn_for_MEGAN); do\n        mv .\/neg_clean_seqs_blastn_for_MEGAN\/\"${i}\" .\/neg_clean_seqs_blastn_for_MEGAN\/\"${i\/%.fa\/.xml}\"\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141513","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"53C9F41F03BF4339ABC2D4CD42547395","previous_guid":"5628A3127941437E82287CB5522BF3B3","previous_id":"141512","last_modified":"1457537650","components":[{"component_id":"148336","previous_id":0,"original_id":"0","guid":"FE84BBA220284BC189FC3BA3C661A8D0","previous_guid":null,"component_type_id":"1","data_id":"0","data":"From here we used the MEGAN GUI to determine the ration of unknown reads. It is important to note that we manually only chose all of the samples except the backgroup control samples.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"From here we used the MEGAN GUI to determine the ration of unknown reads. It is important to note that we manually only chose all of the samples except the backgroup control samples."},"is_project":0},{"component_id":"148337","previous_id":"148336","original_id":"0","guid":"CD32ACFC0FBA4646A04C35EAB5FB751F","previous_guid":"FE84BBA220284BC189FC3BA3C661A8D0","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0}]},{"id":"141514","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"14E8C5E4C22143EC91FC947112F5BA56","previous_guid":"53C9F41F03BF4339ABC2D4CD42547395","previous_id":"141513","last_modified":"1457537650","components":[{"component_id":"148338","previous_id":0,"original_id":"0","guid":"90F3AC25840840FDBFF9C9A08341E87E","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Data was imported using the 'Import From Blast' option. The unknown read counts were taken from the following categories: Not Assigned, No Hits, Low Complexity.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Data was imported using the 'Import From Blast' option. The unknown read counts were taken from the following categories: Not Assigned, No Hits, Low Complexity."},"is_project":0},{"component_id":"148339","previous_id":"148338","original_id":"0","guid":"55A4DB8BC7DB4EB9819B9680509A76C3","previous_guid":"90F3AC25840840FDBFF9C9A08341E87E","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0}]},{"id":"141515","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"01E764D69761440D89A9F566F6FE812F","previous_guid":"14E8C5E4C22143EC91FC947112F5BA56","previous_id":"141514","last_modified":"1457537650","components":[{"component_id":"148340","previous_id":0,"original_id":"0","guid":"BAC813AD210C4043A3202271A2054D8B","previous_guid":null,"component_type_id":"1","data_id":"0","data":"This is the only time we used MEGAN for virome analysis. In order to calculate unknown reads for the Whole Metagenome samples, we performed a similar analysis, blasting the decontaminated, trimmed reads subsampled at 2500 against the nt database with an e-value of 1e-3 and importing the blast files into MEGAN.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"This is the only time we used MEGAN for virome analysis. In order to calculate unknown reads for the Whole Metagenome samples, we performed a similar analysis, blasting the decontaminated, trimmed reads subsampled at 2500 against the nt database with an e-value of 1e-3 and importing the blast files into MEGAN."},"is_project":0},{"component_id":"148341","previous_id":"148340","original_id":"0","guid":"37E759787B4C470E8EA659FF9F4F0C19","previous_guid":"BAC813AD210C4043A3202271A2054D8B","component_type_id":"6","data_id":"0","data":"Analysis","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Analysis"},"is_project":0}]}]}