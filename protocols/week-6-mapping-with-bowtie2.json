{"uri":"week-6-mapping-with-bowtie2-g5zby76","version_id":"1","protocol_name":"Week 6: Mapping with Bowtie2","protocol_name_html":"Week 6: Mapping with Bowtie2","is_prepublished":"0","can_edit":"0","parent_id":"4944","api_version":"2","is_new_mode":"1","last_modified":"1522131061","type_id":"1","link":"","fork_id":"","public_fork_note":null,"number_of_steps":"25","has_versions":"1","first_published_date":"1493935378","publish_date":"2017-05-04 22:02:58","documents":null,"have_protocol_in_step":"0","is_protocol_in_step":"0","vendor_name":"Contributed by users","vendor_link":"https:\/\/www.protocols.io","vendor_logo":"\/img\/vendors\/1.png","mod_mins":"-45","mod_secs":"1","description":"","is_bookmarked":"0","can_reassign":"1","before_start":"","has_guidelines":"0","materials":[],"warning":"","version_class":"4944","public":"1","is_owner":"1","is_original_owner":"1","created_on":"1486505588","protocol_affiliation":"","affiliation":null,"doi":"dx.doi.org\/10.17504\/protocols.io.g5zby76","doi_status":"2","changed_fork_steps":null,"profile_url":"w2237433u2","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","profile_image":"\/img\/avatars\/004.png","full_name":"Rika Anderson","created_by":"Rika Anderson","private_link":"983A42B5917666E054EAB854316E3651","original_img":"1","username":"rika-anderson","is_retracted":"0","retraction_reason":null,"plos_id":null,"manuscript_citation":null,"journal_name":null,"is_donations_disabled":"0","is_donations_disabled_by_user":"9","item_record_id":233557,"fork_info":[],"compare_forks":[],"protocols":[],"groups":[],"number_of_shared_runs":[],"ownership_history":[],"keywords":"","transfer_to_user":[],"sub_transfer":false,"is_transfer_pending":false,"number_of_bookmarks":"2","collections":[{"protocol_name":"Genomics and Bioinformatics Carleton 2017","protocol_name_html":"Genomics and Bioinformatics Carleton 2017","uri":"genomics-and-bioinformatics-carleton-2017-hudb6s6","username":"rika-anderson","profile_image":"\/img\/avatars\/004.png","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","full_name":"Rika Anderson"}],"tags":[],"archived":0,"sub_authors":[],"sub_protocols_number":0,"can_edit_shared":0,"shared_runs":[],"is_shared_run":0,"is_shared":1,"banner":null,"contact_badges":[{"badge_id":"3","badge_image":"\/img\/badges\/silver.svg","badge_description":"Power author!"},{"badge_id":"5","badge_image":"\/img\/badges\/earlyadopter.svg","badge_description":"Early adopter"}],"number_of_comments":0,"is_locked":0,"is_locked_by":false,"authors":"","authors_list":[],"user":{"profile_image":"\/img\/avatars\/004.png","username":"rika-anderson","full_name":"Rika Anderson","created_by":"Rika Anderson"},"access":{"can_view":"1","can_remove":"0","can_add":"0","can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":"0","can_move":"1","can_transfer":"1","can_download":"1","is_locked":"0"},"is_contact_suspended":0,"guidelines":"","status_id":"1","is_research":"1","status_info":null,"steps":[{"id":"313515","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"1EAE015DA9594201B2BB394B70BD6265","previous_guid":null,"previous_id":"0","last_modified":"1502719051","components":[{"component_id":"990365","previous_id":0,"original_id":"0","guid":"A6B6C8F5D3BA47BEB22888A3C088A80A","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"462887","previous_id":"990365","original_id":"0","guid":"64FDCFEC2DD647DDB15DAF1B53AF6F04","previous_guid":"A6B6C8F5D3BA47BEB22888A3C088A80A","component_type_id":"1","data_id":"0","data":"<p>Boot your computer as a Mac and use the Terminal to ssh in to Liverpool.<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Boot your computer as a Mac and use the Terminal to ssh in to Liverpool.<\/p>"},"is_project":0}]},{"id":"313516","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"ED82039F50974F28A683E5A6D42062E0","previous_guid":"1EAE015DA9594201B2BB394B70BD6265","previous_id":"313515","last_modified":"1486505589","components":[{"component_id":"462888","previous_id":0,"original_id":"0","guid":"B8CD399DD5A549439EC67DD77BEF59EF","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>We're going to start by mapping the sequencing\u00a0reads from a genome sequence of a type of archaeon (<em>Sulfolobus acidocaldarius<\/em>-- you've seen it before) against a scaffold from a very closely related species.\u00a0<\/p>\n<p>\u00a0<\/p>\n<p>The sequencing reads from from one strain of <em>Sulfolobus acidocaldarius<\/em>, and the reference sequence that they are mapping to is from a very closely related strain of <em>Sulfolobus acidocaldarius<\/em>.<\/p>\n<p>\u00a0<\/p>\n<p>Make a new directory called \u201cmapping,\u201d then change into that directory.<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>We're going to start by mapping the sequencing\u00a0reads from a genome sequence of a type of archaeon (<em>Sulfolobus acidocaldarius<\/em>-- you've seen it before) against a scaffold from a very closely related species.\u00a0<\/p>\n<p>\u00a0<\/p>\n<p>The sequencing reads from from one strain of <em>Sulfolobus acidocaldarius<\/em>, and the reference sequence that they are mapping to is from a very closely related strain of <em>Sulfolobus acidocaldarius<\/em>.<\/p>\n<p>\u00a0<\/p>\n<p>Make a new directory called \u201cmapping,\u201d then change into that directory.<\/p>"},"is_project":0},{"component_id":"462889","previous_id":"462888","original_id":"0","guid":"52942E1F0F3D4C30AB13B389C232531C","previous_guid":"B8CD399DD5A549439EC67DD77BEF59EF","component_type_id":"6","data_id":"0","data":"Mapping with a toy dataset","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping with a toy dataset"},"is_project":0},{"component_id":"462890","previous_id":"462889","original_id":"0","guid":"B5F103627B2943A28508A20CF6FB3783","previous_guid":"52942E1F0F3D4C30AB13B389C232531C","component_type_id":"15","data_id":"1578","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir mapping\ncd mapping","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"313517","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"BFA4494190D04234AEFD5BFD72DE7DBB","previous_guid":"ED82039F50974F28A683E5A6D42062E0","previous_id":"313516","last_modified":"1486505589","components":[{"component_id":"462891","previous_id":0,"original_id":"0","guid":"C60572FC1A384A8A90F425145F174A44","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Copy this week's toy datasets into your directory. You're going to copy:<\/p>\n<ul>\n<li>the reference sequence (toy_dataset_contig_for_mapping.fasta)<\/li>\n<li>the reads that you will map to the reference (toy_dataset_reads_for_mapping.fasta)<\/li>\n<\/ul>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Copy this week's toy datasets into your directory. You're going to copy:<\/p>\n<ul>\n<li>the reference sequence (toy_dataset_contig_for_mapping.fasta)<\/li>\n<li>the reads that you will map to the reference (toy_dataset_reads_for_mapping.fasta)<\/li>\n<\/ul>"},"is_project":0},{"component_id":"462892","previous_id":"462891","original_id":"0","guid":"15139AF300424127947E0385F12167C9","previous_guid":"C60572FC1A384A8A90F425145F174A44","component_type_id":"6","data_id":"0","data":"Mapping with a toy dataset","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping with a toy dataset"},"is_project":0},{"component_id":"462893","previous_id":"462892","original_id":"0","guid":"F06157FB294B4609AEA87540A4290077","previous_guid":"15139AF300424127947E0385F12167C9","component_type_id":"15","data_id":"1579","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cp \/usr\/local\/data\/toy_dataset_reads_for_mapping.fasta .\ncp \/usr\/local\/data\/toy_dataset_contig_for_mapping.fasta .","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"313518","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"2DEA1975B1BA4D8D8D07D024599E08D7","previous_guid":"BFA4494190D04234AEFD5BFD72DE7DBB","previous_id":"313517","last_modified":"1486505589","components":[{"component_id":"462894","previous_id":0,"original_id":"0","guid":"CA83BBEAE59449BF9BC0D1D8684E9BDD","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>The first thing you have to do is prepare an index of your reference dataset so that the mapping software can map to it.<\/p>\n<ul>\n<li>bowtie2-build is the program that indexes your reference.<\/li>\n<li>The first argument gives the reference dataset name.<\/li>\n<li>The second argument provides the name you want to give to the index.<\/li>\n<\/ul>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>The first thing you have to do is prepare an index of your reference dataset so that the mapping software can map to it.<\/p>\n<ul>\n<li>bowtie2-build is the program that indexes your reference.<\/li>\n<li>The first argument gives the reference dataset name.<\/li>\n<li>The second argument provides the name you want to give to the index.<\/li>\n<\/ul>"},"is_project":0},{"component_id":"462895","previous_id":"462894","original_id":"0","guid":"8780FB3D395546B7A581C79829F72A63","previous_guid":"CA83BBEAE59449BF9BC0D1D8684E9BDD","component_type_id":"6","data_id":"0","data":"Mapping with a toy dataset","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping with a toy dataset"},"is_project":0},{"component_id":"462896","previous_id":"462895","original_id":"0","guid":"99019021DD8C4D9084D6997FB08CB5BF","previous_guid":"8780FB3D395546B7A581C79829F72A63","component_type_id":"15","data_id":"1580","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"bowtie2-build toy_dataset_contig_for_mapping.fasta toy_dataset_contig_for_mapping.btindex","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"313519","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"1FDE30219A1D420E9A8705356DB28418","previous_guid":"2DEA1975B1BA4D8D8D07D024599E08D7","previous_id":"313518","last_modified":"1486505589","components":[{"component_id":"462897","previous_id":0,"original_id":"0","guid":"FF85ADFBFCB048169F689589DA85E3D9","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Now, map! First you make what is called a SAM file. It's a human-readable version of a BAM file, which we learned about previously in class.<\/p>\n<ul>\n<li>Bowtie2 is the name of the mapping program.<\/li>\n<li>\u201c-x\u201d is the flag that provides the name of the index you just made.<\/li>\n<li>\u201c-f\u201d means that the reads you are mapping are in fasta, not fastq, format.<\/li>\n<li>\u201c-U\u201d means that the reads are not paired.<\/li>\n<li>\u201c-S\u201d provides the name of your output file, which is in SAM format.<\/li>\n<\/ul>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Now, map! First you make what is called a SAM file. It's a human-readable version of a BAM file, which we learned about previously in class.<\/p>\n<ul>\n<li>Bowtie2 is the name of the mapping program.<\/li>\n<li>\u201c-x\u201d is the flag that provides the name of the index you just made.<\/li>\n<li>\u201c-f\u201d means that the reads you are mapping are in fasta, not fastq, format.<\/li>\n<li>\u201c-U\u201d means that the reads are not paired.<\/li>\n<li>\u201c-S\u201d provides the name of your output file, which is in SAM format.<\/li>\n<\/ul>"},"is_project":0},{"component_id":"462898","previous_id":"462897","original_id":"0","guid":"29DA1CAEF40A4E07A2D1E091AC3B94A4","previous_guid":"FF85ADFBFCB048169F689589DA85E3D9","component_type_id":"6","data_id":"0","data":"Mapping with a toy dataset","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping with a toy dataset"},"is_project":0},{"component_id":"462899","previous_id":"462898","original_id":"0","guid":"3089EB65FECA4E6D9F43D640B476ECFA","previous_guid":"29DA1CAEF40A4E07A2D1E091AC3B94A4","component_type_id":"15","data_id":"1581","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"bowtie2 -x toy_dataset_contig_for_mapping.btindex -f -U toy_dataset_reads_for_mapping.fasta -S toy_dataset_mapped_species1.sam","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"313520","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"D6911E72B7194F2BB759577F67FA09BE","previous_guid":"1FDE30219A1D420E9A8705356DB28418","previous_id":"313519","last_modified":"1486505589","components":[{"component_id":"462900","previous_id":0,"original_id":"0","guid":"99502104B3864E5BBF5589FA52B605EF","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>If you look at the output file with less, you can see that it is human-readable (sort of). This can sometimes be useful if you want to parse it yourself with your own scripts-- but there's a whole suite of tools in a package called <em>samtools<\/em> that we'll rely on to do that next.<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>If you look at the output file with less, you can see that it is human-readable (sort of). This can sometimes be useful if you want to parse it yourself with your own scripts-- but there's a whole suite of tools in a package called <em>samtools<\/em> that we'll rely on to do that next.<\/p>"},"is_project":0},{"component_id":"462901","previous_id":"462900","original_id":"0","guid":"AFB74779DB9B4384B3F5256C4A697880","previous_guid":"99502104B3864E5BBF5589FA52B605EF","component_type_id":"6","data_id":"0","data":"Mapping with a toy dataset","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping with a toy dataset"},"is_project":0},{"component_id":"462902","previous_id":"462901","original_id":"0","guid":"930E8AA055154B4C915CEEBC3505F54A","previous_guid":"AFB74779DB9B4384B3F5256C4A697880","component_type_id":"15","data_id":"1582","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"less toy_dataset_mapped_species1.sam","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"313521","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"BCDD84C4B59447B3A3D2F215C23B4F7D","previous_guid":"D6911E72B7194F2BB759577F67FA09BE","previous_id":"313520","last_modified":"1486505589","components":[{"component_id":"462903","previous_id":0,"original_id":"0","guid":"90117404B1CB44F09AD0242839CF65CC","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Now you will use a package called samtools to convert the SAM\u00a0file into a non-human-readable BAM\u00a0file. You've heard of BAM files before-- now you get to make one.<\/p>\n<ul>\n<li>samtools is a package used to manipulate and work with mapping files. samtools view is one program within the whole samtools package.<\/li>\n<li>The flag \u201c-bS\u201d is not BS. It means convert a bam file to a sam file. (Bioinformatics jokes = not very funny.)<\/li>\n<\/ul>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Now you will use a package called samtools to convert the SAM\u00a0file into a non-human-readable BAM\u00a0file. You've heard of BAM files before-- now you get to make one.<\/p>\n<ul>\n<li>samtools is a package used to manipulate and work with mapping files. samtools view is one program within the whole samtools package.<\/li>\n<li>The flag \u201c-bS\u201d is not BS. It means convert a bam file to a sam file. (Bioinformatics jokes = not very funny.)<\/li>\n<\/ul>"},"is_project":0},{"component_id":"462904","previous_id":"462903","original_id":"0","guid":"884AED47C88C4CA984614826521F7F40","previous_guid":"90117404B1CB44F09AD0242839CF65CC","component_type_id":"6","data_id":"0","data":"Mapping with a toy dataset","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping with a toy dataset"},"is_project":0},{"component_id":"462905","previous_id":"462904","original_id":"0","guid":"7F6FC28270044A62818892FA45586082","previous_guid":"884AED47C88C4CA984614826521F7F40","component_type_id":"15","data_id":"1583","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"samtools view -bS toy_dataset_mapped_species1.sam > toy_dataset_mapped_species1.bam","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"313522","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"E93AE895A0D444C6B095ED4799469C51","previous_guid":"BCDD84C4B59447B3A3D2F215C23B4F7D","previous_id":"313521","last_modified":"1486505589","components":[{"component_id":"462906","previous_id":0,"original_id":"0","guid":"DF2B9CF92FAA47EDAA27A1949B7835C5","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>And because this is so fun, we get to do some more bookkeeping. Sort your bam file so that later programs have an easier time parsing it:<\/p>\n<ul>\n<li>\u201csamtools sort\u201d is the name of the program used for sorting<\/li>\n<li>The first argument provides the name of the bam file you want to sort<\/li>\n<li>The \u201c-o\u201d flag gives the name of the output file you want.<\/li>\n<\/ul>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>And because this is so fun, we get to do some more bookkeeping. Sort your bam file so that later programs have an easier time parsing it:<\/p>\n<ul>\n<li>\u201csamtools sort\u201d is the name of the program used for sorting<\/li>\n<li>The first argument provides the name of the bam file you want to sort<\/li>\n<li>The \u201c-o\u201d flag gives the name of the output file you want.<\/li>\n<\/ul>"},"is_project":0},{"component_id":"462907","previous_id":"462906","original_id":"0","guid":"D9AB865ECFC44FF5BC6C748FD98C9897","previous_guid":"DF2B9CF92FAA47EDAA27A1949B7835C5","component_type_id":"6","data_id":"0","data":"Mapping with a toy dataset","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping with a toy dataset"},"is_project":0},{"component_id":"462908","previous_id":"462907","original_id":"0","guid":"BDA474B2A6A54368874825FF4E7DA30C","previous_guid":"D9AB865ECFC44FF5BC6C748FD98C9897","component_type_id":"15","data_id":"1584","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"samtools sort toy_dataset_mapped_species1.bam -o toy_dataset_mapped_species1_sorted.bam","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"313523","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"6925BF738FFF48F08BCDCBAB7874B1E1","previous_guid":"E93AE895A0D444C6B095ED4799469C51","previous_id":"313522","last_modified":"1486505589","components":[{"component_id":"462909","previous_id":0,"original_id":"0","guid":"3E9E9CEEE3E243EAAC88B7B59BA8AF67","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>In order to visualize your mapping, you have to index your reference genome. Yes, again. This time with samtools instead of bowtie2.<\/p>\n<ul>\n<li>Samtools faidx is the name of the program that indexes the reference.<\/li>\n<li>The first argument provides the name of the index, which should be your reference\u00a0file.<\/li>\n<\/ul>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>In order to visualize your mapping, you have to index your reference genome. Yes, again. This time with samtools instead of bowtie2.<\/p>\n<ul>\n<li>Samtools faidx is the name of the program that indexes the reference.<\/li>\n<li>The first argument provides the name of the index, which should be your reference\u00a0file.<\/li>\n<\/ul>"},"is_project":0},{"component_id":"462910","previous_id":"462909","original_id":"0","guid":"53A9606AC5374769912D0289BB33DD45","previous_guid":"3E9E9CEEE3E243EAAC88B7B59BA8AF67","component_type_id":"6","data_id":"0","data":"Mapping with a toy dataset","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping with a toy dataset"},"is_project":0},{"component_id":"462911","previous_id":"462910","original_id":"0","guid":"20382001F17A43A6A4D6B5D0BBD9AD3E","previous_guid":"53A9606AC5374769912D0289BB33DD45","component_type_id":"15","data_id":"1585","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"samtools faidx toy_dataset_contig_for_mapping.fasta","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"313524","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"1A14643CBBDE45B6A80C27C78282EEBE","previous_guid":"6925BF738FFF48F08BCDCBAB7874B1E1","previous_id":"313523","last_modified":"1486505589","components":[{"component_id":"462912","previous_id":0,"original_id":"0","guid":"24D4DD29BD494CFA9EA19F42016D27A3","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Almost there! Now you index the bam file that you just made:<\/p>\n<ul>\n<li>Samtools index is the name of the program that indexes the bam files.<\/li>\n<li>The first argument provides the name of a sorted bam file.<\/li>\n<\/ul>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Almost there! Now you index the bam file that you just made:<\/p>\n<ul>\n<li>Samtools index is the name of the program that indexes the bam files.<\/li>\n<li>The first argument provides the name of a sorted bam file.<\/li>\n<\/ul>"},"is_project":0},{"component_id":"462913","previous_id":"462912","original_id":"0","guid":"7271C79ABB444E899FB731C02A81AEA9","previous_guid":"24D4DD29BD494CFA9EA19F42016D27A3","component_type_id":"6","data_id":"0","data":"Mapping with a toy dataset","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping with a toy dataset"},"is_project":0},{"component_id":"462914","previous_id":"462913","original_id":"0","guid":"0B2D86FD37C0482E9E22204D66BACFF3","previous_guid":"7271C79ABB444E899FB731C02A81AEA9","component_type_id":"15","data_id":"1586","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"samtools index toy_dataset_mapped_species1_sorted.bam","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"313525","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"49986494787640068F7753E59D903290","previous_guid":"1A14643CBBDE45B6A80C27C78282EEBE","previous_id":"313524","last_modified":"1486505589","components":[{"component_id":"462915","previous_id":0,"original_id":"0","guid":"A59937E0058C4A7CBD3BDB43124AF1C6","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Now we're going to visualize this. Copy the entire \"mapping\" folder over to your local computer\u00a0using\u00a0either FileZilla or scp.<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Now we're going to visualize this. Copy the entire \"mapping\" folder over to your local computer\u00a0using\u00a0either FileZilla or scp.<\/p>"},"is_project":0},{"component_id":"462916","previous_id":"462915","original_id":"0","guid":"12696F0E3B3D499B95326B2BF4236A12","previous_guid":"A59937E0058C4A7CBD3BDB43124AF1C6","component_type_id":"6","data_id":"0","data":"Mapping with a toy dataset","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping with a toy dataset"},"is_project":0},{"component_id":"462917","previous_id":"462916","original_id":"0","guid":"BA1296A4766C4B5D8D7EA74EC8096D81","previous_guid":"12696F0E3B3D499B95326B2BF4236A12","component_type_id":"15","data_id":"1587","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"scp -r [your username]@liverpool.its.carleton.edu:\/Accounts\/[your username]\/toy_dataset_directory\/mapping\/ ~\/Desktop","description":"Remember, if you use scp, you should open a new Terminal window that is NOT logged in to liverpool. The above command copies the folder at toy_dataset_directory\/mapping to your local computer's Desktop.","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"313526","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"94FBBD07C5774078A909EBEB724D1CAB","previous_guid":"49986494787640068F7753E59D903290","previous_id":"313525","last_modified":"1495033618","components":[{"component_id":"462918","previous_id":0,"original_id":"0","guid":"C27369319E94450FA6482834821307A7","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Find the IGV Viewer and open it. Click 'Genomes' --&gt; 'Load Genome from File' and find your reference file. Then click 'File' --&gt; 'Load from File' and open your sorted bam file. You should be able to visualize the mapping. Along the top, you'll see the coordinates of your reference sequence. Below that, you'll see a graph showing the coverage of each base pair along your reference sequence. Below that, you'll see each read mapped to each position. The arrows indicate the direction of the read; white reads are reads that mapped to two different locations in your reference. Single nucleotide variants in the reads are marked with colored letters; insertions are marked with a purple bracket, and deletions are marked with a horizontal black line. More information can be found at the link below.<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Find the IGV Viewer and open it. Click 'Genomes' --&gt; 'Load Genome from File' and find your reference file. Then click 'File' --&gt; 'Load from File' and open your sorted bam file. You should be able to visualize the mapping. Along the top, you'll see the coordinates of your reference sequence. Below that, you'll see a graph showing the coverage of each base pair along your reference sequence. Below that, you'll see each read mapped to each position. The arrows indicate the direction of the read; white reads are reads that mapped to two different locations in your reference. Single nucleotide variants in the reads are marked with colored letters; insertions are marked with a purple bracket, and deletions are marked with a horizontal black line. More information can be found at the link below.<\/p>"},"is_project":0},{"component_id":"462919","previous_id":"462918","original_id":"0","guid":"8D1395FFDF7E429E8760433C6D27C62F","previous_guid":"C27369319E94450FA6482834821307A7","component_type_id":"6","data_id":"0","data":"Mapping with a toy dataset","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping with a toy dataset"},"is_project":0},{"component_id":"462920","previous_id":"462919","original_id":"0","guid":"154782081EEC42678E3302BD6BD655A5","previous_guid":"8D1395FFDF7E429E8760433C6D27C62F","component_type_id":"7","data_id":"9","data":"http:\/\/software.broadinstitute.org\/software\/igv\/AlignmentData","order_id":"2","name":"External Link","data_by_id":"1","type_id":"7","source_data":{"link":"http:\/\/software.broadinstitute.org\/software\/igv\/AlignmentData"},"is_project":0}]},{"id":"313527","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"25A7D62B508A4293A796F529AEC4C61B","previous_guid":"94FBBD07C5774078A909EBEB724D1CAB","previous_id":"313526","last_modified":"1486505589","components":[{"component_id":"462921","previous_id":0,"original_id":"0","guid":"D08EB3E6738B43A0926188D53477BC7F","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>We're going to compare and contrast this mapping with another one.\u00a0Now we're use the sequencing reads from a third very closely related strain of <em>Sulfolobus acidocaldarius<\/em>, and we're going to map those reads to the original reference sequence.<\/p>\n<p>\u00a0<\/p>\n<p>First, copy the second file to your directory (see below). Then, we will map these reads\u00a0to the same reference file you used above, and then we will compare the mapping. You have already indexed the reference file, so you only need to repeat the steps that index the reads, and then map. All of those commands are listed below.<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>We're going to compare and contrast this mapping with another one.\u00a0Now we're use the sequencing reads from a third very closely related strain of <em>Sulfolobus acidocaldarius<\/em>, and we're going to map those reads to the original reference sequence.<\/p>\n<p>\u00a0<\/p>\n<p>First, copy the second file to your directory (see below). Then, we will map these reads\u00a0to the same reference file you used above, and then we will compare the mapping. You have already indexed the reference file, so you only need to repeat the steps that index the reads, and then map. All of those commands are listed below.<\/p>"},"is_project":0},{"component_id":"462922","previous_id":"462921","original_id":"0","guid":"C9CEAED5ABF84EBDBFF8EB1C1995B524","previous_guid":"D08EB3E6738B43A0926188D53477BC7F","component_type_id":"6","data_id":"0","data":"Mapping with a toy dataset","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping with a toy dataset"},"is_project":0},{"component_id":"462923","previous_id":"462922","original_id":"0","guid":"5BE54E05C5644C06B1E487E58BF8950B","previous_guid":"C9CEAED5ABF84EBDBFF8EB1C1995B524","component_type_id":"15","data_id":"1588","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cp \/usr\/local\/data\/toy_dataset_reads_for_mapping_species2.fasta .\nbowtie2 -x toy_dataset_contig_for_mapping.btindex -f -U toy_dataset_reads_for_mapping_species2.fasta -S toy_dataset_mapped_species2.sam\nsamtools view -bS toy_dataset_mapped_species2.sam > toy_dataset_mapped_species2.bam\nsamtools sort toy_dataset_mapped_species2.bam -o toy_dataset_mapped_species2_sorted.bam\nsamtools index toy_dataset_mapped_species2_sorted.bam","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"313528","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"72CAC9601FB447A2968D18451A1CC630","previous_guid":"25A7D62B508A4293A796F529AEC4C61B","previous_id":"313527","last_modified":"1486505589","components":[{"component_id":"462924","previous_id":0,"original_id":"0","guid":"F225DB476A1B4A979CC4641F12717D07","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Copy the new data files to your local computer, and then visualize both of them in IGV viewer. Since you have already loaded the reference file and reads from your first mapping, all you have to do is click 'File' --&gt; 'Load from File' and click on your new bam file. You should be able to see them side by side.<\/p>\n<p>\u00a0<\/p>\n<p><strong>Questions to answer for this week's lab questions:<\/strong><\/p>\n<p><strong>1. Describe the\u00a0large-scale differences between\u00a0the mapped reads from species 1 and species 2, and explain what\u00a0this mapping tells us about the relative genome structure of the two genomes that we mapped. If we compared this genomic region in a dot plot, what would it look like? Describe\u00a0at least one\u00a0biological mechanism by which this may have occurred.<\/strong><\/p>\n<p><strong>2. Do you see evidence of misassemblies? If so, describe where you see evidence for this and what this evidence looks like.<\/strong><\/p>\n<p><strong>3. Do you see evidence of single nucleotide polymorphisms? If so, describe where you see evidence for this and what this evidence looks like.<\/strong><\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Copy the new data files to your local computer, and then visualize both of them in IGV viewer. Since you have already loaded the reference file and reads from your first mapping, all you have to do is click 'File' --&gt; 'Load from File' and click on your new bam file. You should be able to see them side by side.<\/p>\n<p>\u00a0<\/p>\n<p><strong>Questions to answer for this week's lab questions:<\/strong><\/p>\n<p><strong>1. Describe the\u00a0large-scale differences between\u00a0the mapped reads from species 1 and species 2, and explain what\u00a0this mapping tells us about the relative genome structure of the two genomes that we mapped. If we compared this genomic region in a dot plot, what would it look like? Describe\u00a0at least one\u00a0biological mechanism by which this may have occurred.<\/strong><\/p>\n<p><strong>2. Do you see evidence of misassemblies? If so, describe where you see evidence for this and what this evidence looks like.<\/strong><\/p>\n<p><strong>3. Do you see evidence of single nucleotide polymorphisms? If so, describe where you see evidence for this and what this evidence looks like.<\/strong><\/p>"},"is_project":0},{"component_id":"462925","previous_id":"462924","original_id":"0","guid":"6E88AE865636434FB2D33A94B89A3FB2","previous_guid":"F225DB476A1B4A979CC4641F12717D07","component_type_id":"6","data_id":"0","data":"Mapping with a toy dataset","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping with a toy dataset"},"is_project":0}]},{"id":"313529","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"BD4B0A91C4D248988B8EC624BBA04A3E","previous_guid":"72CAC9601FB447A2968D18451A1CC630","previous_id":"313528","last_modified":"1486505589","components":[{"component_id":"462926","previous_id":0,"original_id":"0","guid":"ED686D2A526342119273952B18122940","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Now we're going to map your project datasets. Remember that these are <em>metagenomes<\/em>, not a genome, so the data will be a bit more complex to interpret.<\/p>\n<p>\u00a0<\/p>\n<p>We're going to map your raw reads against your assembled datasets. Why would we do this, you ask? A few reasons:<\/p>\n<ul>\n<li>to look for single nucleotide variants in specific genes.<\/li>\n<li>to quantify the relative abundances of different genes, and determine whether specific genes have better coverage than others.<\/li>\n<li>to quantify the relative abundances of specific taxa, and determine whether specific taxa are more abundant than others.<\/li>\n<\/ul>\n<p>As you consider this, answer the following question for this week's lab questions:<\/p>\n<p>\u00a0<\/p>\n<p><strong>4. If you wanted to quantify the relative abundances of specific genes in your sample, why couldn't you\u00a0simply count the number of times your gene appears in your assembly?<\/strong><\/p>\n<p style=\"background: white;\">\u00a0<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Now we're going to map your project datasets. Remember that these are <em>metagenomes<\/em>, not a genome, so the data will be a bit more complex to interpret.<\/p>\n<p>\u00a0<\/p>\n<p>We're going to map your raw reads against your assembled datasets. Why would we do this, you ask? A few reasons:<\/p>\n<ul>\n<li>to look for single nucleotide variants in specific genes.<\/li>\n<li>to quantify the relative abundances of different genes, and determine whether specific genes have better coverage than others.<\/li>\n<li>to quantify the relative abundances of specific taxa, and determine whether specific taxa are more abundant than others.<\/li>\n<\/ul>\n<p>As you consider this, answer the following question for this week's lab questions:<\/p>\n<p>\u00a0<\/p>\n<p><strong>4. If you wanted to quantify the relative abundances of specific genes in your sample, why couldn't you\u00a0simply count the number of times your gene appears in your assembly?<\/strong><\/p>\n<p style=\"background: white;\">\u00a0<\/p>"},"is_project":0},{"component_id":"462927","previous_id":"462926","original_id":"0","guid":"2EB12E4B147A42B3A33084E3FC7A23A5","previous_guid":"ED686D2A526342119273952B18122940","component_type_id":"6","data_id":"0","data":"Mapping your project datasets","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping your project datasets"},"is_project":0}]},{"id":"313530","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"57BFDAC3E12B45D1B8A9D033CD62862F","previous_guid":"BD4B0A91C4D248988B8EC624BBA04A3E","previous_id":"313529","last_modified":"1486505589","components":[{"component_id":"462928","previous_id":0,"original_id":"0","guid":"0359BC59CE1D4DDCA9194DB954D053AF","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Change directory into your project dataset directory folder. We're going to map your raw reads against your assemblies (not your ORFs). Make sure you know where your project assembly is and where your raw reads are. Follow the instructions to map your raw reads back to your assembled datasets. For example, if you were mapping the dataset\u00a0ERR599166_1mill_sample.fasta and your assembly was called\u00a0ERR599166_assembled.fa, you might do something like this. <em>Please be sure to use the assembled files that you've already run through anvi-script-reformat-fasta, which you should have done in our\u00a0first computer lab.<\/em><\/p>\n<p>\u00a0<\/p>\n<p>An example set of commands is shown below. Remember to replace the datasets here with your own project datasets!<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Change directory into your project dataset directory folder. We're going to map your raw reads against your assemblies (not your ORFs). Make sure you know where your project assembly is and where your raw reads are. Follow the instructions to map your raw reads back to your assembled datasets. For example, if you were mapping the dataset\u00a0ERR599166_1mill_sample.fasta and your assembly was called\u00a0ERR599166_assembled.fa, you might do something like this. <em>Please be sure to use the assembled files that you've already run through anvi-script-reformat-fasta, which you should have done in our\u00a0first computer lab.<\/em><\/p>\n<p>\u00a0<\/p>\n<p>An example set of commands is shown below. Remember to replace the datasets here with your own project datasets!<\/p>"},"is_project":0},{"component_id":"462929","previous_id":"462928","original_id":"0","guid":"7F8F1F9F7F9C48CBA325A06FAAFF181E","previous_guid":"0359BC59CE1D4DDCA9194DB954D053AF","component_type_id":"6","data_id":"0","data":"Mapping your project datasets","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping your project datasets"},"is_project":0},{"component_id":"462930","previous_id":"462929","original_id":"0","guid":"4995B38945E940FAAA3A229B1CE0A727","previous_guid":"7F8F1F9F7F9C48CBA325A06FAAFF181E","component_type_id":"15","data_id":"1589","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"bowtie2-build ERR599166_assembled.fa ERR599166_assembled.btindex\nbowtie2 -x ERR599166_assembled.btindex -f -U ERR599166_1mill_sample.fasta -S ERR599166_mapped.sam\nsamtools view -bS ERR599166_mapped.sam > ERR599166_mapped.bam\nsamtools sort ERR599166_mapped.bam -o ERR599166_mapped_sorted.bam\nsamtools faidx ERR599166_assembled.fa\nsamtools index ERR599166_mapped_sorted.bam","description":"Note that this command assumes that your raw reads and your assembly are in the same directory you're in. If they are not, you will need to either copy them over or use the correct path in your commands. (A reminder: the path simply gives directions to the computer for where to find a file.) For example, if you are in a mapping directory, your reads file is one directory up in the file hierarchy, and your assembled reads are in your assembly file, you might have to type something like this:\n\nbowtie2 -x ..\/assembly\/ERR599166_assembled.btindex -f -U ..\/ERR599166_1mill_sample.fasta -S ERR599166_mapped.sam","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"313531","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"B140C41163E34779A6D059B2734380F3","previous_guid":"57BFDAC3E12B45D1B8A9D033CD62862F","previous_id":"313530","last_modified":"1486505589","components":[{"component_id":"462931","previous_id":0,"original_id":"0","guid":"1269CF2A039E45AA82337AE5FEBCF869","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>When you visualize this in TGV, remember that you have multiple contigs. So you have to click the drop-down menu at the top and choose which contig you wish to visualize.<\/p>\n<p>\u00a0<\/p>\n<p><strong>Question to answer for this week's lab questions:<\/strong><\/p>\n<p><strong>5. Do you see evidence of single nucleotide variants? Provide an example (which contig, which position, what percent of reads had each base call).\u00a0Biologically speaking, what does this indicate?<\/strong><\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>When you visualize this in TGV, remember that you have multiple contigs. So you have to click the drop-down menu at the top and choose which contig you wish to visualize.<\/p>\n<p>\u00a0<\/p>\n<p><strong>Question to answer for this week's lab questions:<\/strong><\/p>\n<p><strong>5. Do you see evidence of single nucleotide variants? Provide an example (which contig, which position, what percent of reads had each base call).\u00a0Biologically speaking, what does this indicate?<\/strong><\/p>"},"is_project":0},{"component_id":"462932","previous_id":"462931","original_id":"0","guid":"8A32935D877E47C7AAB7C5DE7905A67C","previous_guid":"1269CF2A039E45AA82337AE5FEBCF869","component_type_id":"6","data_id":"0","data":"Mapping your project datasets","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping your project datasets"},"is_project":0}]},{"id":"313532","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"C8B85197D7354977BAB564E1A4053F02","previous_guid":"B140C41163E34779A6D059B2734380F3","previous_id":"313531","last_modified":"1486505589","components":[{"component_id":"462933","previous_id":0,"original_id":"0","guid":"AF8667B3691E40DA8A507D42CF4C3112","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>You were able to visualize the mappings in IGV, but sometimes you just want to have a number: for example, you might want to know the average coverage across a specific gene, and compare that to the average coverage of another gene in order to compare their relative abundances in the sample.<\/p>\n<p>\u00a0<\/p>\n<p><strong>Go back to your Interproscan files and find two ORFs that you're interested in.<\/strong>\u00a0Choose one that you think might be really abundant in a sample (a housekeeping gene, for example, that might be really common) and choose one that you think might be more specialized and only found in specific types of microbes.<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>You were able to visualize the mappings in IGV, but sometimes you just want to have a number: for example, you might want to know the average coverage across a specific gene, and compare that to the average coverage of another gene in order to compare their relative abundances in the sample.<\/p>\n<p>\u00a0<\/p>\n<p><strong>Go back to your Interproscan files and find two ORFs that you're interested in.<\/strong>\u00a0Choose one that you think might be really abundant in a sample (a housekeeping gene, for example, that might be really common) and choose one that you think might be more specialized and only found in specific types of microbes.<\/p>"},"is_project":0},{"component_id":"462934","previous_id":"462933","original_id":"0","guid":"12E5FEA7A22749FB8149633EB1FF47E4","previous_guid":"AF8667B3691E40DA8A507D42CF4C3112","component_type_id":"6","data_id":"0","data":"Mapping your project datasets","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping your project datasets"},"is_project":0}]},{"id":"313533","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"661BC2D3B3D0463C828D27C605239C2A","previous_guid":"C8B85197D7354977BAB564E1A4053F02","previous_id":"313532","last_modified":"1486669331","components":[{"component_id":"462935","previous_id":0,"original_id":"0","guid":"34446ECCDFE44699AD3AE4D679C55BC0","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Now we're going to make what's called a bed file. We will use it to\u00a0find the average coverage of every single open reading frame in your dataset. Please make sure that your contigs have names that are something like c_00000000001 and your ORFs have names that are something like\u00a0c_00000000001_1.<\/p>\n<p>\u00a0<\/p>\n<p>This will create a bed file that ends in .bed. You can take a look at it if you wish-- it should have the contig name, the coordinates of your ORF, and the name of your ORF.<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Now we're going to make what's called a bed file. We will use it to\u00a0find the average coverage of every single open reading frame in your dataset. Please make sure that your contigs have names that are something like c_00000000001 and your ORFs have names that are something like\u00a0c_00000000001_1.<\/p>\n<p>\u00a0<\/p>\n<p>This will create a bed file that ends in .bed. You can take a look at it if you wish-- it should have the contig name, the coordinates of your ORF, and the name of your ORF.<\/p>"},"is_project":0},{"component_id":"462936","previous_id":"462935","original_id":"0","guid":"973B5D77652C4751A26C76E3F57374DF","previous_guid":"34446ECCDFE44699AD3AE4D679C55BC0","component_type_id":"6","data_id":"0","data":"Mapping your project datasets","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping your project datasets"},"is_project":0},{"component_id":"462937","previous_id":"462936","original_id":"0","guid":"FC940A6FD29A49EB92D07C6AC7B67D7A","previous_guid":"973B5D77652C4751A26C76E3F57374DF","component_type_id":"15","data_id":"1591","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"make_bed_file_from_ORF_file.py [your ORF file]","description":"for example:\n\nmake_bed_file_from_ORF_file.py ERR599166_assembled_ORFs.faa","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"313535","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"4FEF98F404274E438C67694C8E1578F3","previous_guid":"661BC2D3B3D0463C828D27C605239C2A","previous_id":"313533","last_modified":"1486507167","components":[{"component_id":"462941","previous_id":0,"original_id":"0","guid":"56C11854E35D42C0A922EFA3011F3C88","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Now run a script that will use your bed file and will calculate the read depth for every single ORF in your ORF file.<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Now run a script that will use your bed file and will calculate the read depth for every single ORF in your ORF file.<\/p>"},"is_project":0},{"component_id":"462942","previous_id":"462941","original_id":"0","guid":"DC50C3D29E404480BA7F77123B03AF6D","previous_guid":"56C11854E35D42C0A922EFA3011F3C88","component_type_id":"6","data_id":"0","data":"Mapping your project datasets","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping your project datasets"},"is_project":0},{"component_id":"462943","previous_id":"462942","original_id":"0","guid":"96DC1C880B6B4844B98E772C5E2D3541","previous_guid":"DC50C3D29E404480BA7F77123B03AF6D","component_type_id":"15","data_id":"1593","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"samtools bedcov [your bed file] [your sorted bam file] > [ an output file that ends in _ORF_coverage.txt]","description":"for example:\n\nsamtools bedcov ERR599166_assembled.bed ERR599166_mapped_sorted.bam > ERR599166_ORF_coverage.txt","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"313536","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"BAE9E73F057E4855908DB3C105C285B3","previous_guid":"4FEF98F404274E438C67694C8E1578F3","previous_id":"313535","last_modified":"1509217877","components":[{"component_id":"462944","previous_id":0,"original_id":"0","guid":"3D4AC6B7D02947FB941B2394362F6461","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Open the file that it spits out. It should give the name of your contig, the start coordinate, the stop coordinate, the name of your open reading frame, and then the sum of the per-base coverage. To get the average coverage, open this document in Excel, and divide that number by the difference between the stop and start coordinates.\u00a0<\/p>\n<p>\u00a0<\/p>\n<p>Now you have the average coverage of every ORF for this particular bam file, and you should be able to match the name of your ORF from Interproscan to the ORF in this output file.<\/p>\n<p>\u00a0<\/p>\n<p>Keep in mind that if you map a <em>different<\/em> metagenome against this same reference sequence (i.e. your own project assembly), you'll need to run this script again to get the coverage for <em>that<\/em>\u00a0metagenome.<\/p>\n<p>\u00a0<\/p>\n<p>\u00a0<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Open the file that it spits out. It should give the name of your contig, the start coordinate, the stop coordinate, the name of your open reading frame, and then the sum of the per-base coverage. To get the average coverage, open this document in Excel, and divide that number by the difference between the stop and start coordinates.\u00a0<\/p>\n<p>\u00a0<\/p>\n<p>Now you have the average coverage of every ORF for this particular bam file, and you should be able to match the name of your ORF from Interproscan to the ORF in this output file.<\/p>\n<p>\u00a0<\/p>\n<p>Keep in mind that if you map a <em>different<\/em> metagenome against this same reference sequence (i.e. your own project assembly), you'll need to run this script again to get the coverage for <em>that<\/em>\u00a0metagenome.<\/p>\n<p>\u00a0<\/p>\n<p>\u00a0<\/p>"},"is_project":0},{"component_id":"462945","previous_id":"462944","original_id":"0","guid":"4809634CDDE24AA3B42DAC47023567E3","previous_guid":"3D4AC6B7D02947FB941B2394362F6461","component_type_id":"6","data_id":"0","data":"Mapping your project datasets","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping your project datasets"},"is_project":0},{"component_id":"1016470","previous_id":"462945","original_id":"0","guid":"F34DADC7F8994DFBA3AFE17A3D595BC6","previous_guid":"4809634CDDE24AA3B42DAC47023567E3","component_type_id":"13","data_id":"16577","data":"","order_id":"2","name":"Comment","data_by_id":"1","type_id":"13","source_data":{"annotation_id":"16577","thread_id":"16577","id":"16577","thread_title":"Annotation on step 21 of Week 6: Mapping with Bowtie2","uri":"annotation-on-step-21-of-week-6-mapping-with-bowtie2","thread_uri":"annotation-on-step-21-of-week-6-mapping-with-bowtie2","step_id":"313536","protocol_uri":"week-6-mapping-with-bowtie2-g5zby76","protocol_name":"Week 6: Mapping with Bowtie2","protocol_name_html":"Week 6: Mapping with Bowtie2","annotation":"<p><strong>If Excel doesn't automatically load\u00a0your file correctly,<\/strong> with each field ending up in its own column, you can import it manually.<\/p>\n<p>* open a blank excel document<\/p>\n<p>* clck the 'data' tab, then the 'from text' button.<\/p>\n<p>* select your file, and tweak the import settings until values are properly seperated.<\/p>\n<p>\u00a0<\/p>\n<p><strong>To enter your formula and propogate it down the entire document:<\/strong><\/p>\n<p>* To to cell F1 (first row, right of the total coverage column.)<\/p>\n<p>*\u00a0Enter formula:\u00a0<code>=E1\/(C1-B1)<\/code>. That is total coverage divided by the different between the coordinates. You can click the desired cells rather than typing their names.<\/p>\n<p>* Double click the green square in the bottom right of your cell to propogate that formula down the entire column.<\/p>","thread_text":"<p><strong>If Excel doesn't automatically load\u00a0your file correctly,<\/strong> with each field ending up in its own column, you can import it manually.<\/p>\n<p>* open a blank excel document<\/p>\n<p>* clck the 'data' tab, then the 'from text' button.<\/p>\n<p>* select your file, and tweak the import settings until values are properly seperated.<\/p>\n<p>\u00a0<\/p>\n<p><strong>To enter your formula and propogate it down the entire document:<\/strong><\/p>\n<p>* To to cell F1 (first row, right of the total coverage column.)<\/p>\n<p>*\u00a0Enter formula:\u00a0<code>=E1\/(C1-B1)<\/code>. That is total coverage divided by the different between the coordinates. You can click the desired cells rather than typing their names.<\/p>\n<p>* Double click the green square in the bottom right of your cell to propogate that formula down the entire column.<\/p>","body":"<p><strong>If Excel doesn't automatically load\u00a0your file correctly,<\/strong> with each field ending up in its own column, you can import it manually.<\/p>\n<p>* open a blank excel document<\/p>\n<p>* clck the 'data' tab, then the 'from text' button.<\/p>\n<p>* select your file, and tweak the import settings until values are properly seperated.<\/p>\n<p>\u00a0<\/p>\n<p><strong>To enter your formula and propogate it down the entire document:<\/strong><\/p>\n<p>* To to cell F1 (first row, right of the total coverage column.)<\/p>\n<p>*\u00a0Enter formula:\u00a0<code>=E1\/(C1-B1)<\/code>. That is total coverage divided by the different between the coordinates. You can click the desired cells rather than typing their names.<\/p>\n<p>* Double click the green square in the bottom right of your cell to propogate that formula down the entire column.<\/p>","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"1","created_date":"1509217329","created_on":"1509217329","modified_on":"1509217877","last_updated":"1509217877","profile_image":"\/img\/avatars\/002.png","full_name":"Dustin Michels","affiliation":null,"username":"dustin-michels","email":"rika.anderson@gmail.com","pa_useranme":"rika-anderson","comments":[]},"is_project":0}]},{"id":"313537","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"BB09C981498F4186835A228DD8F4F184","previous_guid":"BAE9E73F057E4855908DB3C105C285B3","previous_id":"313536","last_modified":"1486505589","components":[{"component_id":"462946","previous_id":0,"original_id":"0","guid":"9CC491B4D0564D59918F764C1ABDD005","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>This is a really common type of analysis for 'omics-based studies-- you can compare the coverage of specific genes of interest. For example, you might compare the coverage of genes related to photosythesis, respiration, and nitrogen fixation if you're interested in how abundant those metabolisms are in the community. Or you might be interested in the relative coverage of ribosomal\u00a0genes from archaea vs bacteria, for example, if you're interested in how abundant archaea are vs. bacteria.\u00a0<\/p>\n<p>\u00a0<\/p>\n<p><strong>For the writeup for lab this week, describe:<\/strong><\/p>\n<p><strong>6. What ORFs did you choose to focus on? Which one did you expect to have higher coverage? Was your prediction correct?<\/strong><\/p>\n<p><strong>7.\u00a0Make a bar graph showing your results and submit it as 'Figure 1' for this week's lab writeup. I did one in Excel, like this:\u00a0<img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/h4ve2hn.jpg\" width=\"519\" height=\"202\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/h4ue2hn.jpg\" data-ofn=\"excel_screenshot.jpg\" \/><\/strong><\/p>\n<p><strong>8. As you scroll through the data file reporting the average coverage of all of your ORFs, which ORF had the <em>highest<\/em> coverage? What did it encode, according to your Interproscan file? Speculate on why that gene may have had the highest coverage of all the genes in your dataset.<\/strong><\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>This is a really common type of analysis for 'omics-based studies-- you can compare the coverage of specific genes of interest. For example, you might compare the coverage of genes related to photosythesis, respiration, and nitrogen fixation if you're interested in how abundant those metabolisms are in the community. Or you might be interested in the relative coverage of ribosomal\u00a0genes from archaea vs bacteria, for example, if you're interested in how abundant archaea are vs. bacteria.\u00a0<\/p>\n<p>\u00a0<\/p>\n<p><strong>For the writeup for lab this week, describe:<\/strong><\/p>\n<p><strong>6. What ORFs did you choose to focus on? Which one did you expect to have higher coverage? Was your prediction correct?<\/strong><\/p>\n<p><strong>7.\u00a0Make a bar graph showing your results and submit it as 'Figure 1' for this week's lab writeup. I did one in Excel, like this:\u00a0<img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/h4ve2hn.jpg\" width=\"519\" height=\"202\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/h4ue2hn.jpg\" data-ofn=\"excel_screenshot.jpg\" \/><\/strong><\/p>\n<p><strong>8. As you scroll through the data file reporting the average coverage of all of your ORFs, which ORF had the <em>highest<\/em> coverage? What did it encode, according to your Interproscan file? Speculate on why that gene may have had the highest coverage of all the genes in your dataset.<\/strong><\/p>"},"is_project":0},{"component_id":"462947","previous_id":"462946","original_id":"0","guid":"9F588B0EA5164E959A2873C22C17351E","previous_guid":"9CC491B4D0564D59918F764C1ABDD005","component_type_id":"6","data_id":"0","data":"Mapping your project datasets","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping your project datasets"},"is_project":0}]},{"id":"313538","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"B58F1EE6AF6640F88F357901750BDC8D","previous_guid":"BB09C981498F4186835A228DD8F4F184","previous_id":"313537","last_modified":"1486505589","components":[{"component_id":"462948","previous_id":0,"original_id":"0","guid":"C24114FBC7A249FD991620D12EB860D2","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Now, you're going to map the raw reads from each of the <em>other<\/em> datasets within your project region back to your assembled contigs. Basically, you'll be using the raw data that your other group members have been working with. This could\u00a0be an interesting\u00a0way for you to compare samples within your project study region with other members of your group. Each of you will map the raw reads of the <em>other<\/em> samples against your <em>own<\/em> assembled dataset.<\/p>\n<p>\u00a0<\/p>\n<p>Copy the file of raw reads from the <em>other<\/em> datasets over to your project directory, and map them to <em>your<\/em>\u00a0assembled contigs using the commands above. So your reference sequences\u00a0will be the same, but your reads for mapping will be different. Talk to your TA or to Rika if you need help.<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Now, you're going to map the raw reads from each of the <em>other<\/em> datasets within your project region back to your assembled contigs. Basically, you'll be using the raw data that your other group members have been working with. This could\u00a0be an interesting\u00a0way for you to compare samples within your project study region with other members of your group. Each of you will map the raw reads of the <em>other<\/em> samples against your <em>own<\/em> assembled dataset.<\/p>\n<p>\u00a0<\/p>\n<p>Copy the file of raw reads from the <em>other<\/em> datasets over to your project directory, and map them to <em>your<\/em>\u00a0assembled contigs using the commands above. So your reference sequences\u00a0will be the same, but your reads for mapping will be different. Talk to your TA or to Rika if you need help.<\/p>"},"is_project":0},{"component_id":"462949","previous_id":"462948","original_id":"0","guid":"E6CFA8D30D5F49BF8F1768CBF658FF0D","previous_guid":"C24114FBC7A249FD991620D12EB860D2","component_type_id":"6","data_id":"0","data":"Mapping your project datasets","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping your project datasets"},"is_project":0}]},{"id":"313539","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"FA0B5A7FCFD546CDB6DCCC701CE8A7C2","previous_guid":"B58F1EE6AF6640F88F357901750BDC8D","previous_id":"313538","last_modified":"1486505589","components":[{"component_id":"462950","previous_id":0,"original_id":"0","guid":"E911AFA18D3C4C7EA9165F31A3EAD399","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Compare the mappings in IGV.\u00a0<\/p>\n<p>\u00a0<\/p>\n<p><strong>Question to answer for this week's lab questions:<\/strong><\/p>\n<p><strong>9. Take a look at the mapping to the first contig. (Please include a screenshot of this mapping so I can see what you're looking at.)<\/strong><\/p>\n<p><strong>\u00a0 \u00a0 \u00a0 a.\u00a0Descibe patterns you observe in terms of\u00a0differences in the relative coverage between the two metagenomes, and explain what\u00a0this means biologically.<\/strong><\/p>\n<p><strong>\u00a0 \u00a0 \u00a0 b.\u00a0Provide an example of different patterns of single nucleotide variants between the metagenomes, and explain what this means biologically. What might this tell us about microbes of the same species living in these different habitats?<\/strong><\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Compare the mappings in IGV.\u00a0<\/p>\n<p>\u00a0<\/p>\n<p><strong>Question to answer for this week's lab questions:<\/strong><\/p>\n<p><strong>9. Take a look at the mapping to the first contig. (Please include a screenshot of this mapping so I can see what you're looking at.)<\/strong><\/p>\n<p><strong>\u00a0 \u00a0 \u00a0 a.\u00a0Descibe patterns you observe in terms of\u00a0differences in the relative coverage between the two metagenomes, and explain what\u00a0this means biologically.<\/strong><\/p>\n<p><strong>\u00a0 \u00a0 \u00a0 b.\u00a0Provide an example of different patterns of single nucleotide variants between the metagenomes, and explain what this means biologically. What might this tell us about microbes of the same species living in these different habitats?<\/strong><\/p>"},"is_project":0},{"component_id":"462951","previous_id":"462950","original_id":"0","guid":"6AE78F89D130475093F18905AE5C499D","previous_guid":"E911AFA18D3C4C7EA9165F31A3EAD399","component_type_id":"6","data_id":"0","data":"Mapping your project datasets","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping your project datasets"},"is_project":0}]},{"id":"313540","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"5E4BD1A76B2244BA82A013D7B4C027DC","previous_guid":"FA0B5A7FCFD546CDB6DCCC701CE8A7C2","previous_id":"313539","last_modified":"1486680785","components":[{"component_id":"462952","previous_id":0,"original_id":"0","guid":"6218977E76B84549999008BAF6559F6C","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Mapping is often used as a way to compare\u00a0the relative abundance of specific <em>types<\/em> of genes between regions. In the world of metagenomics, this\u00a0can tell us something about how abundant a specific metabolism or function is within your microbial community. Use your Interproscan results to search for all ORFs\u00a0related to a specific metabolism, function, or type of organism of your choice. For example, perhaps you are interested in the nitrogen cycle-- you might use Pfam to search for all genes related to nitrogen fixation, and identify them in your Interproscan results. Or perhaps you are interested in viruses-- you might look for all ORFs that have\u00a0Interproscan hits that appear to be related to viral function (viral capsids, reverse transcriptases, etc).\u00a0<\/p>\n<p>\u00a0<\/p>\n<p>\u00a0<\/p>\n<p><strong>For this week's lab questions:<\/strong><\/p>\n<p><strong>10a. Write either a question or generate a hypothesis about the <em>relative coverage<\/em> of this set of genes with respect to your project datasets. This question\/hypothesis should include a comparison between your own project dataset and another dataset within your project region, and it should be couched within the larger ecological context.<\/strong><\/p>\n<p>\u00a0<\/p>\n<p>You do have some information to act as a basis for your question or hypothesis. For example, the KEGG metabolisms page you saw last week provides good information about which genes are used in specific pathways. You also have some metadata related to your project sample in the Project Dataset Excel spreadsheet on the Moodle.<\/p>\n<p>\u00a0<\/p>\n<p><em><strong>Example #1:<\/strong><\/em><\/p>\n<p>\u00a0<\/p>\n<p><em><strong>I hypothesize that there will be lower\u00a0coverage of\u00a0genes\u00a0related to photosynthesis\u00a0(i.e. the psb genes) in the mesopelagic zone relative to the surface. This is because at the surface there will be more organisms that photosynthesize compared to the mesopelagic zone, where less light is available. Therefore, a lower\u00a0proportion of genes in the microbial community in\u00a0the mesopelagic zone\u00a0will be related to photosynthesis compared to the surface, and therefore, fewer\u00a0reads will map to photosynthesis genes in the mesopelagic zone.<\/strong><\/em><\/p>\n<p>\u00a0<\/p>\n<p><em><strong>Example #2:<\/strong><\/em><\/p>\n<p>\u00a0<\/p>\n<p><em><strong>I hypothesize that there will be higher\u00a0coverage of genes that use nitrate as a substrate (i.e. the nar genes) in my sample relative to other samples in my project region because there is more nitrate in my sample (the surface) compared to the other depths in our project region (the deep chlorophyll maximum and the mesopelagic zone).<\/strong><\/em><\/p>\n<p>\u00a0<\/p>\n<p>Once you've identified the set of genes related to a specific metabolism\/function\/type of organism, and you have written a question or generated a hypothesis, calculate the average coverage to each of those ORFs in your dataset.\u00a0Then, contrast that with the average coverage of those genes from\u00a0the mapping of at least one\u00a0another dataset from within your region. Keep in mind that you are mapping <em>other<\/em> samples to your <em>own<\/em> assembly. Use bedtools and get_ORF_coverage.py to calculate the relative coverage of the genes you are investigating.\u00a0<\/p>\n<p>\u00a0<\/p>\n<p><strong>10b.\u00a0Describe your results (including any caveats or variation you observed within your results) and create a graph to visualize those results. This should represent a mini 'Results' section in a lab report or paper.<\/strong><\/p>\n<p>\u00a0<\/p>\n<p><strong>10c. Interpret your results within the context of the ecosystem you are investigating. This should represent a mini 'Discussion' section in a lab report or paper.<\/strong><\/p>\n<p>\u00a0<\/p>\n<p><strong>Submit your responses to these questions on the Moodle by lab time next week.<\/strong><\/p>\n<p>\u00a0<\/p>\n<p><strong>NOTE!<\/strong><\/p>\n<p><strong>Some of you are finding that other people's reads are NOT\u00a0mapping well to your own contigs. If you prefer, you can instead compare other people's mappings to their own datasets to your own mappings to your own dataset. (For example, if Sylvia has dataset A and Joyce has dataset B, they could look at the coverage of reads from A mapping to contigs from A, and reads from B matching to contigs from B, rather than trying to look at the coverage of reads from B mapping to contigs from A.)<\/strong><\/p>\n<p>\u00a0<\/p>\n<p><strong>This will require you all to share data with each other. So, please:<\/strong><\/p>\n<p><strong>1) Make a directory in your Tara oceans project file with your name (i.e. \/usr\/local\/data\/Tara_datasets\/Arabian_Sea\/Rika, for example)<\/strong><\/p>\n<p><strong>2) Copy ALL of your: bam files, bai files, and your ORF_coverage.txt files over to your new directory<\/strong><\/p>\n<p><strong>3) Make sure your assembled contigs, ORF files, and Interproscan .tsv files are already in your Tara project folder. (They should be there already.)<\/strong><\/p>\n<p>\u00a0<\/p>\n<p><strong>Now you'll have access to each other's datasets in case you'd like to use their datasets to compare relative coverage.<\/strong><\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Mapping is often used as a way to compare\u00a0the relative abundance of specific <em>types<\/em> of genes between regions. In the world of metagenomics, this\u00a0can tell us something about how abundant a specific metabolism or function is within your microbial community. Use your Interproscan results to search for all ORFs\u00a0related to a specific metabolism, function, or type of organism of your choice. For example, perhaps you are interested in the nitrogen cycle-- you might use Pfam to search for all genes related to nitrogen fixation, and identify them in your Interproscan results. Or perhaps you are interested in viruses-- you might look for all ORFs that have\u00a0Interproscan hits that appear to be related to viral function (viral capsids, reverse transcriptases, etc).\u00a0<\/p>\n<p>\u00a0<\/p>\n<p>\u00a0<\/p>\n<p><strong>For this week's lab questions:<\/strong><\/p>\n<p><strong>10a. Write either a question or generate a hypothesis about the <em>relative coverage<\/em> of this set of genes with respect to your project datasets. This question\/hypothesis should include a comparison between your own project dataset and another dataset within your project region, and it should be couched within the larger ecological context.<\/strong><\/p>\n<p>\u00a0<\/p>\n<p>You do have some information to act as a basis for your question or hypothesis. For example, the KEGG metabolisms page you saw last week provides good information about which genes are used in specific pathways. You also have some metadata related to your project sample in the Project Dataset Excel spreadsheet on the Moodle.<\/p>\n<p>\u00a0<\/p>\n<p><em><strong>Example #1:<\/strong><\/em><\/p>\n<p>\u00a0<\/p>\n<p><em><strong>I hypothesize that there will be lower\u00a0coverage of\u00a0genes\u00a0related to photosynthesis\u00a0(i.e. the psb genes) in the mesopelagic zone relative to the surface. This is because at the surface there will be more organisms that photosynthesize compared to the mesopelagic zone, where less light is available. Therefore, a lower\u00a0proportion of genes in the microbial community in\u00a0the mesopelagic zone\u00a0will be related to photosynthesis compared to the surface, and therefore, fewer\u00a0reads will map to photosynthesis genes in the mesopelagic zone.<\/strong><\/em><\/p>\n<p>\u00a0<\/p>\n<p><em><strong>Example #2:<\/strong><\/em><\/p>\n<p>\u00a0<\/p>\n<p><em><strong>I hypothesize that there will be higher\u00a0coverage of genes that use nitrate as a substrate (i.e. the nar genes) in my sample relative to other samples in my project region because there is more nitrate in my sample (the surface) compared to the other depths in our project region (the deep chlorophyll maximum and the mesopelagic zone).<\/strong><\/em><\/p>\n<p>\u00a0<\/p>\n<p>Once you've identified the set of genes related to a specific metabolism\/function\/type of organism, and you have written a question or generated a hypothesis, calculate the average coverage to each of those ORFs in your dataset.\u00a0Then, contrast that with the average coverage of those genes from\u00a0the mapping of at least one\u00a0another dataset from within your region. Keep in mind that you are mapping <em>other<\/em> samples to your <em>own<\/em> assembly. Use bedtools and get_ORF_coverage.py to calculate the relative coverage of the genes you are investigating.\u00a0<\/p>\n<p>\u00a0<\/p>\n<p><strong>10b.\u00a0Describe your results (including any caveats or variation you observed within your results) and create a graph to visualize those results. This should represent a mini 'Results' section in a lab report or paper.<\/strong><\/p>\n<p>\u00a0<\/p>\n<p><strong>10c. Interpret your results within the context of the ecosystem you are investigating. This should represent a mini 'Discussion' section in a lab report or paper.<\/strong><\/p>\n<p>\u00a0<\/p>\n<p><strong>Submit your responses to these questions on the Moodle by lab time next week.<\/strong><\/p>\n<p>\u00a0<\/p>\n<p><strong>NOTE!<\/strong><\/p>\n<p><strong>Some of you are finding that other people's reads are NOT\u00a0mapping well to your own contigs. If you prefer, you can instead compare other people's mappings to their own datasets to your own mappings to your own dataset. (For example, if Sylvia has dataset A and Joyce has dataset B, they could look at the coverage of reads from A mapping to contigs from A, and reads from B matching to contigs from B, rather than trying to look at the coverage of reads from B mapping to contigs from A.)<\/strong><\/p>\n<p>\u00a0<\/p>\n<p><strong>This will require you all to share data with each other. So, please:<\/strong><\/p>\n<p><strong>1) Make a directory in your Tara oceans project file with your name (i.e. \/usr\/local\/data\/Tara_datasets\/Arabian_Sea\/Rika, for example)<\/strong><\/p>\n<p><strong>2) Copy ALL of your: bam files, bai files, and your ORF_coverage.txt files over to your new directory<\/strong><\/p>\n<p><strong>3) Make sure your assembled contigs, ORF files, and Interproscan .tsv files are already in your Tara project folder. (They should be there already.)<\/strong><\/p>\n<p>\u00a0<\/p>\n<p><strong>Now you'll have access to each other's datasets in case you'd like to use their datasets to compare relative coverage.<\/strong><\/p>"},"is_project":0},{"component_id":"462953","previous_id":"462952","original_id":"0","guid":"8E0EE09E49B0472EA280A1E45D4608CC","previous_guid":"6218977E76B84549999008BAF6559F6C","component_type_id":"6","data_id":"0","data":"Mapping your project datasets","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Mapping your project datasets"},"is_project":0}]}]}