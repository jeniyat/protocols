{"uri":"Script-P6-HPyV-Detection-efxbbpn","version_id":"0","protocol_name":"Script P6: HPyV Detection","protocol_name_html":"Script P6: HPyV Detection","is_prepublished":"0","can_edit":"0","parent_id":null,"api_version":"2","is_new_mode":"1","last_modified":"1510247633","type_id":"1","link":"http:\/\/mbio.asm.org\/content\/6\/5\/e01578-15.full","fork_id":"","public_fork_note":"","number_of_steps":"11","has_versions":"0","first_published_date":"1457616097","publish_date":"2016-03-11 02:59:04","documents":"null","have_protocol_in_step":"0","is_protocol_in_step":"0","vendor_name":"Contributed by users","vendor_link":"https:\/\/www.protocols.io","vendor_logo":"\/img\/vendors\/1.png","mod_mins":"-45","mod_secs":"1","description":"This protocol provides a method for detecting Human Polyomaviruses (HPyVs) in our virome and whole metagenome datasets. For genome reference, download the HPyV genomes (in fasta format) from NCBI (nucleotide) using the search terms \"Human Polyomavirus\" AND \"Complete Genome\". This is used in the rest of the analyses.\u00a0Based on the methods from the following publication:<br \/><br \/>Hannigan, Geoffrey D., et al. \"The Human Skin Double-Stranded DNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and Dynamic Associations with the Host Microbiome.\"\u00a0<em>mBio<\/em>\u00a06.5 (2015): e01578-15.","is_bookmarked":"0","can_reassign":"1","before_start":"Perl scripts and other supplemental information available at:<br \/><br \/>\n<div class=\"page-content view-content\">\n<div>\n<div class=\"view-block\">\n<div class=\"view-scroll\">\n<div class=\"vb-main\">\n<div class=\"b-start-block editable-content\"><a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248<\/a><\/div>\n<\/div>\n<\/div>\n<\/div>\n<\/div>\n<\/div>","has_guidelines":"1","materials":[],"warning":"","version_class":"2263","public":"1","is_owner":"1","is_original_owner":"1","created_on":"1453223683","protocol_affiliation":"Grice Lab, DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","affiliation":"Merck Research Labs","doi":"dx.doi.org\/10.17504\/protocols.io.efxbbpn","doi_status":"2","changed_fork_steps":null,"profile_url":"Geoffrey-w2y254v2q2","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","created_by":"Geoffrey Hannigan","private_link":"F01B85AAF88BD74A1C76E65160C3BE3E","original_img":"1","username":"geoffrey-hannigan","is_retracted":"0","retraction_reason":null,"plos_id":null,"manuscript_citation":null,"journal_name":null,"is_donations_disabled":"0","is_donations_disabled_by_user":"9","item_record_id":226775,"fork_info":[],"compare_forks":[],"protocols":[],"groups":[{"group_id":"45","group_uri":"verve-net","group_name":"VERVE Net","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/cdqcwwe.png","requested_uid":null,"request_flag":null,"my_request":"1"},{"group_id":"138","group_uri":"club-grice","group_name":"Club Grice","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/cp7dzme.png","requested_uid":null,"request_flag":null,"my_request":"1"}],"number_of_shared_runs":[],"ownership_history":[],"keywords":"","transfer_to_user":[],"sub_transfer":false,"is_transfer_pending":false,"number_of_bookmarks":"0","collections":[{"protocol_name":"The Human Skin dsDNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and its Dynamic Associations with the Host Microbiome","protocol_name_html":"The Human Skin dsDNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and its Dynamic Associations with the Host Microbiome","uri":"The-Human-Skin-dsDNA-Virome-Topographical-and-Temp-ekubcww","username":"geoffrey-hannigan","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","full_name":"Geoffrey Hannigan"}],"tags":[],"archived":0,"sub_authors":[],"sub_protocols_number":0,"can_edit_shared":0,"shared_runs":[],"is_shared_run":0,"is_shared":1,"banner":null,"contact_badges":[{"badge_id":"4","badge_image":"\/img\/badges\/gold.svg","badge_description":"Gold power author!"},{"badge_id":"5","badge_image":"\/img\/badges\/earlyadopter.svg","badge_description":"Early adopter"},{"badge_id":"6","badge_image":"\/img\/badges\/socialbutterfly.svg","badge_description":"Social butterfly"}],"number_of_comments":0,"is_locked":0,"is_locked_by":false,"authors":"HANNIGAN GD, GRICE EA, ET AL.","authors_list":[{"name":"HANNIGAN GD","affiliation":"Grice Lab, DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null},{"name":" GRICE EA","affiliation":"Grice Lab, DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null},{"name":" ET AL.","affiliation":"Grice Lab, DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null}],"user":{"profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","username":"geoffrey-hannigan","full_name":"Geoffrey Hannigan","created_by":"Geoffrey Hannigan"},"access":{"can_view":"1","can_remove":"0","can_add":"0","can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":"0","can_move":"1","can_transfer":"1","can_download":"1","is_locked":"0"},"is_contact_suspended":0,"guidelines":"<strong>Required Software:<\/strong><br \/>\n<ul>\n<li>NCBI's BLAST+ v2.2.0<\/li>\n<\/ul>\n<br \/><strong>Relevant Files<\/strong><br \/>\n<ul>\n<li>Output: HPyV_Detection\u00a0<\/li>\n<\/ul>","status_id":"1","is_research":"1","status_info":null,"steps":[{"id":"140514","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"389AA441CB2343399DF04296F3EAE200","previous_guid":null,"previous_id":"0","last_modified":"1502718701","components":[{"component_id":"977256","previous_id":0,"original_id":"0","guid":"1E8346238223433C9A603271985B6C21","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"146295","previous_id":"977256","original_id":"0","guid":"CF87BFE051184AA688C0A0268EE77431","previous_guid":"1E8346238223433C9A603271985B6C21","component_type_id":"1","data_id":"0","data":"Download the HPyV genome reference from NCBI (nucleotide) using the search terms \"Human Polyomavirus\" AND \"Complete Genome\".","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Download the HPyV genome reference from NCBI (nucleotide) using the search terms \"Human Polyomavirus\" AND \"Complete Genome\"."},"is_project":0},{"component_id":"147442","previous_id":"146295","original_id":"0","guid":"9692C721FECB434DAC2975110477C64A","previous_guid":"CF87BFE051184AA688C0A0268EE77431","component_type_id":"7","data_id":"230","data":"http:\/\/www.ncbi.nlm.nih.gov\/refseq\/","order_id":"2","name":"External Link","data_by_id":"1","type_id":"7","source_data":{"link":"http:\/\/www.ncbi.nlm.nih.gov\/refseq\/"},"is_project":0}]},{"id":"141146","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"7B314A44AA604DF3BAC32B43D9D2C54C","previous_guid":"389AA441CB2343399DF04296F3EAE200","previous_id":"140514","last_modified":"1502718705","components":[{"component_id":"977406","previous_id":0,"original_id":"0","guid":"1904B380AF384A9AB3AB96A088FDEA7D","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"147444","previous_id":"977406","original_id":"0","guid":"8A92CF772E8F4F6F9EAD2D2389F234B2","previous_guid":"1904B380AF384A9AB3AB96A088FDEA7D","component_type_id":"1","data_id":"0","data":"Make an HPyV blast database using the fasta file from NCBI.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Make an HPyV blast database using the fasta file from NCBI."},"is_project":0},{"component_id":"147445","previous_id":"147444","original_id":"0","guid":"B54A54CEB2D5409FA853139AEDC6834E","previous_guid":"8A92CF772E8F4F6F9EAD2D2389F234B2","component_type_id":"15","data_id":"436","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"makeblastdb -dbtype nucl -in .\/references\/HPyV_reference_genomes\/HPyV_complete_genomes_no_block.fasta -out .\/references\/HPyV_reference_genomes\/HPyV_database","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141147","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"DB82BA87823944F5B510A56C56D12417","previous_guid":"7B314A44AA604DF3BAC32B43D9D2C54C","previous_id":"141146","last_modified":"1502718705","components":[{"component_id":"977407","previous_id":0,"original_id":"0","guid":"DDC9B86D9461466093C23CB010F81496","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"147446","previous_id":"977407","original_id":"0","guid":"90CCFCD4B4C6451B8480AD0F1E62E72F","previous_guid":"DDC9B86D9461466093C23CB010F81496","component_type_id":"1","data_id":"0","data":"Count the number of reads in the negative cleaned virome samples that are homologous to known HPyV genomes.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Count the number of reads in the negative cleaned virome samples that are homologous to known HPyV genomes."},"is_project":0},{"component_id":"147447","previous_id":"147446","original_id":"0","guid":"DCA0152C69A942FAAD34A54CC055F79F","previous_guid":"90CCFCD4B4C6451B8480AD0F1E62E72F","component_type_id":"15","data_id":"437","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/detect_HPyV_in_dataset\nmkdir .\/detect_HPyV_in_dataset\/negative_clean_virome_hits\n\nrun.blastn.hpyv () {\n    blastn -query .\/negative_clean_seqs\/${1} -out .\/detect_HPyV_in_dataset\/negative_clean_virome_hits\/${1} -db .\/references\/HPyV_reference_genomes\/HPyV_database -outfmt 6 -num_threads 2 -max_target_seqs 1 -evalue 1e-3\n}\nexport -f run.blastn.hpyv\nls .\/negative_clean_seqs\/* | sed -e 's\/^.*\\\/.*\\\/\/\/g' | xargs -I {} --max-procs=128 sh -c 'run.blastn.hpyv {}'\nwait","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141148","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"FFE73F926476401CBA11225FB48AE5F0","previous_guid":"DB82BA87823944F5B510A56C56D12417","previous_id":"141147","last_modified":"1502718705","components":[{"component_id":"977408","previous_id":0,"original_id":"0","guid":"6541C22CD978488499760DD922A71B82","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"147448","previous_id":"977408","original_id":"0","guid":"FF5DE71CF931410EA64145F204EE8CC2","previous_guid":"6541C22CD978488499760DD922A71B82","component_type_id":"1","data_id":"0","data":"Count the number of reads in the non human decontaminated virome samples that are similar to known HPyV genomes.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Count the number of reads in the non human decontaminated virome samples that are similar to known HPyV genomes."},"is_project":0},{"component_id":"147449","previous_id":"147448","original_id":"0","guid":"B1C717195BAF49688090D3468FA94270","previous_guid":"FF5DE71CF931410EA64145F204EE8CC2","component_type_id":"15","data_id":"438","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/detect_HPyV_in_dataset\/human_deconseq_virome_hits\nmkdir .\/detect_HPyV_in_dataset\/human_deconseq_virome_fastas","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141149","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"184C198250B7458BBCCEB77EE5266E34","previous_guid":"FFE73F926476401CBA11225FB48AE5F0","previous_id":"141148","last_modified":"1502718705","components":[{"component_id":"977409","previous_id":0,"original_id":"0","guid":"7684057F671B46A9A55160DC44F40939","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"147450","previous_id":"977409","original_id":"0","guid":"8C588B9763A9400E83435CC495602A79","previous_guid":"7684057F671B46A9A55160DC44F40939","component_type_id":"1","data_id":"0","data":"Convert the fastq files to fasta before performing blastn.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Convert the fastq files to fasta before performing blastn."},"is_project":0},{"component_id":"147451","previous_id":"147450","original_id":"0","guid":"E4698A063EDC4FD1B06FAD4D6E667519","previous_guid":"8C588B9763A9400E83435CC495602A79","component_type_id":"15","data_id":"439","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for file in $(ls .\/cont_fastq\/*R1* | sed -e 's\/^.*\\\/.*\\\/\/\/g' | sed 's\/\\.fastq\/\/'); do\n    .\/idba_ud-1.0.9\/bin\/fq2fa .\/cont_fastq\/${file}.fastq .\/detect_HPyV_in_dataset\/human_deconseq_virome_fastas\/${file}.fasta\ndone","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141150","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"545CF976F339400CB7288B183AB4F6A2","previous_guid":"184C198250B7458BBCCEB77EE5266E34","previous_id":"141149","last_modified":"1502718705","components":[{"component_id":"977410","previous_id":0,"original_id":"0","guid":"945B4D0DE3244CA189FBC3CF478F3734","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"147452","previous_id":"977410","original_id":"0","guid":"4043A12FFA184713950ABE741B3815E7","previous_guid":"945B4D0DE3244CA189FBC3CF478F3734","component_type_id":"1","data_id":"0","data":"Run blastn.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Run blastn."},"is_project":0},{"component_id":"147453","previous_id":"147452","original_id":"0","guid":"3C7F8B7452834A96BFD4DF1118A80403","previous_guid":"4043A12FFA184713950ABE741B3815E7","component_type_id":"8","data_id":"22","data":null,"order_id":"2","name":"Software package","data_by_id":"1","type_id":"8","source_data":{"id":"22","name":"BLAST Toolkit","developer":"NCBI","repository":"ftp:\/\/ftp.ncbi.nlm.nih.gov\/blast\/executables\/blast+\/LATEST\/","link":"https:\/\/blast.ncbi.nlm.nih.gov\/Blast.cgi?PAGE_TYPE=BlastDocs&DOC_TYPE=Download","os_name":"Unix","os_version":"","version":"2.2.0","can_edit":"0"},"is_project":0},{"component_id":"147454","previous_id":"147453","original_id":"0","guid":"31866E8A211E4E27A50DCA8B958093F0","previous_guid":"3C7F8B7452834A96BFD4DF1118A80403","component_type_id":"15","data_id":"440","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/detect_HPyV_in_dataset\/errors\nrun.blastn.hpyv () {\n    module load ncbi-blast-2.2.0\n    blastn -query .\/detect_HPyV_in_dataset\/human_deconseq_virome_fastas\/${1} -out .\/detect_HPyV_in_dataset\/human_deconseq_virome_hits\/${1} -db .\/references\/HPyV_reference_genomes\/HPyV_database -outfmt 6 -num_threads 2 -max_target_seqs 1 -evalue 1e-3\n}\nexport -f run.blastn.hpyv\nls .\/detect_HPyV_in_dataset\/human_deconseq_virome_fastas\/* | sed -e 's\/^.*\\\/.*\\\/\/\/g' | xargs -I {} --max-procs=128 sh -c 'run.blastn.hpyv {}'\nwait","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141151","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"A57B4D84EB9A48E8A8B4B6C186A1600C","previous_guid":"545CF976F339400CB7288B183AB4F6A2","previous_id":"141150","last_modified":"1502718705","components":[{"component_id":"977411","previous_id":0,"original_id":"0","guid":"3FF0EB8225974845BCC9DDB103151AFD","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"147455","previous_id":"977411","original_id":"0","guid":"B014370CFFDC426FB18297ED628F599B","previous_guid":"3FF0EB8225974845BCC9DDB103151AFD","component_type_id":"1","data_id":"0","data":"Count the number of reads in the human decontaminated whole metagenome samples that are similar to known HPyV genomes.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Count the number of reads in the human decontaminated whole metagenome samples that are similar to known HPyV genomes."},"is_project":0},{"component_id":"147456","previous_id":"147455","original_id":"0","guid":"0CE8E2338F98471C9F94FB38D0E94E63","previous_guid":"B014370CFFDC426FB18297ED628F599B","component_type_id":"15","data_id":"441","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/detect_HPyV_in_dataset\/human_and_phiX_decon_skin_met\nmkdir .\/detect_HPyV_in_dataset\/human_and_phiX_decon_skin_met_fastas","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141152","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"852D6AF0C8E745C68B723E59FDA83051","previous_guid":"A57B4D84EB9A48E8A8B4B6C186A1600C","previous_id":"141151","last_modified":"1502718705","components":[{"component_id":"977412","previous_id":0,"original_id":"0","guid":"EC6F43424D1E41B79D426B882BFD5F0F","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"147457","previous_id":"977412","original_id":"0","guid":"7C324EF93A6B41BE879E77971E14B9D4","previous_guid":"EC6F43424D1E41B79D426B882BFD5F0F","component_type_id":"1","data_id":"0","data":"Convert the fastq files to fasta before performing blastn.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Convert the fastq files to fasta before performing blastn."},"is_project":0},{"component_id":"147458","previous_id":"147457","original_id":"0","guid":"DCD3C1D70EDA4B3CA0EED9AC4D0E3F58","previous_guid":"7C324EF93A6B41BE879E77971E14B9D4","component_type_id":"15","data_id":"442","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for file in $(ls .\/clean_phix_fastq\/*R1* | sed -e 's\/^.*\\\/.*\\\/\/\/g' | sed 's\/\\.fastq\/\/'); do\n    .\/idba_ud-1.0.9\/bin\/fq2fa .\/clean_phix_fastq\/${file}.fastq .\/detect_HPyV_in_dataset\/human_and_phiX_decon_skin_met_fastas\/${file}.fasta\ndone\n\nrun.blastn.hpyv () {\n    blastn -query .\/detect_HPyV_in_dataset\/human_and_phiX_decon_skin_met_fastas\/${1} -out .\/detect_HPyV_in_dataset\/human_and_phiX_decon_skin_met\/${1} -db .\/references\/HPyV_reference_genomes\/HPyV_database -outfmt 6 -num_threads 2 -max_target_seqs 1 -evalue 1e-3\n}\nexport -f run.blastn.hpyv\nls .\/detect_HPyV_in_dataset\/human_and_phiX_decon_skin_met_fastas\/* | sed -e 's\/^.*\\\/.*\\\/\/\/g' | xargs -I {} --max-procs=128 sh -c 'run.blastn.hpyv {}'\nwait","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141153","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"70159DEA335C451A947CBAC1EC71BDE4","previous_guid":"852D6AF0C8E745C68B723E59FDA83051","previous_id":"141152","last_modified":"1502718705","components":[{"component_id":"977413","previous_id":0,"original_id":"0","guid":"31402FB92CFA42DFBF753C2F9F4DA717","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"147459","previous_id":"977413","original_id":"0","guid":"5B6C929E2C2B4BAFB6D439C0F4D9BB3A","previous_guid":"31402FB92CFA42DFBF753C2F9F4DA717","component_type_id":"1","data_id":"0","data":"Count the number of reads in the non human decontaminated whole metagenome samples that are similar to known HPyV genomes.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Count the number of reads in the non human decontaminated whole metagenome samples that are similar to known HPyV genomes."},"is_project":0},{"component_id":"147460","previous_id":"147459","original_id":"0","guid":"9E47F03646C34099A842929839E8F69D","previous_guid":"5B6C929E2C2B4BAFB6D439C0F4D9BB3A","component_type_id":"15","data_id":"443","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"mkdir .\/detect_HPyV_in_dataset\/human_and_phiX_cont_skin_met\nmkdir .\/detect_HPyV_in_dataset\/human_and_phiX_cont_skin_met_fastas","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141154","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"C1457F3EB7ED40B686C67C6CC9686A56","previous_guid":"70159DEA335C451A947CBAC1EC71BDE4","previous_id":"141153","last_modified":"1502718705","components":[{"component_id":"977414","previous_id":0,"original_id":"0","guid":"674FC50276544BC2BA3B908CBF0E9B76","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"147461","previous_id":"977414","original_id":"0","guid":"ED9C2025E9754F1FA4C078A783D39172","previous_guid":"674FC50276544BC2BA3B908CBF0E9B76","component_type_id":"1","data_id":"0","data":"Convert the fastq files to fasta before performing blastn.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Convert the fastq files to fasta before performing blastn."},"is_project":0},{"component_id":"147462","previous_id":"147461","original_id":"0","guid":"108E3C58800D4130827D21CA810BEB52","previous_guid":"ED9C2025E9754F1FA4C078A783D39172","component_type_id":"15","data_id":"444","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for file in $(ls .\/deconseq_fastq\/*_R1*\/*cont* | sed -e 's\/^.*deconseq_fastq\\\/\\(.*fastq\\).*\/\\1\/' | sed 's\/\\.fastq\/\/'); do\n    echo Converting file ${file}...\n    .\/idba_ud-1.0.9\/bin\/fq2fa .\/deconseq_fastq\/${file}.fastq\/*_cont.fq .\/detect_HPyV_in_dataset\/human_and_phiX_cont_skin_met_fastas\/${file}.fasta\ndone\n\nrun.blastn.hpyv () {\n    blastn -query .\/detect_HPyV_in_dataset\/human_and_phiX_cont_skin_met_fastas\/${1} -out .\/detect_HPyV_in_dataset\/human_and_phiX_cont_skin_met\/${1} -db .\/references\/HPyV_reference_genomes\/HPyV_database -outfmt 6 -num_threads 2 -max_target_seqs 1 -evalue 1e-3\n}\nexport -f run.blastn.hpyv\nls .\/detect_HPyV_in_dataset\/human_and_phiX_cont_skin_met_fastas\/* | sed -e 's\/^.*\\\/.*\\\/\/\/g' | xargs -I {} --max-procs=128 sh -c 'run.blastn.hpyv {}'\nwait","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"141155","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"D614D04422D4499A890D5D3650171F75","previous_guid":"C1457F3EB7ED40B686C67C6CC9686A56","previous_id":"141154","last_modified":"1502718705","components":[{"component_id":"977415","previous_id":0,"original_id":"0","guid":"D7F36A4BDD3B45C7BF8AEF176DFC5E7A","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"147463","previous_id":"977415","original_id":"0","guid":"FEDA89D9F5AC4369B6B03016D48385D6","previous_guid":"D7F36A4BDD3B45C7BF8AEF176DFC5E7A","component_type_id":"1","data_id":"0","data":"Quantify the numbers of HPyV reads in all of the sample sets.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Quantify the numbers of HPyV reads in all of the sample sets."},"is_project":0},{"component_id":"147464","previous_id":"147463","original_id":"0","guid":"FE89AADBD23C43B5B219F2D077C0AAA7","previous_guid":"FEDA89D9F5AC4369B6B03016D48385D6","component_type_id":"15","data_id":"445","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"wc -l .\/detect_HPyV_in_dataset\/negative_clean_virome_hits\/* | sed 's\/^ *\/\/g' | sed 's\/ \/\\t\/' | grep -v 'total' | sed 's\/\\.\\\/.*\\\/\/\/' | sed 's\/_R1\\.fa\/\/' > .\/detect_HPyV_in_dataset\/negative_clean_virome_hit_HPyV_count.tsv\nwc -l .\/detect_HPyV_in_dataset\/human_deconseq_virome_hits\/* | sed 's\/^ *\/\/g' | sed 's\/ \/\\t\/' | grep -v 'total' | sed 's\/\\.\\\/.*\\\/\/\/' | sed 's\/_R1\\.fasta\/\/' > .\/detect_HPyV_in_dataset\/human_contaminated_virome_hit_HPyV_count.tsv\nwc -l .\/detect_HPyV_in_dataset\/human_and_phiX_decon_skin_met\/* | sed 's\/^ *\/\/g' | sed 's\/ \/\\t\/' | grep -v 'total' | sed 's\/\\.\\\/.*\\\/\/\/' | sed 's\/_R1\\.fasta\/\/' > .\/detect_HPyV_in_dataset\/decontaminated_skin_met_hit_HPyV_count.tsv\nwc -l .\/detect_HPyV_in_dataset\/human_and_phiX_cont_skin_met\/* | sed 's\/^ *\/\/g' | sed 's\/ \/\\t\/' | grep -v 'total' | sed 's\/\\.\\\/.*\\\/\/\/' | sed 's\/_R1\\.fasta\/\/' > .\/detect_HPyV_in_dataset\/human_contaminated_skin_met_hit_HPyV_count.tsv","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]}]}