{"uri":"genome-wide-kozak-sequence-free-energy-analysis-h9mb946","version_id":"0","protocol_name":"Genome-wide Kozak Sequence Free Energy Analysis","protocol_name_html":"Genome-wide Kozak Sequence Free Energy Analysis","is_prepublished":"0","can_edit":"0","parent_id":null,"api_version":"2","is_new_mode":"1","last_modified":"1520575202","type_id":"1","link":"","fork_id":"","public_fork_note":"","number_of_steps":"6","has_versions":"0","first_published_date":"1506697362","publish_date":"2017-09-29 15:02:42","documents":null,"have_protocol_in_step":"0","is_protocol_in_step":"0","vendor_name":"Contributed by users","vendor_link":"https:\/\/www.protocols.io","vendor_logo":"\/img\/vendors\/1.png","mod_mins":"-45","mod_secs":"1","description":"<p><span style=\"font-weight: 400;\">The purpose of this protocol is to evaluate the significance of delta G values, as a strategy to determine the significance of secondary structure. Sequences are shuffled randomly 100x, maintaining base composition but not base order. The percentile of the delta G vlaue of the non-scrambled\u00a0(original) sequence is obtained from the distribution created by the delta\u00a0G values of the 100X scrambled sequences.<\/span><\/p>","is_bookmarked":"0","can_reassign":"1","before_start":"","has_guidelines":"0","materials":[],"warning":"","version_class":"6157","public":"1","is_owner":"1","is_original_owner":"1","created_on":"1496354303","protocol_affiliation":"Stony Brook University","affiliation":null,"doi":"dx.doi.org\/10.17504\/protocols.io.h9mb946","doi_status":"2","changed_fork_steps":null,"profile_url":"w2x28403s2","protocol_img":"https:\/\/s3.amazonaws.com\/pr-journal\/j6udtyn.jpg","profile_image":"\/img\/avatars\/002.png","full_name":"Mariana Rius","created_by":"Mariana Rius","private_link":"921D333B26ACCACA215E2780D3E7FC84","original_img":"1","username":"mariana-rius","is_retracted":"0","retraction_reason":null,"plos_id":null,"manuscript_citation":null,"journal_name":null,"is_donations_disabled":"0","is_donations_disabled_by_user":"9","item_record_id":225653,"fork_info":[],"compare_forks":[],"protocols":[],"groups":[{"group_id":"108","group_uri":"protg","group_name":"Protist Research to Optimize Tools in Genetics (PROT-G)","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/e3addmn.png","requested_uid":null,"request_flag":null,"my_request":"1"},{"group_id":"124","group_uri":"collier-lab","group_name":"Collier Lab","group_logo":"","requested_uid":null,"request_flag":null,"my_request":"1"}],"number_of_shared_runs":[],"ownership_history":[],"keywords":"","transfer_to_user":[],"sub_transfer":false,"is_transfer_pending":false,"number_of_bookmarks":"0","collections":[],"tags":[],"archived":0,"sub_authors":[],"sub_protocols_number":0,"can_edit_shared":0,"shared_runs":[],"is_shared_run":0,"is_shared":1,"banner":null,"contact_badges":[{"badge_id":"3","badge_image":"\/img\/badges\/silver.svg","badge_description":"Power author!"},{"badge_id":"5","badge_image":"\/img\/badges\/earlyadopter.svg","badge_description":"Early adopter"},{"badge_id":"6","badge_image":"\/img\/badges\/socialbutterfly.svg","badge_description":"Social butterfly"}],"number_of_comments":0,"big_protocol_img":"https:\/\/s3.amazonaws.com\/pr-journal\/j6tdtyn.jpg","big_protocol_img_ofn":"sh1_100percentilehist.jpg","is_locked":0,"is_locked_by":false,"authors":"Mariana Rius,Joshua Rest","authors_list":[{"name":"Mariana Rius","affiliation":"Stony Brook University","username":"mariana-rius","profile_image":"\/img\/avatars\/002.png"},{"name":"Joshua Rest","affiliation":"Stony Brook University","username":"joshua-rest","profile_image":"\/img\/avatars\/011.png"}],"user":{"profile_image":"\/img\/avatars\/002.png","username":"mariana-rius","full_name":"Mariana Rius","created_by":"Mariana Rius"},"access":{"can_view":"1","can_remove":"0","can_add":"0","can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":"0","can_move":"1","can_transfer":"1","can_download":"1","is_locked":"0"},"is_contact_suspended":0,"guidelines":"","status_id":"1","is_research":"1","status_info":null,"steps":[{"id":"549461","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"F51C96DC6434436BB2630443A40D4711","previous_guid":null,"previous_id":"0","last_modified":"1496360400","components":[{"component_id":"904969","previous_id":0,"original_id":"0","guid":"E921E6538B00419D9AEB5C627FDAB8D7","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Create object loading Sh.wg.promC.ATG26.fasta<\/p>\n<p>Previously created in \"Genome-wide Kozak Sequence Over-represented Motif Analysis\" found here:<\/p>\n<p>https:\/\/www.protocols.io\/view\/genome-wide-kozak-sequence-over-represented-motif-hikb4cw<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Create object loading Sh.wg.promC.ATG26.fasta<\/p>\n<p>Previously created in \"Genome-wide Kozak Sequence Over-represented Motif Analysis\" found here:<\/p>\n<p>https:\/\/www.protocols.io\/view\/genome-wide-kozak-sequence-over-represented-motif-hikb4cw<\/p>"},"is_project":0},{"component_id":"904951","previous_id":"904969","original_id":"0","guid":"5BEF7324EC894417A566E118928A17EB","previous_guid":"E921E6538B00419D9AEB5C627FDAB8D7","component_type_id":"6","data_id":"0","data":"Load fasta file created previously and use mfold to obtain delta G values","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Load fasta file created previously and use mfold to obtain delta G values"},"is_project":0},{"component_id":"905148","previous_id":"904951","original_id":"0","guid":"A212AE9A703340BCB72F2570DFF107A1","previous_guid":"5BEF7324EC894417A566E118928A17EB","component_type_id":"26","data_id":"15470","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"15470","thread_id":"15470","id":"15470","thread_title":"Annotation on step 1 of Genome-wide Kozak Sequence Free Energy Analysis","uri":"annotation-on-step-1-of-genomewide-kozak-sequence1","thread_uri":"annotation-on-step-1-of-genomewide-kozak-sequence1","step_id":"549461","protocol_uri":"genome-wide-kozak-sequence-free-energy-analysis-h9mb946","protocol_name":"Genome-wide Kozak Sequence Free Energy Analysis","protocol_name_html":"Genome-wide Kozak Sequence Free Energy Analysis","annotation":"<p>Using R version 3.3.2 and the following packages:<br \/>doBy (doBy_4.5-15)<br \/>data.table (data.table_1.10.0)<br \/>seqinr (seqinr_3.3-3)<\/p>\n<p>\u00a0<\/p>\n<p>Using mfold version 3.6<\/p>","thread_text":"<p>Using R version 3.3.2 and the following packages:<br \/>doBy (doBy_4.5-15)<br \/>data.table (data.table_1.10.0)<br \/>seqinr (seqinr_3.3-3)<\/p>\n<p>\u00a0<\/p>\n<p>Using mfold version 3.6<\/p>","body":"<p>Using R version 3.3.2 and the following packages:<br \/>doBy (doBy_4.5-15)<br \/>data.table (data.table_1.10.0)<br \/>seqinr (seqinr_3.3-3)<\/p>\n<p>\u00a0<\/p>\n<p>Using mfold version 3.6<\/p>","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1496357589","created_on":"1496357589","modified_on":"1496360400","last_updated":"1496360400","profile_image":"\/img\/avatars\/002.png","full_name":"Mariana Rius","affiliation":null,"username":"mariana-rius","email":"mariana.rius@stonybrook.edu","pa_useranme":"mariana-rius","comments":[]},"is_project":0},{"component_id":"904987","previous_id":"905148","original_id":"0","guid":"F88DE307030D4642BAD620225DD31E3F","previous_guid":"A212AE9A703340BCB72F2570DFF107A1","component_type_id":"15","data_id":"1791","data":"","order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sh.seq <- read.fasta(\"Sh.wg.promC.ATG26.fasta\")\n\nsystem(paste(\"mfold_quik MAX=1 SEQ='Sh.wg.promC.ATG26.fasta'\"))","description":"Loading previously created fasta file and obtaining the delta G values for each sequence.","os_name":"R","os_version":"3.3.2","can_edit":"1"},"is_project":0}]},{"id":"549555","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"0D84D38B55E94548A070B77209FB056C","previous_guid":"F51C96DC6434436BB2630443A40D4711","previous_id":"549461","last_modified":"1496358837","components":[{"component_id":"905209","previous_id":0,"original_id":"0","guid":"FB2EFCD23AAB4765A1BC3FDD776C0E46","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Create 100 sequences for each fragment randomly\u00a0scrambling the base pairs to form new scrambled fragments. Use mfold (version 3.6) to calculate the delta g value of each fragment (original sequence and scrambled sequences).\u00a0<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Create 100 sequences for each fragment randomly\u00a0scrambling the base pairs to form new scrambled fragments. Use mfold (version 3.6) to calculate the delta g value of each fragment (original sequence and scrambled sequences).\u00a0<\/p>"},"is_project":0},{"component_id":"905153","previous_id":"905209","original_id":"0","guid":"435B810A442E441686D7415B76E00ED7","previous_guid":"FB2EFCD23AAB4765A1BC3FDD776C0E46","component_type_id":"6","data_id":"0","data":"Create file of 100 additional scrambled sequences for each gene and calculate the delta G value of each","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Create file of 100 additional scrambled sequences for each gene and calculate the delta G value of each"},"is_project":0},{"component_id":"905169","previous_id":"905153","original_id":"0","guid":"62DACE3DC2754AE08B36C23A0EDEDB45","previous_guid":"435B810A442E441686D7415B76E00ED7","component_type_id":"26","data_id":"15471","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"15471","thread_id":"15471","id":"15471","thread_title":"Annotation on step 2 of Genome-wide Kozak Sequence Free Energy Analysis","uri":"annotation-on-step-2-of-genomewide-kozak-sequence","thread_uri":"annotation-on-step-2-of-genomewide-kozak-sequence","step_id":"549555","protocol_uri":"genome-wide-kozak-sequence-free-energy-analysis-h9mb946","protocol_name":"Genome-wide Kozak Sequence Free Energy Analysis","protocol_name_html":"Genome-wide Kozak Sequence Free Energy Analysis","annotation":"<p>Using\u00a0mfold version 3.6<\/p>\n<p>\u00a0<\/p>","thread_text":"<p>Using\u00a0mfold version 3.6<\/p>\n<p>\u00a0<\/p>","body":"<p>Using\u00a0mfold version 3.6<\/p>\n<p>\u00a0<\/p>","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1496358268","created_on":"1496358268","modified_on":null,"last_updated":null,"profile_image":"\/img\/avatars\/002.png","full_name":"Mariana Rius","affiliation":null,"username":"mariana-rius","email":"mariana.rius@stonybrook.edu","pa_useranme":"mariana-rius","comments":[]},"is_project":0},{"component_id":"905165","previous_id":"905169","original_id":"0","guid":"1FC02B67CB25493E8235FBDAB8BEEE52","previous_guid":"62DACE3DC2754AE08B36C23A0EDEDB45","component_type_id":"15","data_id":"1792","data":"","order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sh.seq2 <- lapply(sh.seq,function(dx) {\n  sh.seq3 <-lapply(1:100,function(ddx) {\n    paste(sample(dx),collapse=\"\")})\n  write.fasta(sequences=sh.seq3,file=attr(dx,\"name\"),as.string=TRUE,names=1:10) \n  system(paste(\"mfold_quik MAX=1 SEQ='\/scramseq100\/\",attr(dx,\"name\"),\"'\",sep=\"\"))\n}\n)","description":"Creates 100 additional 53bp fragments by scrambling the base pairs of the original fragment.","os_name":"R","os_version":"3.3.2","can_edit":"1"},"is_project":0}]},{"id":"549778","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"9BE8B89B146B49E597D67E7117379C1A","previous_guid":"0D84D38B55E94548A070B77209FB056C","previous_id":"549555","last_modified":"1506696293","components":[{"component_id":"906041","previous_id":0,"original_id":"0","guid":"38208F9D50314EADB376F8A0CB74CF91","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>In the shell, run grep command to create a file of only the lowest delta g values for each sequence.\u00a0<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>In the shell, run grep command to create a file of only the lowest delta g values for each sequence.\u00a0<\/p>"},"is_project":0},{"component_id":"905999","previous_id":"906041","original_id":"0","guid":"9BB35CEE6FF8495283B16E8E2A80718E","previous_guid":"38208F9D50314EADB376F8A0CB74CF91","component_type_id":"6","data_id":"0","data":"Use grep to isolate the lowest delta g value for each sequence","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Use grep to isolate the lowest delta g value for each sequence"},"is_project":0},{"component_id":"905998","previous_id":"905999","original_id":"0","guid":"358F83497EDB4EE6AAD5B21C84FD509A","previous_guid":"9BB35CEE6FF8495283B16E8E2A80718E","component_type_id":"15","data_id":"1793","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"grep \" dG\" \/scramseq100\/*.det > sh100scrambledG.txt","description":"Obtain the lowest delta G value for each fragment.","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"549832","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"D377AC775A5C4821860DA558D3832561","previous_guid":"9BE8B89B146B49E597D67E7117379C1A","previous_id":"549778","last_modified":"1496359204","components":[{"component_id":"906126","previous_id":0,"original_id":"0","guid":"E8F9093D67B843229C4EB6F0F23E5117","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Use fread to load the file. Use strsplit to organize data in a useful manner.<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Use fread to load the file. Use strsplit to organize data in a useful manner.<\/p>"},"is_project":0},{"component_id":"906113","previous_id":"906126","original_id":"0","guid":"43C6B4EBDDA4412EBAA15D461B7EAAF1","previous_guid":"E8F9093D67B843229C4EB6F0F23E5117","component_type_id":"6","data_id":"0","data":"Load file in R and reorganize data table","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Load file in R and reorganize data table"},"is_project":0},{"component_id":"906124","previous_id":"906113","original_id":"0","guid":"A01EFFA238524B20B2288A247ED1EC5C","previous_guid":"43C6B4EBDDA4412EBAA15D461B7EAAF1","component_type_id":"15","data_id":"1794","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sh100dGs <- fread(\"sh100scrambledG.txt\")\nsh100dGs[ , id := sapply(V1, function(v1also) strsplit(strsplit(v1also,\"\/\")[[1]][7], \"[.]\")[[1]][1])]\n\nsh100dGs[,c(\"V1\", \"V2\", \"V3\"):=NULL]","description":"","os_name":"R","os_version":"3.3.2","can_edit":"1"},"is_project":0}]},{"id":"549866","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"C24B2FA7E8F44F7198412A894D61C8CD","previous_guid":"D377AC775A5C4821860DA558D3832561","previous_id":"549832","last_modified":"1496360499","components":[{"component_id":"906382","previous_id":0,"original_id":"0","guid":"2F8AD4F1DA9348418DB0FABDBE8067F7","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Load file created previously by mfold ('Sh.wg.promC.ATG26.fasta.ct') and reorganize table.<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Load file created previously by mfold ('Sh.wg.promC.ATG26.fasta.ct') and reorganize table.<\/p>"},"is_project":0},{"component_id":"906192","previous_id":"906382","original_id":"0","guid":"96B7A900F6AD4E589E2F5C882BA8A744","previous_guid":"2F8AD4F1DA9348418DB0FABDBE8067F7","component_type_id":"6","data_id":"0","data":"Create table of critical values representing the delta g of the original sequence fragments","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Create table of critical values representing the delta g of the original sequence fragments"},"is_project":0},{"component_id":"906331","previous_id":"906192","original_id":"0","guid":"DAA2435616BA44C0B7F337CBDC4BA57E","previous_guid":"96B7A900F6AD4E589E2F5C882BA8A744","component_type_id":"15","data_id":"1795","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"sh <- read.table(\"Sh.wg.promC.ATG26.fasta.ct\", header= FALSE, fill = TRUE) \nsh.deltag <-sh[sh$V2 == \"dG\",]\nsh.deltag.t <- sh.deltag[!duplicated(sh.deltag$V5),] \n\nsh.crit <- data.table( dG = sh.deltag.t$V4, id = as.character(sh.deltag.t$V5), key='id')","description":"Load previously created file from mfold script in regards to Kozak sequences from Schizochytrium genome. Creates and organizes a table for use in comparison with the scrambled delta g values.","os_name":"R","os_version":"3.3.2","can_edit":"1"},"is_project":0}]},{"id":"549989","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"C284CD05BFD74CFE94E63FCA3C5625F4","previous_guid":"C24B2FA7E8F44F7198412A894D61C8CD","previous_id":"549866","last_modified":"1506696319","components":[{"component_id":"906471","previous_id":0,"original_id":"0","guid":"66369114AA944F46B7DA68083576EEF9","previous_guid":null,"component_type_id":"1","data_id":"0","data":"<p>Set the key for each data table and use ecdf() to create a distribution\u00a0for each gene from the delta G values of the 100 scrambled fragments and obtain the percentile of the original delta G value when compared to the distribution.\u00a0<\/p>","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Set the key for each data table and use ecdf() to create a distribution\u00a0for each gene from the delta G values of the 100 scrambled fragments and obtain the percentile of the original delta G value when compared to the distribution.\u00a0<\/p>"},"is_project":0},{"component_id":"906448","previous_id":"906471","original_id":"0","guid":"27C2B18C39A042F6A06BD3FC2E780120","previous_guid":"66369114AA944F46B7DA68083576EEF9","component_type_id":"6","data_id":"0","data":"Obtain percentile for each original value when fit among distribution of delta G values from its scrambled fragments","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Obtain percentile for each original value when fit among distribution of delta G values from its scrambled fragments"},"is_project":0},{"component_id":"906469","previous_id":"906448","original_id":"0","guid":"F5D7EF8F5FAF4CE6BA23EF2251DD5713","previous_guid":"27C2B18C39A042F6A06BD3FC2E780120","component_type_id":"15","data_id":"1796","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"setkey(sh100dGs, id)\nsetkey(sh.crit, id)\n\nsh.100dGs <- sh100dGs[sh.crit, nomatch=0]\n\nbi <- data.table()\ndG <- NULL\npercentile <- c()\nidentity <- c()\n\n\nfor(i in 1:length(unique(sh.100dGs$id))){\n  bi <- sh.100dGs[sh.100dGs$id == unique(sh.100dGs$id)[i],]\n  values <- bi$V4\n  id <- bi$id[1]\n  dG <- (bi$dG)[1]\n  info <- ecdf(values)\n  percentile <- c(percentile, info(dG))\n  identity <- c(identity, id)\n}\nsh.100percentiles <- data.table(percentile = percentile, id = identity)","description":"Sets the key for each data table and uses ecdf() to obtain a percentile value of the original delta G value when compared to a distribution created by the delta G values of its 100 scrambled fragments.","os_name":"R","os_version":"3.3.2","can_edit":"1"},"is_project":0}]}]}