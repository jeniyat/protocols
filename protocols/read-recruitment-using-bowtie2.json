{"uri":"read-recruitment-using-bowtie2-ketcten","version_id":"4","protocol_name":"Read Recruitment Using Bowtie2","protocol_name_html":"Read Recruitment Using Bowtie2","is_prepublished":"0","can_edit":"0","parent_id":"8288","api_version":"1","is_new_mode":"0","last_modified":"1518761461","type_id":"1","link":null,"fork_id":"","public_fork_note":"","number_of_steps":"14","has_versions":"1","first_published_date":"1508806674","publish_date":"2017-10-24 00:57:54","documents":null,"have_protocol_in_step":"0","is_protocol_in_step":"0","vendor_name":"Contributed by users","vendor_link":"https:\/\/www.protocols.io","vendor_logo":"\/img\/vendors\/1.png","mod_mins":"-45","mod_secs":"1","description":"<p>This protocol details how to perform read recruitement to the contigs generated from the previous protocol using Bowtie2.\u00a0<\/p>","is_bookmarked":"0","can_reassign":"1","before_start":null,"has_guidelines":"0","materials":[],"warning":null,"version_class":"8288","public":"1","is_owner":"1","is_original_owner":"1","created_on":"1508805965","protocol_affiliation":"Hurwitz Lab ","affiliation":"Hurwitz Lab ","doi":"dx.doi.org\/10.17504\/protocols.io.ketcten","doi_status":"2","changed_fork_steps":null,"profile_url":"James-w2u264z2w2","protocol_img":"https:\/\/s3.amazonaws.com\/pr-journal\/phdc2w6.png","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/67c2w6.jpg","full_name":"James Thornton Jr","created_by":"James Thornton Jr","private_link":"4D01D183D07A7B5F6A3E446FA99BDA64","original_img":"1","username":"james-thornton-jr","is_retracted":"0","retraction_reason":null,"plos_id":null,"manuscript_citation":null,"journal_name":null,"is_donations_disabled":"0","is_donations_disabled_by_user":"9","item_record_id":219780,"fork_info":[],"compare_forks":[],"protocols":[],"groups":[{"group_id":"464","group_uri":"metafunc-course-2017","group_name":"Metafunc Course 2017","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/m3qbvtw.png","requested_uid":null,"request_flag":null,"my_request":"1"}],"number_of_shared_runs":[],"ownership_history":[],"keywords":"","transfer_to_user":[],"sub_transfer":false,"is_transfer_pending":false,"number_of_bookmarks":"0","collections":[],"tags":[],"archived":0,"sub_authors":[],"sub_protocols_number":0,"can_edit_shared":0,"shared_runs":[],"is_shared_run":0,"is_shared":1,"banner":null,"contact_badges":[{"badge_id":"1","badge_image":"\/img\/ambassador.svg","badge_description":"Ambassador"},{"badge_id":"4","badge_image":"\/img\/badges\/gold.svg","badge_description":"Gold power author!"},{"badge_id":"5","badge_image":"\/img\/badges\/earlyadopter.svg","badge_description":"Early adopter"},{"badge_id":"6","badge_image":"\/img\/badges\/socialbutterfly.svg","badge_description":"Social butterfly"}],"number_of_comments":0,"big_protocol_img":"https:\/\/s3.amazonaws.com\/pr-journal\/phcc2w6.png","big_protocol_img_ofn":"screen shot 2017-10-17 at 11.57.41 am.png","is_locked":0,"is_locked_by":false,"authors":"James Thornton Jr","authors_list":[{"name":"James Thornton Jr","affiliation":"Hurwitz Lab ","username":"james-thornton-jr","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/67c2w6.jpg"}],"user":{"profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/67c2w6.jpg","username":"james-thornton-jr","full_name":"James Thornton Jr","created_by":"James Thornton Jr"},"access":{"can_view":"1","can_remove":"0","can_add":"0","can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":"0","can_move":"1","can_transfer":"1","can_download":"1","is_locked":"0"},"is_contact_suspended":0,"guidelines":null,"status_id":"1","is_research":"1","status_info":null,"steps":[{"id":"591876","is_changed":"0","original_id":"591862","is_skipped":"0","is_checked":"0","guid":"1C029CB1B8C645E58758223E46F03F89","previous_guid":null,"previous_id":null,"last_modified":"1508805965","components":[{"component_id":"1015041","previous_id":0,"original_id":"1014993","guid":"AF7DD50ABE8F4573AE0EE73909919CCE","previous_guid":null,"component_type_id":"6","data_id":null,"data":"","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":""},"is_project":0},{"component_id":"1015042","previous_id":"1015041","original_id":"1014994","guid":"F53E9F3203F0426DA0752400A9F237CE","previous_guid":"AF7DD50ABE8F4573AE0EE73909919CCE","component_type_id":"1","data_id":null,"data":"<p>Log into the HPC.<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Log into the HPC.<\/p>"},"is_project":0},{"component_id":"1015043","previous_id":"1015042","original_id":"1014995","guid":"61DB17526CDA4FFE96095891E598C19F","previous_guid":"F53E9F3203F0426DA0752400A9F237CE","component_type_id":"15","data_id":"2534","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ ssh hpc\n$ ocelote","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"591877","is_changed":"0","original_id":"591863","is_skipped":"0","is_checked":"0","guid":"183E6903CEB54D549F52A814EDD378CC","previous_guid":"20E162A5BA6240CCAA2948D7FFA01069","previous_id":"591889","last_modified":"1508805965","components":[{"component_id":"1015044","previous_id":0,"original_id":"1014996","guid":"82228F3F1A6D4F54B6A0238CC8770E12","previous_guid":null,"component_type_id":"6","data_id":null,"data":"","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":""},"is_project":0},{"component_id":"1015045","previous_id":"1015044","original_id":"1014997","guid":"423AD7B2886140E0A2EC9C59D67408D3","previous_guid":"82228F3F1A6D4F54B6A0238CC8770E12","component_type_id":"1","data_id":null,"data":"<p>Move into your project directory. Then create a 'read_recruit' directory. Move into that directory.\u00a0<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Move into your project directory. Then create a 'read_recruit' directory. Move into that directory.\u00a0<\/p>"},"is_project":0},{"component_id":"1015046","previous_id":"1015045","original_id":"1014998","guid":"7353A89ED28041C9B818D5D0AD950E88","previous_guid":"423AD7B2886140E0A2EC9C59D67408D3","component_type_id":"15","data_id":"2535","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ cd \/rsgrps\/bh_class\/username\n$ mkdir read_recruit\n$ cd !$","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"591878","is_changed":"0","original_id":"591864","is_skipped":"0","is_checked":"0","guid":"51992EF4C35F43E8A15F7F6DD688D980","previous_guid":"B50CD1999FE944D5856F37E42C9569AF","previous_id":"591883","last_modified":"1508805965","components":[{"component_id":"1015047","previous_id":0,"original_id":"1014999","guid":"C0830BD1128845979C6909721BC26A7B","previous_guid":null,"component_type_id":"6","data_id":null,"data":"","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":""},"is_project":0},{"component_id":"1015048","previous_id":"1015047","original_id":"1015000","guid":"37D8EF94004E4C9897AA9B0ABBE3272F","previous_guid":"C0830BD1128845979C6909721BC26A7B","component_type_id":"1","data_id":null,"data":"<p>Move into the assembly\/megahit-out directory created from the previous protocol.\u00a0<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Move into the assembly\/megahit-out directory created from the previous protocol.\u00a0<\/p>"},"is_project":0},{"component_id":"1015049","previous_id":"1015048","original_id":"1015001","guid":"177BE25662FE42A6B2A612CC293D7918","previous_guid":"37D8EF94004E4C9897AA9B0ABBE3272F","component_type_id":"15","data_id":"2536","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ cd \/rsgrps\/bh_class\/username\/assembly\/megahit-out","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"591879","is_changed":"0","original_id":"591865","is_skipped":"0","is_checked":"0","guid":"A07D11804D4544CD88C6E58BF5C6C4EB","previous_guid":"51992EF4C35F43E8A15F7F6DD688D980","previous_id":"591878","last_modified":"1508805965","components":[{"component_id":"1015050","previous_id":0,"original_id":"1015002","guid":"2156692E558D44B89FC9DB1A87C98F0E","previous_guid":null,"component_type_id":"6","data_id":null,"data":"","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":""},"is_project":0},{"component_id":"1015051","previous_id":"1015050","original_id":"1015003","guid":"442A2E0C3AF9433A86D0CF266615BB83","previous_guid":"2156692E558D44B89FC9DB1A87C98F0E","component_type_id":"1","data_id":null,"data":"<p>Simpifly the fasta headers of your final.contigs.fa file using fasta_renamer from the Fastx toolkit.\u00a0<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Simpifly the fasta headers of your final.contigs.fa file using fasta_renamer from the Fastx toolkit.\u00a0<\/p>"},"is_project":0},{"component_id":"1015052","previous_id":"1015051","original_id":"1015004","guid":"F11BC33048C9411EA326474DD5D753B8","previous_guid":"442A2E0C3AF9433A86D0CF266615BB83","component_type_id":"15","data_id":"2537","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ module load fastx\n$ fastx_renamer -n COUNT -i final.contigs.fa -o fixed-contigs.fa","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0},{"component_id":"1015053","previous_id":"1015052","original_id":"1015005","guid":"AFB7CD20704E4BA6916D1B6296C82DCA","previous_guid":"F11BC33048C9411EA326474DD5D753B8","component_type_id":"26","data_id":"16547","data":"","order_id":"3","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"16547","thread_id":"16547","id":"16547","thread_title":"Annotation on step 4 of Read Recruitment Using Bowtie2","uri":"annotation-on-step-4-of-read-recruitment-using-bowtie2","thread_uri":"annotation-on-step-4-of-read-recruitment-using-bowtie2","step_id":"591843","protocol_uri":"read-recruitment-using-bowtie2-keictce","protocol_name":"Read Recruitment Using Bowtie2","protocol_name_html":"Read Recruitment Using Bowtie2","annotation":"<p>Important: If you get 'This looks like a multi-line FASTA file', try this alternative method to rename sequence headers:<\/p>\n<p>\u00a0<\/p>\n<p>awk '\/^&gt;\/{print \"&gt;\" ++i; next}{print}' &lt; contigs_in.fa &gt; contigs_out.fa<\/p>\n<p>\u00a0<\/p>\n<p>\u00a0<\/p>","thread_text":"<p>Important: If you get 'This looks like a multi-line FASTA file', try this alternative method to rename sequence headers:<\/p>\n<p>\u00a0<\/p>\n<p>awk '\/^&gt;\/{print \"&gt;\" ++i; next}{print}' &lt; contigs_in.fa &gt; contigs_out.fa<\/p>\n<p>\u00a0<\/p>\n<p>\u00a0<\/p>","body":"<p>Important: If you get 'This looks like a multi-line FASTA file', try this alternative method to rename sequence headers:<\/p>\n<p>\u00a0<\/p>\n<p>awk '\/^&gt;\/{print \"&gt;\" ++i; next}{print}' &lt; contigs_in.fa &gt; contigs_out.fa<\/p>\n<p>\u00a0<\/p>\n<p>\u00a0<\/p>","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1508773025","created_on":"1508773025","modified_on":"1508778790","last_updated":"1508778790","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/67c2w6.jpg","full_name":"James Thornton Jr","affiliation":"Hurwitz Lab ","username":"james-thornton-jr","email":"jamesthornton@email.arizona.edu","pa_useranme":"james-thornton-jr","comments":[]},"is_project":0}]},{"id":"591880","is_changed":"0","original_id":"591866","is_skipped":"0","is_checked":"0","guid":"FCDFC41CAA314198AD7D8BED9341F709","previous_guid":"183E6903CEB54D549F52A814EDD378CC","previous_id":"591877","last_modified":"1508805965","components":[{"component_id":"1015054","previous_id":0,"original_id":"1015006","guid":"3812EA651CD84EBC858AE9476E25EEBE","previous_guid":null,"component_type_id":"6","data_id":null,"data":"","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":""},"is_project":0},{"component_id":"1015055","previous_id":"1015054","original_id":"1015007","guid":"A0B09513A4B646A9B309603C67D05618","previous_guid":"3812EA651CD84EBC858AE9476E25EEBE","component_type_id":"1","data_id":null,"data":"<p>Create a bam and bowtie2 index directory.\u00a0<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Create a bam and bowtie2 index directory.\u00a0<\/p>"},"is_project":0},{"component_id":"1015056","previous_id":"1015055","original_id":"1015008","guid":"3BF86A1B10154B648CA450F5CE72C227","previous_guid":"A0B09513A4B646A9B309603C67D05618","component_type_id":"15","data_id":"2538","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ mkdir bam bt2_index","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"591881","is_changed":"0","original_id":"591867","is_skipped":"0","is_checked":"0","guid":"851D33722F75405A9E6C9A0710C36405","previous_guid":"FCDFC41CAA314198AD7D8BED9341F709","previous_id":"591880","last_modified":"1508805966","components":[{"component_id":"1015057","previous_id":0,"original_id":"1015009","guid":"28B2BA443E164BB29A05C88668A2D46F","previous_guid":null,"component_type_id":"6","data_id":null,"data":"","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":""},"is_project":0},{"component_id":"1015058","previous_id":"1015057","original_id":"1015010","guid":"994C063C6C624FD0AE833861666EF318","previous_guid":"28B2BA443E164BB29A05C88668A2D46F","component_type_id":"1","data_id":null,"data":"<p>Move into the contig indexing directory. \u00a0And create the contig index.<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Move into the contig indexing directory. \u00a0And create the contig index.<\/p>"},"is_project":0},{"component_id":"1015059","previous_id":"1015058","original_id":"1015011","guid":"38D1C2B8A0644CDA908488251321E8C1","previous_guid":"994C063C6C624FD0AE833861666EF318","component_type_id":"15","data_id":"2539","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ cd bt2_index\n$ module load bowtie2\n$ bowtie2-build -f \/rsgrps\/bh_class\/username\/assembly\/megahit-out\/final-contigs.fa contig_index","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0},{"component_id":"1015060","previous_id":"1015059","original_id":"1015012","guid":"07A12424713B47E9A743F90E33607939","previous_guid":"38D1C2B8A0644CDA908488251321E8C1","component_type_id":"26","data_id":"16522","data":"","order_id":"3","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"16522","thread_id":"16522","id":"16522","thread_title":"Annotation on step 6 of Read Recruitment Using Bowtie2","uri":"annotation-on-step-6-of-read-recruitment-using-bowtie2","thread_uri":"annotation-on-step-6-of-read-recruitment-using-bowtie2","step_id":"591124","protocol_uri":"read-recruitment-using-bowtie2-kb8csrw","protocol_name":"Read Recruitment Using Bowtie2","protocol_name_html":"Read Recruitment Using Bowtie2","annotation":"<p>This step could take awhile depending on the size of your contig file.\u00a0<\/p>","thread_text":"<p>This step could take awhile depending on the size of your contig file.\u00a0<\/p>","body":"<p>This step could take awhile depending on the size of your contig file.\u00a0<\/p>","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1508264769","created_on":"1508264769","modified_on":null,"last_updated":null,"profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/67c2w6.jpg","full_name":"James Thornton Jr","affiliation":"Hurwitz Lab ","username":"james-thornton-jr","email":"jamesthornton@email.arizona.edu","pa_useranme":"james-thornton-jr","comments":[]},"is_project":0}]},{"id":"591882","is_changed":"0","original_id":"591868","is_skipped":"0","is_checked":"0","guid":"BA3E3AE6AEC6442D88274EAA70FB9967","previous_guid":"851D33722F75405A9E6C9A0710C36405","previous_id":"591881","last_modified":"1508805966","components":[{"component_id":"1015061","previous_id":0,"original_id":"1015013","guid":"BA24A772415E43CC939EB086A0E23598","previous_guid":null,"component_type_id":"6","data_id":null,"data":"","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":""},"is_project":0},{"component_id":"1015062","previous_id":"1015061","original_id":"1015014","guid":"DC3B9D95264E4C4AAC1A6B9AF36AB140","previous_guid":"BA24A772415E43CC939EB086A0E23598","component_type_id":"1","data_id":null,"data":"<p>Move into your bam directory found at \/rsgrps\/bh_class\/username\/read_recruit\/bam<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Move into your bam directory found at \/rsgrps\/bh_class\/username\/read_recruit\/bam<\/p>"},"is_project":0},{"component_id":"1015063","previous_id":"1015062","original_id":"1015015","guid":"5702E7DD4A4C473CB5AAD0D231E665A3","previous_guid":"DC3B9D95264E4C4AAC1A6B9AF36AB140","component_type_id":"15","data_id":"2540","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ cd ..\/bam","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"591883","is_changed":"0","original_id":"591869","is_skipped":"0","is_checked":"0","guid":"B50CD1999FE944D5856F37E42C9569AF","previous_guid":"1C029CB1B8C645E58758223E46F03F89","previous_id":"591876","last_modified":"1508805966","components":[{"component_id":"1015064","previous_id":0,"original_id":"1015016","guid":"A55E65A3F4234C90AA3A449620EF72F0","previous_guid":null,"component_type_id":"6","data_id":null,"data":"PAIRED END CLEAN UP","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"PAIRED END CLEAN UP"},"is_project":0},{"component_id":"1015065","previous_id":"1015064","original_id":"1015017","guid":"9DD6F095FC004312A2063914B7AFACBC","previous_guid":"A55E65A3F4234C90AA3A449620EF72F0","component_type_id":"1","data_id":null,"data":"<p><strong>For paired end only:\u00a0<\/strong><\/p>\n<p>\u00a0<\/p>\n<p>Move into your fasta directory. Ensure only 1 pair from each file is in the fasta directory. Keep the pair that is \"_1.fasta\". Move all \"_2.fasta\" files into the fastq directory.\u00a0<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p><strong>For paired end only:\u00a0<\/strong><\/p>\n<p>\u00a0<\/p>\n<p>Move into your fasta directory. Ensure only 1 pair from each file is in the fasta directory. Keep the pair that is \"_1.fasta\". Move all \"_2.fasta\" files into the fastq directory.\u00a0<\/p>"},"is_project":0},{"component_id":"1015066","previous_id":"1015065","original_id":"1015018","guid":"7F0F67F26AF348A2AFB5FEAC3166FFE7","previous_guid":"9DD6F095FC004312A2063914B7AFACBC","component_type_id":"15","data_id":"2541","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ cd \/rsgrps\/bh_class\/username\/assembly\/fasta\n$ mv *_2.fasta ..\/..\/fastq","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0},{"component_id":"1015067","previous_id":"1015066","original_id":"1015019","guid":"A590DA220648463A8C6309598821C4FB","previous_guid":"7F0F67F26AF348A2AFB5FEAC3166FFE7","component_type_id":"26","data_id":"16523","data":"","order_id":"3","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"16523","thread_id":"16523","id":"16523","thread_title":"Annotation on step 2 of Read Recruitment Using Bowtie2","uri":"annotation-on-step-2-of-read-recruitment-using-bowtie2","thread_uri":"annotation-on-step-2-of-read-recruitment-using-bowtie2","step_id":"591126","protocol_uri":"read-recruitment-using-bowtie2-kb8csrw","protocol_name":"Read Recruitment Using Bowtie2","protocol_name_html":"Read Recruitment Using Bowtie2","annotation":"<p>In the previous protocol we ended up only using 1 pair for assembly to simplify the process. In this protocol we only want to map the one pair that we used during assembly. Make sure the fasta directory only contains the _1.fasta of the pair.\u00a0<\/p>","thread_text":"<p>In the previous protocol we ended up only using 1 pair for assembly to simplify the process. In this protocol we only want to map the one pair that we used during assembly. Make sure the fasta directory only contains the _1.fasta of the pair.\u00a0<\/p>","body":"<p>In the previous protocol we ended up only using 1 pair for assembly to simplify the process. In this protocol we only want to map the one pair that we used during assembly. Make sure the fasta directory only contains the _1.fasta of the pair.\u00a0<\/p>","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1508265109","created_on":"1508265109","modified_on":null,"last_updated":null,"profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/67c2w6.jpg","full_name":"James Thornton Jr","affiliation":"Hurwitz Lab ","username":"james-thornton-jr","email":"jamesthornton@email.arizona.edu","pa_useranme":"james-thornton-jr","comments":[]},"is_project":0}]},{"id":"591884","is_changed":"0","original_id":"591870","is_skipped":"0","is_checked":"0","guid":"7E192DBA31BC4FB4B6E4BA196D4CD364","previous_guid":"BA3E3AE6AEC6442D88274EAA70FB9967","previous_id":"591882","last_modified":"1508805966","components":[{"component_id":"1015068","previous_id":0,"original_id":"1015020","guid":"25DA69D1C8814FE4A7B17FAF4193484E","previous_guid":null,"component_type_id":"6","data_id":null,"data":"","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":""},"is_project":0},{"component_id":"1015069","previous_id":"1015068","original_id":"1015021","guid":"B0DF759A09874215AA985CB4E4A9EDF5","previous_guid":"25DA69D1C8814FE4A7B17FAF4193484E","component_type_id":"1","data_id":null,"data":"<p>Make directories for standard error and standard out.\u00a0<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Make directories for standard error and standard out.\u00a0<\/p>"},"is_project":0},{"component_id":"1015070","previous_id":"1015069","original_id":"1015022","guid":"B3E035C20EDE4C0EB808538800894224","previous_guid":"B0DF759A09874215AA985CB4E4A9EDF5","component_type_id":"15","data_id":"2542","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ mkdir std-err std-out","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"591885","is_changed":"0","original_id":"591871","is_skipped":"0","is_checked":"0","guid":"EFFF7D094B844BDA82BD6928275A20FC","previous_guid":"7E192DBA31BC4FB4B6E4BA196D4CD364","previous_id":"591884","last_modified":"1508805966","components":[{"component_id":"1015071","previous_id":0,"original_id":"1015023","guid":"721ACCCF93E14F629FB7282050A7592C","previous_guid":null,"component_type_id":"6","data_id":null,"data":"","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":""},"is_project":0},{"component_id":"1015072","previous_id":"1015071","original_id":"1015024","guid":"A6D7B02CD65041DAB3A3B48E50C595E2","previous_guid":"721ACCCF93E14F629FB7282050A7592C","component_type_id":"1","data_id":null,"data":"<p>Copy the following script named bt2_align.sh. Edit the username variables found in the script.<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Copy the following script named bt2_align.sh. Edit the username variables found in the script.<\/p>"},"is_project":0},{"component_id":"1015073","previous_id":"1015072","original_id":"1015025","guid":"E1D28511314C49159E7F953F18E8037E","previous_guid":"A6D7B02CD65041DAB3A3B48E50C595E2","component_type_id":"26","data_id":"16524","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"16524","thread_id":"16524","id":"16524","thread_title":"Annotation on step 10 of Read Recruitment Using Bowtie2","uri":"annotation-on-step-10-of-read-recruitment-using-bowtie2","thread_uri":"annotation-on-step-10-of-read-recruitment-using-bowtie2","step_id":"591128","protocol_uri":"read-recruitment-using-bowtie2-kb8csrw","protocol_name":"Read Recruitment Using Bowtie2","protocol_name_html":"Read Recruitment Using Bowtie2","annotation":"<p>Many of you actually had your fasta files located in:<\/p>\n<p>\/rsgrps\/bh_class\/username\/assembly\/fasta<\/p>\n<p>\u00a0<\/p>\n<p>Which is fine, just make sure the script points to the correct location.<\/p>","thread_text":"<p>Many of you actually had your fasta files located in:<\/p>\n<p>\/rsgrps\/bh_class\/username\/assembly\/fasta<\/p>\n<p>\u00a0<\/p>\n<p>Which is fine, just make sure the script points to the correct location.<\/p>","body":"<p>Many of you actually had your fasta files located in:<\/p>\n<p>\/rsgrps\/bh_class\/username\/assembly\/fasta<\/p>\n<p>\u00a0<\/p>\n<p>Which is fine, just make sure the script points to the correct location.<\/p>","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1508266090","created_on":"1508266090","modified_on":null,"last_updated":null,"profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/67c2w6.jpg","full_name":"James Thornton Jr","affiliation":"Hurwitz Lab ","username":"james-thornton-jr","email":"jamesthornton@email.arizona.edu","pa_useranme":"james-thornton-jr","comments":[]},"is_project":0},{"component_id":"1015074","previous_id":"1015073","original_id":"1015026","guid":"85327542C78442E2B3509882A9BB755B","previous_guid":"E1D28511314C49159E7F953F18E8037E","component_type_id":"15","data_id":"2543","data":"","order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"#!\/bin\/bash\n\n#PBS -W group_list=bh_class\n#PBS -q windfall\n#PBS -l select=1:ncpus=4:mem=15gb\n#PBS -l pvmem=14gb\n#PBS -l walltime=24:00:00\n#PBS -l cput=24:00:00\n#PBS -M netid@email.arizona.edu\n#PBS -m bea\n\necho \u201cmy job_id is: ${PBS_JOBID}\u201d\n\n#####change here #######\nFASTA_DIR=\"\/rsgrps\/bh_class\/username\/fasta\"\nBT2_INDEX=\"\/rsgrps\/bh_class\/username\/read_recruit\/bt2_index\/contig_index\"\nOUT_DIR=\"\/rsgrps\/bh_class\/username\/read_recruit\/bam\"\nCONTIGS=\"\/rsgrps\/bh_class\/username\/assembly\/megahit-out\/final-contigs.fa\"\n#######################\n\ncd $FASTA_DIR\nexport FASTA_LIST=\"$FASTA_DIR\/fasta-list\"\nls *fasta > $FASTA_LIST\necho \"Samples to be processed:\" $(cat $FASTA_LIST)\n\nmodule load bowtie2\nmodule load samtools\n\nwhile read FASTA; do\n\n    FASTA_N=$(basename $FASTA | cut -d '.' -f 1)\n\n    bowtie2 -x $BT2_INDEX -U $FASTA -f --maxins 800 --fr --very-sensitive-local -p 4 -S $OUT_DIR\/$FASTA_N.sam\n\n    cd $OUT_DIR\n    echo \"Converting $FASTA_N.sam using reference $CONTIGS\"\n    samtools view -@ 16 -bT $CONTIGS $FASTA_N.sam > $FASTA_N.temp\n    echo \"Sorting $FASTA_N\"\n    samtools sort -@ 16 $FASTA_N.temp > $FASTA_N.bam\n    echo \"Removing $FASTA_N.temp\"\n    rm $FASTA_N.temp\n    cd $FASTA_DIR\n\ndone < $FASTA_LIST","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0},{"component_id":"1015075","previous_id":"1015074","original_id":"1015040","guid":"9B4759345C3543DDAA69C1947167E523","previous_guid":"85327542C78442E2B3509882A9BB755B","component_type_id":"26","data_id":"16550","data":"","order_id":"4","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"16550","thread_id":"16550","id":"16550","thread_title":"Annotation on step 11 of Read Recruitment Using Bowtie2","uri":"annotation-on-step-11-of-read-recruitment-using-bowtie21","thread_uri":"annotation-on-step-11-of-read-recruitment-using-bowtie21","step_id":"591871","protocol_uri":"read-recruitment-using-bowtie2-kesctee","protocol_name":"Read Recruitment Using Bowtie2","protocol_name_html":"Read Recruitment Using Bowtie2","annotation":"<p><strong>Important:<\/strong> CONTIGS variable is the contigs that you combined with your partner.\u00a0<\/p>","thread_text":"<p><strong>Important:<\/strong> CONTIGS variable is the contigs that you combined with your partner.\u00a0<\/p>","body":"<p><strong>Important:<\/strong> CONTIGS variable is the contigs that you combined with your partner.\u00a0<\/p>","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1508805606","created_on":"1508805606","modified_on":null,"last_updated":null,"profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/67c2w6.jpg","full_name":"James Thornton Jr","affiliation":"Hurwitz Lab ","username":"james-thornton-jr","email":"jamesthornton@email.arizona.edu","pa_useranme":"james-thornton-jr","comments":[]},"is_project":0}]},{"id":"591886","is_changed":"0","original_id":"591872","is_skipped":"0","is_checked":"0","guid":"6C47AF2A4E0E46A2BFA6C82FB9E9B662","previous_guid":"EFFF7D094B844BDA82BD6928275A20FC","previous_id":"591885","last_modified":"1508805978","components":[{"component_id":"1015076","previous_id":0,"original_id":"1015027","guid":"55B74A4AD0DF4CE6B99432C0656B340F","previous_guid":null,"component_type_id":"6","data_id":null,"data":"","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":""},"is_project":0},{"component_id":"1015077","previous_id":"1015076","original_id":"1015028","guid":"F13A813B4FBB4DB2B03EBEA4FA751B26","previous_guid":"55B74A4AD0DF4CE6B99432C0656B340F","component_type_id":"1","data_id":null,"data":"<p>Submit the job.\u00a0<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Submit the job.\u00a0<\/p>"},"is_project":0},{"component_id":"1015078","previous_id":"1015077","original_id":"1015029","guid":"8D2D84513F2B436B9D50004FC1C828EA","previous_guid":"F13A813B4FBB4DB2B03EBEA4FA751B26","component_type_id":"15","data_id":"2544","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ qsub -e std-err\/ -o std-out\/ bt2_align.sh","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"591887","is_changed":"0","original_id":"591873","is_skipped":"0","is_checked":"0","guid":"FE342DEE9BFE438E84E736C8590887A6","previous_guid":"6C47AF2A4E0E46A2BFA6C82FB9E9B662","previous_id":"591886","last_modified":"1508805966","components":[{"component_id":"1015079","previous_id":0,"original_id":"1015030","guid":"6EA5BFA537804FF5A931A5727A1ABC80","previous_guid":null,"component_type_id":"6","data_id":null,"data":"","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":""},"is_project":0},{"component_id":"1015080","previous_id":"1015079","original_id":"1015031","guid":"02BEBBCC07F14B76BB65B25D25DC221A","previous_guid":"6EA5BFA537804FF5A931A5727A1ABC80","component_type_id":"1","data_id":null,"data":"<p>Upon job completion navigate to your bam std-err directory.\u00a0<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Upon job completion navigate to your bam std-err directory.\u00a0<\/p>"},"is_project":0},{"component_id":"1015081","previous_id":"1015080","original_id":"1015032","guid":"97CCA3FA3E774C97ADD1BCF46EE8AA3D","previous_guid":"02BEBBCC07F14B76BB65B25D25DC221A","component_type_id":"15","data_id":"2545","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ cd \/rsgrps\/bh_class\/username\/read_recruit\/bam\/std-err","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"591888","is_changed":"0","original_id":"591874","is_skipped":"0","is_checked":"0","guid":"9A561C6493B54BD78E109206340F2759","previous_guid":"FE342DEE9BFE438E84E736C8590887A6","previous_id":"591887","last_modified":"1508805966","components":[{"component_id":"1015082","previous_id":0,"original_id":"1015033","guid":"B5C770D818834DE6B1E49EC73225E7BC","previous_guid":null,"component_type_id":"6","data_id":null,"data":"","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":""},"is_project":0},{"component_id":"1015083","previous_id":"1015082","original_id":"1015034","guid":"52F9B9D7E7CC4CCFB3912F869E22F012","previous_guid":"B5C770D818834DE6B1E49EC73225E7BC","component_type_id":"1","data_id":null,"data":"<p>Cat the standard error file to view the alignment rate for each file.\u00a0<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Cat the standard error file to view the alignment rate for each file.\u00a0<\/p>"},"is_project":0},{"component_id":"1015084","previous_id":"1015083","original_id":"1015035","guid":"184AA3D55E7E44B49B19ED57A82CDC71","previous_guid":"52F9B9D7E7CC4CCFB3912F869E22F012","component_type_id":"15","data_id":"2546","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ cat 881767.head1.cm.cluster.ER","description":"Your file name will differ","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"591889","is_changed":"0","original_id":"591875","is_skipped":"0","is_checked":"0","guid":"20E162A5BA6240CCAA2948D7FFA01069","previous_guid":"A07D11804D4544CD88C6E58BF5C6C4EB","previous_id":"591879","last_modified":"1508805966","components":[{"component_id":"1015085","previous_id":0,"original_id":"1015036","guid":"602F7378BC7242F4891F6041E26C1698","previous_guid":null,"component_type_id":"6","data_id":null,"data":"","order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":""},"is_project":0},{"component_id":"1015086","previous_id":"1015085","original_id":"1015037","guid":"9FA362C434A54EFFBE9A2C66E4CA5A08","previous_guid":"602F7378BC7242F4891F6041E26C1698","component_type_id":"1","data_id":null,"data":"<p>Append\u00a0your fixed-contigs.fa file with your partners fixed-contigs.fa file.\u00a0<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Append\u00a0your fixed-contigs.fa file with your partners fixed-contigs.fa file.\u00a0<\/p>"},"is_project":0},{"component_id":"1015087","previous_id":"1015086","original_id":"1015038","guid":"056D4AC7A797424580AF0AF080942D59","previous_guid":"9FA362C434A54EFFBE9A2C66E4CA5A08","component_type_id":"15","data_id":"2547","data":"","order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ cat fixed-contigs.fa \/rsgrps\/bh_class\/partnerusrname\/assembly\/megahit-out\/fixed-contigs.fa > final-contigs.fa","description":"The first argument to cat is YOUR fixed-contigs.fa file while the second is the path to your partners fixed-contigs.fa file. The combined files will be named final-contigs.fa","os_name":"","os_version":"","can_edit":"1"},"is_project":0},{"component_id":"1015088","previous_id":"1015087","original_id":"1015039","guid":"AF14E4EF47454C82A7B6B8F30D207B5E","previous_guid":"056D4AC7A797424580AF0AF080942D59","component_type_id":"26","data_id":"16535","data":"","order_id":"3","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"16535","thread_id":"16535","id":"16535","thread_title":"Annotation on step 5 of Read Recruitment Using Bowtie2","uri":"annotation-on-step-5-of-read-recruitment-using-bowtie2","thread_uri":"annotation-on-step-5-of-read-recruitment-using-bowtie2","step_id":"591565","protocol_uri":"read-recruitment-using-bowtie2-kdtcs6n","protocol_name":"Read Recruitment Using Bowtie2","protocol_name_html":"Read Recruitment Using Bowtie2","annotation":"<p>IMPORTANT: This step requires that your partner has also done the previous step. May require some coordination...<\/p>","thread_text":"<p>IMPORTANT: This step requires that your partner has also done the previous step. May require some coordination...<\/p>","body":"<p>IMPORTANT: This step requires that your partner has also done the previous step. May require some coordination...<\/p>","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1508515437","created_on":"1508515437","modified_on":null,"last_updated":null,"profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/67c2w6.jpg","full_name":"James Thornton Jr","affiliation":"Hurwitz Lab ","username":"james-thornton-jr","email":"jamesthornton@email.arizona.edu","pa_useranme":"james-thornton-jr","comments":[]},"is_project":0}]}]}