{"uri":"Design-of-genome-wide-HD-FISH-probes-d6m9c5","version_id":"0","protocol_name":"Design of genome-wide HD-FISH probes","protocol_name_html":"Design of genome-wide HD-FISH probes","is_prepublished":"0","can_edit":"0","parent_id":null,"api_version":"2","is_new_mode":"1","last_modified":"1522044002","type_id":"1","link":"http:\/\/www.ncbi.nlm.nih.gov\/pmc\/articles\/PMC3735345\/","fork_id":"","public_fork_note":"","number_of_steps":"27","has_versions":"0","first_published_date":"1447096397","publish_date":"2015-11-09 20:16:50","documents":"null","have_protocol_in_step":"0","is_protocol_in_step":"0","vendor_name":"Contributed by users","vendor_link":"https:\/\/www.protocols.io","vendor_logo":"\/img\/vendors\/1.png","mod_mins":"-45","mod_secs":"1","description":"This protocol describes the design of primer pairs against the human genome for the synthesis of probes for high-definition DNA FISH (HD-FISH). This pipeline selects PCR primer pairs with optimal thermodynamic features, delimiting amplicons 200\u2013220 nucleotides in length, and filters out primer pairs amplifying multiple targets as well as cross-hybridizing amplicons. Using such primers, highly specific double-stranded probes can be rapidly generated for virtually any desired genomic locus by fluorescently labeling pooled amplicons after PCR.<br \/><br \/>While this protocol describes the design against the human genome, we have also used it to geneate a genome-wide library for mouse. The design and method should work across other organisms as well.<br \/><br \/>For more information please see the full paper (and the dedicated <a href=\"http:\/\/www.hdfish.eu\/\" target=\"_blank\">hdfish.eu<\/a> website):<br \/>Bienko, Magda et al. \u201c<a href=\"http:\/\/www.ncbi.nlm.nih.gov\/pmc\/articles\/PMC3735345\/\" target=\"_blank\">A Versatile Genome-Scale PCR-Based Pipeline for High-Definition DNA FISH.<\/a>\u201d <em>Nature methods<\/em> 10.2 (2013): 122\u2013124. <em>PMC<\/em>. Web. 9 Nov. 2015.","is_bookmarked":"0","can_reassign":"1","before_start":"","has_guidelines":"1","materials":[],"warning":"","version_class":"1965","public":"1","is_owner":"1","is_original_owner":"1","created_on":"1447091503","protocol_affiliation":"protocols.io","affiliation":"protocols.io","doi":"dx.doi.org\/10.17504\/protocols.io.d6m9c5","doi_status":"2","changed_fork_steps":"","profile_url":"Lenny-w2u254y2y2","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/st2cz36.png","full_name":"Lenny Teytelman","created_by":"Lenny Teytelman","private_link":"8D593C60CD429BCA772A2D736CAACC05","original_img":"1","username":"lenny-teytelman8","is_retracted":"0","retraction_reason":null,"plos_id":null,"manuscript_citation":"<p>Bienko, M., Crosetto, N., Teytelman, L., Klemm, S., Itzkovitz, S., &amp; van Oudenaarden, A. (2013). A versatile genome-scale PCR-based pipeline for high-definition DNA FISH. <em>Nature Methods<\/em>, <em>10<\/em>(2), 122\u2013124. <a href=\"http:\/\/doi.org\/10.1038\/nmeth.2306\" target=\"_blank\">http:\/\/doi.org\/10.1038\/nmeth.2306<\/a><\/p>","journal_name":null,"is_donations_disabled":"1","is_donations_disabled_by_user":"1","item_record_id":219296,"fork_info":[],"compare_forks":[{"protocol_id":"1992","protocol_name":"Design of genome-wide HD-FISH probes","protocol_name_html":"Design of genome-wide HD-FISH probes","uri":"design-of-genome-wide-hd-fish-probes-d7g9jv","full_name":"Lenny Teytelman","affiliation":"protocols.io","affiliation_url":"https:\/\/www.protocols.io","username":"lenny-teytelman8"}],"protocols":[],"groups":[],"number_of_shared_runs":[],"ownership_history":[],"keywords":"","transfer_to_user":[],"sub_transfer":false,"is_transfer_pending":false,"number_of_bookmarks":"1","collections":[],"tags":[],"archived":0,"sub_authors":[],"sub_protocols_number":0,"can_edit_shared":0,"shared_runs":[],"is_shared_run":0,"is_shared":1,"banner":null,"contact_badges":[{"badge_id":"4","badge_image":"\/img\/badges\/gold.svg","badge_description":"Gold power author!"},{"badge_id":"5","badge_image":"\/img\/badges\/earlyadopter.svg","badge_description":"Early adopter"},{"badge_id":"6","badge_image":"\/img\/badges\/socialbutterfly.svg","badge_description":"Social butterfly"}],"number_of_comments":0,"is_locked":0,"is_locked_by":false,"authors":"Magda Bienko, Nicola Crosetto, Leonid Teytelman, Sandy Klemm, Shalev Itzkovitz, and Alexander van Oudenaarden","authors_list":[{"name":"Magda Bienko","affiliation":"protocols.io","username":null,"profile_image":null},{"name":" Nicola Crosetto","affiliation":"protocols.io","username":null,"profile_image":null},{"name":" Leonid Teytelman","affiliation":"protocols.io","username":null,"profile_image":null},{"name":" Sandy Klemm","affiliation":"protocols.io","username":null,"profile_image":null},{"name":" Shalev Itzkovitz","affiliation":"protocols.io","username":null,"profile_image":null},{"name":" and Alexander van Oudenaarden","affiliation":"protocols.io","username":null,"profile_image":null}],"user":{"profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/st2cz36.png","username":"lenny-teytelman8","full_name":"Lenny Teytelman","created_by":"Lenny Teytelman"},"access":{"can_view":"1","can_remove":"0","can_add":"0","can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":"0","can_move":"1","can_transfer":"1","can_download":"1","is_locked":"0"},"is_contact_suspended":0,"guidelines":"<strong>OVERVIEW<\/strong><br \/>\n<ol>\n<li>Each chromosome is split into 500-bp tiled fragments (sliding in 100bp steps)<\/li>\n<li>Each fragment is searched against the human genome with blat*<\/li>\n<li>Unique fragments are merged if overlapping<\/li>\n<li>Primer 3 is run on the merged sequences for tiled primer pairs design.<\/li>\n<li>Each primer pair is checked for uniqueness by e-PCR.<\/li>\n<li>Check each probe for uniqueness against the genome with a more sensitive BLAT search.**<\/li>\n<\/ol>\n*First round of BLAT (on 500bp-windows) uses 80% cutoff for<br \/> matches.<br \/>**Final round of BLAT (on the 200bp probes) uses 70% cutoff.<br \/><br \/><strong>SOFTWARE<\/strong><br \/>Homology searches are done with BLAT (<a href=\"http:\/\/genome.ucsc.edu\/FAQ\/FAQblat.html\" target=\"_blank\">http:\/\/genome.ucsc.edu\/FAQ\/FAQblat.html<\/a>)<br \/><br \/>Primers are designed with \"Primer3\"<br \/>(<a href=\"http:\/\/primer3.sourceforge.net\/\" target=\"_blank\">http:\/\/primer3.sourceforge.net\/<\/a>)<br \/><br \/>In silico PCR is done with \"e-PCR\"<br \/>(<a href=\"http:\/\/www.ncbi.nlm.nih.gov\/tools\/epcr\/\" target=\"_blank\">http:\/\/www.ncbi.nlm.nih.gov\/tools\/epcr\/<\/a>)<br \/><br \/><strong>Total sequence for primer design, with single-hits only:<\/strong><br \/><br \/>1,228,290,200bp (step 3)<br \/>5,120,725 initial primers designed (step 4)<br \/>5,080,020 after in silico PCR (step 5)<br \/>4,823,784 final probes<br \/>-Final round of BLAT (on the 200bp probes) uses 70% cutoff.<br \/><br \/>- e-PCR search done with maximum of 2bp mismatch in the <br \/>primers.<br \/><br \/><strong>NOTES<br \/><br \/><\/strong>The pipeline uses a cluster, so many of the commands are specific to breaking up the analysis files and submitting parallel jobs to the cluster nodes.<br \/><br \/>All scripts are available at <a href=\"http:\/\/www.hdfish.eu\/Downloads.html\" target=\"_blank\">hdfish.edu<\/a>.<br \/><br \/><strong>ANALYSIS<br \/><\/strong><br \/>Want to get a feel for the coverage of chromosomes.<br \/>\n<ul>\n<li>How many probes per 10KB?<\/li>\n<li>How many deserts with very few probes?<\/li>\n<li>Excluding the deserts, what is the probe density?<\/li>\n<\/ul>\n<br \/>Below are the SQL analyses to answer the above.<br \/><br \/>\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/<br \/>-Load the final probe positions into mySQL (human DB)<br \/><br \/>CREATE TABLE probes(<br \/> \u00a0\u00a0 chrom VARCHAR(20),<br \/>\u00a0\u00a0\u00a0 start INT,<br \/>\u00a0\u00a0\u00a0 stop INT<br \/>) ;<br \/><br \/>LOAD DATA LOCAL INFILE '\/home\/lenny\/projects\/hd_fish\/db\/round2_unique_probes.tbl' INTO TABLE probes;<br \/><br \/>-Count \"N\"s in the fasta file<br \/>(on rous)<br \/>cd \/home\/nylenny\/hdfish\/databases\/fasta\/<br \/><br \/>for file in chr*.fa; do cat $file | perl -ne 'chomp;if (m\/^&gt;\/){$chrom=$_;$chrom=~s\/&gt;\/\/;print \"$chrom\\t\";}else{$n_count = tr\/nN\/\/;$totaln+=$n_count}END{print \"$totaln\\n\";}' &gt;&gt; human_chr_ncounts.txt ; done<br \/><br \/>CREATE TABLE chroms(<br \/>\u00a0\u00a0\u00a0 chrom VARCHAR(20),<br \/>\u00a0\u00a0\u00a0 size INT<br \/>) ;<br \/><br \/>CREATE TABLE ncounts(<br \/>\u00a0\u00a0\u00a0 chrom VARCHAR(20),<br \/>\u00a0\u00a0\u00a0 totalN INT<br \/>) ;<br \/><br \/>LOAD DATA LOCAL INFILE '\/home\/lenny\/projects\/hd_fish\/db\/human_chr_ncounts.tbl' INTO TABLE ncounts;<br \/><br \/>create table chroms_full select chroms.chrom,chroms.size,ncounts.totalN n_count, size-totalN adjusted_size from chroms, ncounts where chroms.chrom=ncounts.chrom;<br \/><br \/>drop table chroms;<br \/>drop table ncounts;<br \/>alter table chroms_full rename to chroms;<br \/><br \/>- Count probes\/10KB for each chromosome<br \/><br \/>CREATE TABLE temp (select chrom,count(*) total_probes from probes group by chrom);<br \/><br \/>create table probes_bychrom select pb.chrom,pb.total_probes,chroms.size chrom_size, round(10000*pb.total_probes\/chroms.size,1) probes_per10kb from temp pb, chroms WHERE pb.chrom=chroms.chrom order by chroms.size DESC;<br \/><br \/>create table probes_bychrom_adj select pb.chrom,pb.total_probes,chroms.adjusted_size adj_chrom_size, round(10000*pb.total_probes\/chroms.adjusted_size,1) probes_per10kb from temp pb, chroms WHERE pb.chrom=chroms.chrom order by chroms.size DESC;<br \/><br \/>drop table temp;<br \/><br \/>- Look at 10KB-windows<br \/>create table windows select chrom,round(start\/10000) start,count(*) total from probes group by chrom,round(start\/10000);<br \/><br \/>","status_id":"1","is_research":"1","status_info":null,"steps":[{"id":"135718","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"E3A59FCEB4A946A197CB8C749D452201","previous_guid":null,"previous_id":"0","last_modified":"1447092564","components":[{"component_id":"136414","previous_id":0,"original_id":"0","guid":"37973C7AF7874BBCB0736871B237CE7B","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Download the human genome","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Download the human genome"},"is_project":0},{"component_id":"136415","previous_id":"136414","original_id":"0","guid":"D6BFBD871D734C96A4FFCFBA6E81E25F","previous_guid":"37973C7AF7874BBCB0736871B237CE7B","component_type_id":"6","data_id":"0","data":"BLAT database setup","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"BLAT database setup"},"is_project":0},{"component_id":"136416","previous_id":"136415","original_id":"0","guid":"DB1DC6AEB4FE4993BECFDAC2042779F4","previous_guid":"D6BFBD871D734C96A4FFCFBA6E81E25F","component_type_id":"15","data_id":"91","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd \/home\/nylenny\/hdfish\/databases\/fasta\n\nftp:\/\/hgdownload.cse.ucsc.edu\/goldenPath\/currentGenomes\/Homo_sapiens\/bigZips\/chromFa.tar.gz","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135720","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"A6402F6136B14CC8890BCA9D711B479D","previous_guid":"E3A59FCEB4A946A197CB8C749D452201","previous_id":"135718","last_modified":"1447092564","components":[{"component_id":"136420","previous_id":0,"original_id":"0","guid":"850A52EA2E8E411F93E71F631FE00B73","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Remove all strange .fa files accept for chr1.fa chr2.fa...","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Remove all strange .fa files accept for chr1.fa chr2.fa..."},"is_project":0},{"component_id":"136421","previous_id":"136420","original_id":"0","guid":"85F9A1FB2A914935B2A3A1C8B44211E8","previous_guid":"850A52EA2E8E411F93E71F631FE00B73","component_type_id":"6","data_id":"0","data":"BLAT database setup","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"BLAT database setup"},"is_project":0},{"component_id":"136422","previous_id":"136421","original_id":"0","guid":"8C66154F817C48B7AEA4416260F7ABAF","previous_guid":"85F9A1FB2A914935B2A3A1C8B44211E8","component_type_id":"15","data_id":"92","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"rm chrUn_gl0002* *_gl* *hap*","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135721","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"323B1257BEFA475498F07A7090C6727C","previous_guid":"A6402F6136B14CC8890BCA9D711B479D","previous_id":"135720","last_modified":"1447097417","components":[{"component_id":"136423","previous_id":0,"original_id":"0","guid":"4743D7E1ADF344909E35A17C54DB5FB7","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Make the 2bit file for BLAT","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Make the 2bit file for BLAT"},"is_project":0},{"component_id":"136424","previous_id":"136423","original_id":"0","guid":"564DA7D33BE84C98A12F46D647FC6A5E","previous_guid":"4743D7E1ADF344909E35A17C54DB5FB7","component_type_id":"6","data_id":"0","data":"BLAT database setup","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"BLAT database setup"},"is_project":0},{"component_id":"136532","previous_id":"136424","original_id":"0","guid":"86AF09B0CD264CF5A5BB020A411C1053","previous_guid":"564DA7D33BE84C98A12F46D647FC6A5E","component_type_id":"26","data_id":"9248","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"9248","thread_id":"9248","id":"9248","thread_title":"Annotation on step 3 of Design of genome-wide HD-FISH probes","uri":"annotation-on-step-3-of-design-of-genomewide-hdfish","thread_uri":"annotation-on-step-3-of-design-of-genomewide-hdfish","step_id":"135721","protocol_uri":"Design-of-genome-wide-HD-FISH-probes-d6m9c5","protocol_name":"Design of genome-wide HD-FISH probes","protocol_name_html":"Design of genome-wide HD-FISH probes","annotation":"\"qsub\" is a command for submitting jobs to cluster nodes using the <a href=\"http:\/\/www.pbsworks.com\/Product.aspx?id=1\" target=\"_blank\">PBS Pro<\/a> software (<span class=\"st\">Portable Batch System<em>)<\/em><\/span>.","thread_text":"\"qsub\" is a command for submitting jobs to cluster nodes using the <a href=\"http:\/\/www.pbsworks.com\/Product.aspx?id=1\" target=\"_blank\">PBS Pro<\/a> software (<span class=\"st\">Portable Batch System<em>)<\/em><\/span>.","body":"\"qsub\" is a command for submitting jobs to cluster nodes using the <a href=\"http:\/\/www.pbsworks.com\/Product.aspx?id=1\" target=\"_blank\">PBS Pro<\/a> software (<span class=\"st\">Portable Batch System<em>)<\/em><\/span>.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1447097417","created_on":"1447097417","modified_on":"1447097417","last_updated":"1447097417","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/st2cz36.png","full_name":"Lenny Teytelman","affiliation":"protocols.io","username":"lenny-teytelman8","email":"lenny@protocols.io","pa_useranme":"lenny-teytelman8","comments":[]},"is_project":0},{"component_id":"136425","previous_id":"136532","original_id":"0","guid":"4DCC2632FEA14215A70598FC7C58DB03","previous_guid":"86AF09B0CD264CF5A5BB020A411C1053","component_type_id":"15","data_id":"93","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for file in *.fa\n     do qsub -b y \/home\/nylenny\/programs\/blat\/faToTwoBit -noMask \/home\/nylenny\/hdfish\/databases\/fasta\/$file \/home\/nylenny\/hdfish\/databases\/blatdb\/$file.2bit\ndone","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135722","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"F1611914960A42089F2A35FE2DE80271","previous_guid":"323B1257BEFA475498F07A7090C6727C","previous_id":"135721","last_modified":"1447092564","components":[{"component_id":"136426","previous_id":0,"original_id":"0","guid":"A9053E076DD94378AF8529DF6BBE344C","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Make an 11.ooc file","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Make an 11.ooc file"},"is_project":0},{"component_id":"136427","previous_id":"136426","original_id":"0","guid":"94D788AF2B394819A229705001C4E972","previous_guid":"A9053E076DD94378AF8529DF6BBE344C","component_type_id":"6","data_id":"0","data":"BLAT database setup","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"BLAT database setup"},"is_project":0},{"component_id":"136428","previous_id":"136427","original_id":"0","guid":"B11EB74091A5419B83870557F8778C46","previous_guid":"94D788AF2B394819A229705001C4E972","component_type_id":"15","data_id":"94","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd \/home\/nylenny\/hdfish\/databases\/blatdb\nls -1 *.2bit > human_genome_chrom.list\n~\/programs\/blat\/blat -makeOoc=11.ooc -tileSize=11 human_genome_chrom.list \/dev\/null \/dev\/null","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135723","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"DDECD86F9F4F4D46844BA1BEC4931790","previous_guid":"F1611914960A42089F2A35FE2DE80271","previous_id":"135722","last_modified":"1447093212","components":[{"component_id":"136429","previous_id":0,"original_id":"0","guid":"1096E1D5171141FCB3223D11C9A600E7","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Make a fasta file of 500-bp windows, in 100bp slidingsteps for each chromosome.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Make a fasta file of 500-bp windows, in 100bp slidingsteps for each chromosome."},"is_project":0},{"component_id":"136430","previous_id":"136429","original_id":"0","guid":"E3AECE509A334AC48AA0CA99CB9DCE4C","previous_guid":"1096E1D5171141FCB3223D11C9A600E7","component_type_id":"6","data_id":"0","data":"Split chroms into 500-bp fragments","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Split chroms into 500-bp fragments"},"is_project":0},{"component_id":"136434","previous_id":"136430","original_id":"0","guid":"EFA0C19057924925BCAC5A04E63DE225","previous_guid":"E3AECE509A334AC48AA0CA99CB9DCE4C","component_type_id":"15","data_id":"95","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd \/home\/nylenny\/hdfish\/databases\/fasta\n\nfor file in *.fa\ndo\n     export infile=\/home\/nylenny\/hdfish\/databases\/fasta\/$file\n     export outfile=\/home\/nylenny\/hdfish\/databases\/split_chroms\/${file%%.fa}._windows.fa\n     qsub -o \/home\/nylenny\/hdfish\/cluster_eo\/ -e  \/home\/nylenny\/hdfish\/cluster_eo\/ -V \/home\/nylenny\/hdfish\/qsub_runs\/split_chroms.sh\ndone","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135728","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"4ADD42EEBB3344E28FF7CEA6C1A16BBA","previous_guid":"DDECD86F9F4F4D46844BA1BEC4931790","previous_id":"135723","last_modified":"1447093685","components":[{"component_id":"136437","previous_id":0,"original_id":"0","guid":"AAE6E74C220345D1A230BB96F054014E","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get human chromosome sizes","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get human chromosome sizes"},"is_project":0},{"component_id":"136438","previous_id":"136437","original_id":"0","guid":"AD4D05C732304B0D9B2F4A082A7E4F34","previous_guid":"AAE6E74C220345D1A230BB96F054014E","component_type_id":"6","data_id":"0","data":"Split chroms into 500-bp fragments","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Split chroms into 500-bp fragments"},"is_project":0},{"component_id":"136451","previous_id":"136438","original_id":"0","guid":"B33ED5A4C2324C1DA15AFC1A777E9759","previous_guid":"AD4D05C732304B0D9B2F4A082A7E4F34","component_type_id":"26","data_id":"9239","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"9239","thread_id":"9239","id":"9239","thread_title":"Annotation on step 6 of Design of genome-wide HD-FISH probes","uri":"annotation-on-step-6-of-design-of-genomewide-hdfish","thread_uri":"annotation-on-step-6-of-design-of-genomewide-hdfish","step_id":"135728","protocol_uri":"Design-of-genome-wide-HD-FISH-probes-d6m9c5","protocol_name":"Design of genome-wide HD-FISH probes","protocol_name_html":"Design of genome-wide HD-FISH probes","annotation":"Steps 6-8 are a sanity check. Making sure that the resulting split_windows chrom sizes match the actual size of the human chromosomes in the initial .fasta files.","thread_text":"Steps 6-8 are a sanity check. Making sure that the resulting split_windows chrom sizes match the actual size of the human chromosomes in the initial .fasta files.","body":"Steps 6-8 are a sanity check. Making sure that the resulting split_windows chrom sizes match the actual size of the human chromosomes in the initial .fasta files.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1447093685","created_on":"1447093685","modified_on":"1447093685","last_updated":"1447093685","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/st2cz36.png","full_name":"Lenny Teytelman","affiliation":"protocols.io","username":"lenny-teytelman8","email":"lenny@protocols.io","pa_useranme":"lenny-teytelman8","comments":[]},"is_project":0},{"component_id":"136439","previous_id":"136451","original_id":"0","guid":"966102C469074DA7B0CBFBE17E77A536","previous_guid":"B33ED5A4C2324C1DA15AFC1A777E9759","component_type_id":"15","data_id":"96","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for file in *.fa;do echo $file; grep -v '>' $file | wc;done > human_chr_sizes.txt\n\ncat human_chr_sizes.txt | perl -ne 'chomp;if(m\/fa$\/){s\/.fa\/\/;print \"$_\\t\";}else{s\/^\\s*\/\/;my($lines,$words,$total_chars)=split(\" +\");$chrom_size=$total_chars-$lines;print \"$chrom_size\\n\";}' > human_chr_sizes.txt2\n\nmv human_chr_sizes.txt2 human_chr_sizes.txt","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135730","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"E18A790C0D2841BE93CDB7717A63E9F2","previous_guid":"4ADD42EEBB3344E28FF7CEA6C1A16BBA","previous_id":"135728","last_modified":"1447093426","components":[{"component_id":"136442","previous_id":0,"original_id":"0","guid":"BF42D2B419E84A17A0119B29BC283C19","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Get the sizes of the split chroms","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Get the sizes of the split chroms"},"is_project":0},{"component_id":"136443","previous_id":"136442","original_id":"0","guid":"5A950E691F6F462A9DF81F0FD7029C78","previous_guid":"BF42D2B419E84A17A0119B29BC283C19","component_type_id":"6","data_id":"0","data":"Split chroms into 500-bp fragments","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Split chroms into 500-bp fragments"},"is_project":0},{"component_id":"136444","previous_id":"136443","original_id":"0","guid":"0B2E288F18E94A0BB9C62E21EC05C7D0","previous_guid":"5A950E691F6F462A9DF81F0FD7029C78","component_type_id":"15","data_id":"97","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd \/home\/nylenny\/hdfish\/databases\/split_chroms\n\nfor file in *.fa; do tail -2 $file | head -1; done | tr -d '>' |tr '_' '\\t' | cut -f 1,3|sort > split_chrom_sizes.txt","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135731","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"6759203202E0433487F5438643A47648","previous_guid":"E18A790C0D2841BE93CDB7717A63E9F2","previous_id":"135730","last_modified":"1447093731","components":[{"component_id":"136445","previous_id":0,"original_id":"0","guid":"A25A5F447F1E48708E63D80482928D59","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Visually inspect the output from this step to compare real chroms against the split ones","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Visually inspect the output from this step to compare real chroms against the split ones"},"is_project":0},{"component_id":"136446","previous_id":"136445","original_id":"0","guid":"9F0C2793A9E741BB865F3E59A85202E4","previous_guid":"A25A5F447F1E48708E63D80482928D59","component_type_id":"6","data_id":"0","data":"Split chroms into 500-bp fragments","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Split chroms into 500-bp fragments"},"is_project":0},{"component_id":"136447","previous_id":"136446","original_id":"0","guid":"A0D6801BECCC43E78549FF44B89EC905","previous_guid":"9F0C2793A9E741BB865F3E59A85202E4","component_type_id":"15","data_id":"98","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"join -j 1 ..\/fasta\/human_chr_sizes.txt split_chrom_sizes.txt | tr ' ' '\\t' | perl -ne 'chomp;my($chrom,$real_size,$split_size)=split(\"\\t\");print \"$chrom\\t\",$real_size-$split_size,\"\\n\";'","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135734","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"709D31A765C944EBAF2EDF14CFEC01D4","previous_guid":"6759203202E0433487F5438643A47648","previous_id":"135731","last_modified":"1447096254","components":[{"component_id":"136455","previous_id":0,"original_id":"0","guid":"003C582FD569406CA40FAAB494B29C3E","previous_guid":null,"component_type_id":"1","data_id":"0","data":"BLAT the split windows for each chromosome against the entire human genome, one chromosome at a time.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"BLAT the split windows for each chromosome against the entire human genome, one chromosome at a time."},"is_project":0},{"component_id":"136456","previous_id":"136455","original_id":"0","guid":"52BC6CAB4B03438F97666F56AF01D5D6","previous_guid":"003C582FD569406CA40FAAB494B29C3E","component_type_id":"6","data_id":"0","data":"BLAT, first round","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"BLAT, first round"},"is_project":0},{"component_id":"136457","previous_id":"136456","original_id":"0","guid":"8700C5A376574DDC8C33089D1E79A7CE","previous_guid":"52BC6CAB4B03438F97666F56AF01D5D6","component_type_id":"26","data_id":"9240","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"9240","thread_id":"9240","id":"9240","thread_title":"Annotation on step 9 of Design of genome-wide HD-FISH probes","uri":"annotation-on-step-9-of-design-of-genomewide-hdfish","thread_uri":"annotation-on-step-9-of-design-of-genomewide-hdfish","step_id":"135734","protocol_uri":"Design-of-genome-wide-HD-FISH-probes-d6m9c5","protocol_name":"Design of genome-wide HD-FISH probes","protocol_name_html":"Design of genome-wide HD-FISH probes","annotation":"\"qsub\" is a command for submitting jobs to cluster nodes using the <a href=\"http:\/\/www.pbsworks.com\/Product.aspx?id=1\" target=\"_blank\">PBS Pro<\/a> software (<span class=\"st\">Portable Batch System<em>)<\/em><\/span>.","thread_text":"\"qsub\" is a command for submitting jobs to cluster nodes using the <a href=\"http:\/\/www.pbsworks.com\/Product.aspx?id=1\" target=\"_blank\">PBS Pro<\/a> software (<span class=\"st\">Portable Batch System<em>)<\/em><\/span>.","body":"\"qsub\" is a command for submitting jobs to cluster nodes using the <a href=\"http:\/\/www.pbsworks.com\/Product.aspx?id=1\" target=\"_blank\">PBS Pro<\/a> software (<span class=\"st\">Portable Batch System<em>)<\/em><\/span>.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1447094328","created_on":"1447094328","modified_on":"1447096254","last_updated":"1447096254","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/st2cz36.png","full_name":"Lenny Teytelman","affiliation":"protocols.io","username":"lenny-teytelman8","email":"lenny@protocols.io","pa_useranme":"lenny-teytelman8","comments":[]},"is_project":0},{"component_id":"136514","previous_id":"136457","original_id":"0","guid":"3F0AD96DF1E946358893D5A509417ED1","previous_guid":"8700C5A376574DDC8C33089D1E79A7CE","component_type_id":"26","data_id":"9246","data":"","order_id":"3","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"9246","thread_id":"9246","id":"9246","thread_title":"Annotation on step 9 of Design of genome-wide HD-FISH probes","uri":"annotation-on-step-9-of-design-of-genomewide-hdfish1","thread_uri":"annotation-on-step-9-of-design-of-genomewide-hdfish1","step_id":"135734","protocol_uri":"Design-of-genome-wide-HD-FISH-probes-d6m9c5","protocol_name":"Design of genome-wide HD-FISH probes","protocol_name_html":"Design of genome-wide HD-FISH probes","annotation":"This first round of BLAT (on 500bp-windows) is more permissive and uses 80% cutoff for matches.","thread_text":"This first round of BLAT (on 500bp-windows) is more permissive and uses 80% cutoff for matches.","body":"This first round of BLAT (on 500bp-windows) is more permissive and uses 80% cutoff for matches.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1447096245","created_on":"1447096245","modified_on":"1447096254","last_updated":"1447096254","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/st2cz36.png","full_name":"Lenny Teytelman","affiliation":"protocols.io","username":"lenny-teytelman8","email":"lenny@protocols.io","pa_useranme":"lenny-teytelman8","comments":[]},"is_project":0},{"component_id":"136458","previous_id":"136514","original_id":"0","guid":"8C439DA8B5304590A62E6BCB7E556C60","previous_guid":"3F0AD96DF1E946358893D5A509417ED1","component_type_id":"15","data_id":"99","data":"","order_id":"4","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"export windowsfile=chr1._windows.fa\n\ncd \/home\/nylenny\/hdfish\/databases\/blatdb\n\nfor chromosome in *.2bit\ndo\n    export chrom=$chromosome\n    qsub -V -o \/home\/nylenny\/hdfish\/cluster_eo\/${windowsfile}_to_$chrom.o -e \/home\/nylenny\/hdfish\/cluster_eo\/${windowsfile}_to_$chrom.e \/home\/nylenny\/hdfish\/qsub_runs\/blat_subm_script.sh\ndone","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135735","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"6DC5BEC875CD479399F817C38C12FDA0","previous_guid":"709D31A765C944EBAF2EDF14CFEC01D4","previous_id":"135734","last_modified":"1447094328","components":[{"component_id":"136459","previous_id":0,"original_id":"0","guid":"2D07719A55B2457AB2C15C66B5CD7B8B","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Check for completion of the blat against each chromosome. (The last blat hit should be close to the end of the query file.)","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Check for completion of the blat against each chromosome. (The last blat hit should be close to the end of the query file.)"},"is_project":0},{"component_id":"136460","previous_id":"136459","original_id":"0","guid":"564C1BDAD20341F7AB744F442693F59E","previous_guid":"2D07719A55B2457AB2C15C66B5CD7B8B","component_type_id":"6","data_id":"0","data":"BLAT, first round","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"BLAT, first round"},"is_project":0},{"component_id":"136461","previous_id":"136460","original_id":"0","guid":"2D534ECB58B349CE96268690B4C68A10","previous_guid":"564C1BDAD20341F7AB744F442693F59E","component_type_id":"15","data_id":"100","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd \/home\/nylenny\/hdfish\/blat_results\n\nfor file in chr3*; do echo $file |perl -ne 'chomp;s\/chr4._windows.fa_to_\/\/;s\/.fa.2bit.psl\/\/;print \"$_\\t\";'; tail -1 $file | cut -f 10 ;done\n\nfor file in chr*; do echo $file |perl -ne 'chomp;s\/chr5._windows.fa_to_\/\/;s\/.fa.2bit.psl\/\/;print \"$_\\t\";'; tail -1 $file | cut -f 10 ;done > sizes.txt","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135736","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"885851B2300D47049AE7F1AB8929F851","previous_guid":"6DC5BEC875CD479399F817C38C12FDA0","previous_id":"135735","last_modified":"1447095616","components":[{"component_id":"136462","previous_id":0,"original_id":"0","guid":"CFCB14057243498E8EB38BF18E8470CE","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Merge all the .psl files for each chromosome","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Merge all the .psl files for each chromosome"},"is_project":0},{"component_id":"136463","previous_id":"136462","original_id":"0","guid":"24AFAB5D0CCE4FDBADF29CB22B64EB2B","previous_guid":"CFCB14057243498E8EB38BF18E8470CE","component_type_id":"6","data_id":"0","data":"Find unique fragments","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Find unique fragments"},"is_project":0},{"component_id":"136464","previous_id":"136463","original_id":"0","guid":"F24183197797476784B07F9B6874C338","previous_guid":"24AFAB5D0CCE4FDBADF29CB22B64EB2B","component_type_id":"26","data_id":"9241","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"9241","thread_id":"9241","id":"9241","thread_title":"Annotation on step 11 of Design of genome-wide HD-FISH probes","uri":"annotation-on-step-11-of-design-of-genomewide-hdfish","thread_uri":"annotation-on-step-11-of-design-of-genomewide-hdfish","step_id":"135736","protocol_uri":"Design-of-genome-wide-HD-FISH-probes-d6m9c5","protocol_name":"Design of genome-wide HD-FISH probes","protocol_name_html":"Design of genome-wide HD-FISH probes","annotation":"In this section, we are processing the BLAT results to identify all 500-bp fragments that have a single hit to the genome.","thread_text":"In this section, we are processing the BLAT results to identify all 500-bp fragments that have a single hit to the genome.","body":"In this section, we are processing the BLAT results to identify all 500-bp fragments that have a single hit to the genome.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1447095616","created_on":"1447095616","modified_on":"1447095616","last_updated":"1447095616","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/st2cz36.png","full_name":"Lenny Teytelman","affiliation":"protocols.io","username":"lenny-teytelman8","email":"lenny@protocols.io","pa_useranme":"lenny-teytelman8","comments":[]},"is_project":0},{"component_id":"136465","previous_id":"136464","original_id":"0","guid":"4B726771F3F446BAB3A5DCC15E774D91","previous_guid":"F24183197797476784B07F9B6874C338","component_type_id":"15","data_id":"101","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"qrsh \n\ncd \/home\/nylenny\/hdfish\/blat_results\nmkdir by_chrom\nmv *.psl by_chrom\/\n\nfor file in chr1 chr10 chr11 chr12 chr13 chr14 chr15 chr16 chr17 chr18 chr19 chr2 chr20 chr21 chr22 chr3 chr4 chr5 chr6 chr7 chr8 chr9 chrX chrY\ndo\n  qsub -e \/home\/nylenny\/hdfish\/cluster_eo\/ -o \/home\/nylenny\/hdfish\/blat_results\/$file.psl  -b y  cat \/home\/nylenny\/hdfish\/blat_results\/by_chrom\/${file}._*.psl \ndone\n\nfor file in chr11 chr12 chr13 chr14 chr15 chr16 chr17 chr18 chr19 chr2 chr20 chr21 chr22 chr3 chr4 chr5 chr6 chr7 chr8 ","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135737","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"4BD60EF1F1F346ECBA212E89E6DBB51D","previous_guid":"885851B2300D47049AE7F1AB8929F851","previous_id":"135736","last_modified":"1447095616","components":[{"component_id":"136466","previous_id":0,"original_id":"0","guid":"4E4FADD8A8E846788A4EC98FD175D2EB","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Count total BLAT hits per fragment","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Count total BLAT hits per fragment"},"is_project":0},{"component_id":"136467","previous_id":"136466","original_id":"0","guid":"D2F07DDDBDAE412D9F1A72B9D4AD3C17","previous_guid":"4E4FADD8A8E846788A4EC98FD175D2EB","component_type_id":"6","data_id":"0","data":"Find unique fragments","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Find unique fragments"},"is_project":0},{"component_id":"136468","previous_id":"136467","original_id":"0","guid":"314607124D5A46EBACD5BE271AA8127E","previous_guid":"D2F07DDDBDAE412D9F1A72B9D4AD3C17","component_type_id":"15","data_id":"102","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd \/home\/nylenny\/hdfish\/blat_results\/\n\nfor file in *.psl\ndo\n     export infile=\/home\/nylenny\/hdfish\/blat_results\/$file\n     export outfile=\/home\/nylenny\/hdfish\/blat_results\/counts\/${file%%.psl}.blatcounts.txt\n     qsub -o \/home\/nylenny\/hdfish\/cluster_eo\/ -e  \/home\/nylenny\/hdfish\/cluster_eo\/ -V \/home\/nylenny\/hdfish\/qsub_runs\/count_blat_hits.sh\ndone","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135738","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"6CE45B54CE7E4FA09814D24C11712742","previous_guid":"4BD60EF1F1F346ECBA212E89E6DBB51D","previous_id":"135737","last_modified":"1447095616","components":[{"component_id":"136469","previous_id":0,"original_id":"0","guid":"45C682A1B5F5473BAA18117DF3E6D49E","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Sort by positional start","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Sort by positional start"},"is_project":0},{"component_id":"136470","previous_id":"136469","original_id":"0","guid":"D004FF88158140D7BF9A8234BFB2F851","previous_guid":"45C682A1B5F5473BAA18117DF3E6D49E","component_type_id":"6","data_id":"0","data":"Merge unique fragments","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Merge unique fragments"},"is_project":0},{"component_id":"136471","previous_id":"136470","original_id":"0","guid":"478657B7ED044B2FB10F7C0BF0052454","previous_guid":"D004FF88158140D7BF9A8234BFB2F851","component_type_id":"26","data_id":"9242","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"9242","thread_id":"9242","id":"9242","thread_title":"Annotation on step 13 of Design of genome-wide HD-FISH probes","uri":"annotation-on-step-13-of-design-of-genomewide-hdfish","thread_uri":"annotation-on-step-13-of-design-of-genomewide-hdfish","step_id":"135738","protocol_uri":"Design-of-genome-wide-HD-FISH-probes-d6m9c5","protocol_name":"Design of genome-wide HD-FISH probes","protocol_name_html":"Design of genome-wide HD-FISH probes","annotation":"In this section, we merge all overlapping single-hit windows and get their DNA sequences.","thread_text":"In this section, we merge all overlapping single-hit windows and get their DNA sequences.","body":"In this section, we merge all overlapping single-hit windows and get their DNA sequences.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1447095616","created_on":"1447095616","modified_on":"1447095616","last_updated":"1447095616","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/st2cz36.png","full_name":"Lenny Teytelman","affiliation":"protocols.io","username":"lenny-teytelman8","email":"lenny@protocols.io","pa_useranme":"lenny-teytelman8","comments":[]},"is_project":0},{"component_id":"136472","previous_id":"136471","original_id":"0","guid":"9CFC3279BCE54300B80F45493B31D764","previous_guid":"478657B7ED044B2FB10F7C0BF0052454","component_type_id":"15","data_id":"103","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"qrsh\ncd \/home\/nylenny\/hdfish\/blat_results\/counts\n\nfor file in *.txt\ndo \n   tr '_' '\\t' < $file  | cut -f 2,4 | sort -k 1n > ${file%%.blatcounts.txt}_sorted_blatcounts.csv\ndone","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135739","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"380DDDC7837E4BA086D4EB1447BE9644","previous_guid":"6CE45B54CE7E4FA09814D24C11712742","previous_id":"135738","last_modified":"1447095616","components":[{"component_id":"136473","previous_id":0,"original_id":"0","guid":"B40AD084AE3741EFAAED781A935E73C5","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Make a list of windows with just a single hit","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Make a list of windows with just a single hit"},"is_project":0},{"component_id":"136474","previous_id":"136473","original_id":"0","guid":"66A6CF8E332E42D3B3A21A5DCC0DA165","previous_guid":"B40AD084AE3741EFAAED781A935E73C5","component_type_id":"6","data_id":"0","data":"Merge unique fragments","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Merge unique fragments"},"is_project":0},{"component_id":"136475","previous_id":"136474","original_id":"0","guid":"944D7F2E0E15479CB0A91413DB56673A","previous_guid":"66A6CF8E332E42D3B3A21A5DCC0DA165","component_type_id":"15","data_id":"104","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"for file in *.csv\ndo\n cat $file | perl -ne 'chomp;my($start,$count)=split(\"\\t\");print \"spacer\\tspacer\\t$start\\t\",$start+499,\"\\n\" if $count","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135740","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"752753FE13DB4544BB7604B927F7214E","previous_guid":"380DDDC7837E4BA086D4EB1447BE9644","previous_id":"135739","last_modified":"1447095616","components":[{"component_id":"136476","previous_id":0,"original_id":"0","guid":"11D2A4E069E04079B0BA5C1C2F41A441","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Merge the overlapping windows","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Merge the overlapping windows"},"is_project":0},{"component_id":"136477","previous_id":"136476","original_id":"0","guid":"7FA3A1F9091B425DA5D818132D45586F","previous_guid":"11D2A4E069E04079B0BA5C1C2F41A441","component_type_id":"6","data_id":"0","data":"Merge unique fragments","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Merge unique fragments"},"is_project":0},{"component_id":"136478","previous_id":"136477","original_id":"0","guid":"73CA675CD64640EB9BB874414459BFBB","previous_guid":"7FA3A1F9091B425DA5D818132D45586F","component_type_id":"26","data_id":"9243","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"9243","thread_id":"9243","id":"9243","thread_title":"Annotation on step 15 of Design of genome-wide HD-FISH probes","uri":"annotation-on-step-15-of-design-of-genomewide-hdfish","thread_uri":"annotation-on-step-15-of-design-of-genomewide-hdfish","step_id":"135740","protocol_uri":"Design-of-genome-wide-HD-FISH-probes-d6m9c5","protocol_name":"Design of genome-wide HD-FISH probes","protocol_name_html":"Design of genome-wide HD-FISH probes","annotation":"[We're now done with the round1 blat .psl output files. Can zip them to save space.]<br \/><br \/>cd \/home\/nylenny\/hdfish\/blat_results\/<br \/><br \/>for file in *.psl<br \/>do<br \/> qsub -e \/home\/nylenny\/hdfish\/cluster_eo\/ -o \/home\/nylenny\/hdfish\/cluster_eo\/\u00a0 -b y\u00a0 gzip \/home\/nylenny\/hdfish\/blat_results\/$file<br \/>done","thread_text":"[We're now done with the round1 blat .psl output files. Can zip them to save space.]<br \/><br \/>cd \/home\/nylenny\/hdfish\/blat_results\/<br \/><br \/>for file in *.psl<br \/>do<br \/> qsub -e \/home\/nylenny\/hdfish\/cluster_eo\/ -o \/home\/nylenny\/hdfish\/cluster_eo\/\u00a0 -b y\u00a0 gzip \/home\/nylenny\/hdfish\/blat_results\/$file<br \/>done","body":"[We're now done with the round1 blat .psl output files. Can zip them to save space.]<br \/><br \/>cd \/home\/nylenny\/hdfish\/blat_results\/<br \/><br \/>for file in *.psl<br \/>do<br \/> qsub -e \/home\/nylenny\/hdfish\/cluster_eo\/ -o \/home\/nylenny\/hdfish\/cluster_eo\/\u00a0 -b y\u00a0 gzip \/home\/nylenny\/hdfish\/blat_results\/$file<br \/>done","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1447095616","created_on":"1447095616","modified_on":"1447095616","last_updated":"1447095616","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/st2cz36.png","full_name":"Lenny Teytelman","affiliation":"protocols.io","username":"lenny-teytelman8","email":"lenny@protocols.io","pa_useranme":"lenny-teytelman8","comments":[]},"is_project":0},{"component_id":"136479","previous_id":"136478","original_id":"0","guid":"B3062A1F2EA04531B4A18845152920C6","previous_guid":"73CA675CD64640EB9BB874414459BFBB","component_type_id":"15","data_id":"105","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd \/home\/nylenny\/hdfish\/blat_results\/singles\n\nfor file in *.txt\ndo\n    perl \/home\/nylenny\/hdfish\/scripts\/interval_merger.pl  -f $file  > ${file%%singlehit_windows.txt}_singles_merged.txt\ndone","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135741","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"9B35EF0EB59F4F5CADBD92C43E36329E","previous_guid":"752753FE13DB4544BB7604B927F7214E","previous_id":"135740","last_modified":"1447095616","components":[{"component_id":"136480","previous_id":0,"original_id":"0","guid":"FB0F9849DC354E76BFD792AB47E56D35","previous_guid":null,"component_type_id":"1","data_id":"0","data":"On local machine, make a fasta file with the merged unique sequences","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"On local machine, make a fasta file with the merged unique sequences"},"is_project":0},{"component_id":"136481","previous_id":"136480","original_id":"0","guid":"DF9CBA79737746C99B9DD8C87339331D","previous_guid":"FB0F9849DC354E76BFD792AB47E56D35","component_type_id":"6","data_id":"0","data":"Merge unique fragments","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Merge unique fragments"},"is_project":0},{"component_id":"136482","previous_id":"136481","original_id":"0","guid":"FABE2F6E5DCA4CBB9063C591AD0E61B0","previous_guid":"DF9CBA79737746C99B9DD8C87339331D","component_type_id":"15","data_id":"106","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd \/media\/Elements\/projects\/hdfish\/unique_regions\n\nfor file in *.txt; do perl ~\/projects\/hd_fish\/scripts\/name_intervals.pl -i  $file > ${file%%_singles_merged.txt}_unique_toget.txt;done\n\nfor file in *toget.txt; do chrom=${file%%_unique_toget.txt}; perl ~\/programs\/Scripts\/get_fasta_sequence.pl -f \/media\/Elements\/projects\/hdfish\/databases\/fastas\/human\/${chrom}.fa -seq_list $file > \/media\/Elements\/projects\/hdfish\/databases\/fastas\/unique_regions\/${chrom}_unique.fa; done","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135742","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"89E5EA7EB172400FA2D78FB30BC6509E","previous_guid":"9B35EF0EB59F4F5CADBD92C43E36329E","previous_id":"135741","last_modified":"1447095616","components":[{"component_id":"136483","previous_id":0,"original_id":"0","guid":"DD0E3A43C65044DC809D75FF48AB18B5","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Convert the fasta sequences to primer3 input records","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Convert the fasta sequences to primer3 input records"},"is_project":0},{"component_id":"136484","previous_id":"136483","original_id":"0","guid":"E632B0B534C94279B6B2D7EB650EA4D9","previous_guid":"DD0E3A43C65044DC809D75FF48AB18B5","component_type_id":"6","data_id":"0","data":"Design tiled primer pairs for PCR","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Design tiled primer pairs for PCR"},"is_project":0},{"component_id":"136485","previous_id":"136484","original_id":"0","guid":"B8A145AC4B784483B1BE9520A81B33E9","previous_guid":"E632B0B534C94279B6B2D7EB650EA4D9","component_type_id":"26","data_id":"9244","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"9244","thread_id":"9244","id":"9244","thread_title":"Annotation on step 17 of Design of genome-wide HD-FISH probes","uri":"annotation-on-step-17-of-design-of-genomewide-hdfish","thread_uri":"annotation-on-step-17-of-design-of-genomewide-hdfish","step_id":"135742","protocol_uri":"Design-of-genome-wide-HD-FISH-probes-d6m9c5","protocol_name":"Design of genome-wide HD-FISH probes","protocol_name_html":"Design of genome-wide HD-FISH probes","annotation":"In this section, we run Primer3 to design tiled PCR primer pairs against the unique genome sections identified above.","thread_text":"In this section, we run Primer3 to design tiled PCR primer pairs against the unique genome sections identified above.","body":"In this section, we run Primer3 to design tiled PCR primer pairs against the unique genome sections identified above.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1447095616","created_on":"1447095616","modified_on":"1447095616","last_updated":"1447095616","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/st2cz36.png","full_name":"Lenny Teytelman","affiliation":"protocols.io","username":"lenny-teytelman8","email":"lenny@protocols.io","pa_useranme":"lenny-teytelman8","comments":[]},"is_project":0},{"component_id":"136486","previous_id":"136485","original_id":"0","guid":"AD192FDDD1584071AEAAC3FDEAF4BFBD","previous_guid":"B8A145AC4B784483B1BE9520A81B33E9","component_type_id":"15","data_id":"107","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd \/media\/Elements\/projects\/hdfish\/databases\/fastas\/unique_regions\/\n\nfor file in *.fa\ndo\n    perl ~\/projects\/hd_fish\/scripts\/make_primer3_records.pl  -i $file > \/media\/Elements\/projects\/hdfish\/databases\/primer3\/${file%%_unique.fa}_unique_for_primer3.txt \ndone","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135743","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"56E46E7FB0C64EAFA08D3B2423B38CF9","previous_guid":"89E5EA7EB172400FA2D78FB30BC6509E","previous_id":"135742","last_modified":"1447095616","components":[{"component_id":"136487","previous_id":0,"original_id":"0","guid":"337D37C10E0846C9A73CF82427C51212","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Transfer all the files to the cluster: rous:\/home\/nylenny\/hdfish\/databases\/primer3","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Transfer all the files to the cluster: rous:\/home\/nylenny\/hdfish\/databases\/primer3"},"is_project":0},{"component_id":"136488","previous_id":"136487","original_id":"0","guid":"60ADC13C60A34FD784E84D25FD8F51EE","previous_guid":"337D37C10E0846C9A73CF82427C51212","component_type_id":"6","data_id":"0","data":"Design tiled primer pairs for PCR","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Design tiled primer pairs for PCR"},"is_project":0}]},{"id":"135744","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"BD13678477064D06A59AEF335FFEB7BD","previous_guid":"56E46E7FB0C64EAFA08D3B2423B38CF9","previous_id":"135743","last_modified":"1447095616","components":[{"component_id":"136489","previous_id":0,"original_id":"0","guid":"197A0B179DE1430781ABB91C1E6271A3","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Run Primer3 on each chrom_unique file","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Run Primer3 on each chrom_unique file"},"is_project":0},{"component_id":"136490","previous_id":"136489","original_id":"0","guid":"EBDE1E0E70E14531BBB7A3437DF69724","previous_guid":"197A0B179DE1430781ABB91C1E6271A3","component_type_id":"6","data_id":"0","data":"Design tiled primer pairs for PCR","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Design tiled primer pairs for PCR"},"is_project":0},{"component_id":"136491","previous_id":"136490","original_id":"0","guid":"221E9D90987846238AA08C977C4E2A72","previous_guid":"EBDE1E0E70E14531BBB7A3437DF69724","component_type_id":"15","data_id":"108","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd \/home\/nylenny\/hdfish\/databases\/primer3\n\nfor file in *.txt\ndo\n     export infile=\/home\/nylenny\/hdfish\/databases\/primer3\/$file\n     export outfile=\/home\/nylenny\/hdfish\/primers\/primer3_output\/${file%%_unique_for_primer3.txt}_primer3_output.txt\n     qsub -o \/home\/nylenny\/hdfish\/cluster_eo\/ -e  \/home\/nylenny\/hdfish\/cluster_eo\/ -V \/home\/nylenny\/hdfish\/qsub_runs\/primer3_jobs.sh\ndone","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135745","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"9EE543CDBE164DD78AD6362CECD7903D","previous_guid":"BD13678477064D06A59AEF335FFEB7BD","previous_id":"135744","last_modified":"1447096006","components":[{"component_id":"136492","previous_id":0,"original_id":"0","guid":"DFAB9C8CD0634557BD9961638234E10C","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Process the Primer3 output.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Process the Primer3 output."},"is_project":0},{"component_id":"136493","previous_id":"136492","original_id":"0","guid":"3D8A4DAF252149F6AE96D9B78CCEE022","previous_guid":"DFAB9C8CD0634557BD9961638234E10C","component_type_id":"6","data_id":"0","data":"Select unique primer pairs","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Select unique primer pairs"},"is_project":0},{"component_id":"136494","previous_id":"136493","original_id":"0","guid":"B2D2DEC71A7A49CFB0601DF098C39C40","previous_guid":"3D8A4DAF252149F6AE96D9B78CCEE022","component_type_id":"26","data_id":"9245","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"9245","thread_id":"9245","id":"9245","thread_title":"Annotation on step 20 of Design of genome-wide HD-FISH probes","uri":"annotation-on-step-20-of-design-of-genomewide-hdfish","thread_uri":"annotation-on-step-20-of-design-of-genomewide-hdfish","step_id":"135745","protocol_uri":"Design-of-genome-wide-HD-FISH-probes-d6m9c5","protocol_name":"Design of genome-wide HD-FISH probes","protocol_name_html":"Design of genome-wide HD-FISH probes","annotation":"In this section, we use e-PCR to ensure that each primer pair has a unique match in the genome and will not cross-hybridize.","thread_text":"In this section, we use e-PCR to ensure that each primer pair has a unique match in the genome and will not cross-hybridize.","body":"In this section, we use e-PCR to ensure that each primer pair has a unique match in the genome and will not cross-hybridize.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1447096006","created_on":"1447096006","modified_on":"1447096006","last_updated":"1447096006","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/st2cz36.png","full_name":"Lenny Teytelman","affiliation":"protocols.io","username":"lenny-teytelman8","email":"lenny@protocols.io","pa_useranme":"lenny-teytelman8","comments":[]},"is_project":0},{"component_id":"136495","previous_id":"136494","original_id":"0","guid":"EA690270D5564A05A4D8A7B0788E6C01","previous_guid":"B2D2DEC71A7A49CFB0601DF098C39C40","component_type_id":"15","data_id":"109","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd \/home\/nylenny\/hdfish\/primers\/primer3_output\nfor file in *.txt\ndo\n   perl \/home\/nylenny\/hdfish\/scripts\/parse_primer3.pl -i $file > $file.parsed \ndone","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135746","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"5817AAB64BC54140BD169B0C2F4DF6DB","previous_guid":"9EE543CDBE164DD78AD6362CECD7903D","previous_id":"135745","last_modified":"1447096006","components":[{"component_id":"136496","previous_id":0,"original_id":"0","guid":"F3B16895B9EB4C73A381BB17235D4F4F","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Count primers per chromosome (normalized to 10kb)","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Count primers per chromosome (normalized to 10kb)"},"is_project":0},{"component_id":"136497","previous_id":"136496","original_id":"0","guid":"B48C4224F48B497A89C1060A18153D92","previous_guid":"F3B16895B9EB4C73A381BB17235D4F4F","component_type_id":"6","data_id":"0","data":"Select unique primer pairs","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Select unique primer pairs"},"is_project":0},{"component_id":"136498","previous_id":"136497","original_id":"0","guid":"552FE9F2253B4B0A9D975E3A85C8E270","previous_guid":"B48C4224F48B497A89C1060A18153D92","component_type_id":"15","data_id":"110","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"wc *.parsed | tr -s ' ' '\\t'  | grep -v total | cut -f 2,5 | cut -d '_' -f 1 |tr -d 'chr' | sort -k 2n > primer_pair_counts.tmp\n\n\ncat \/home\/nylenny\/hdfish\/databases\/fasta\/human_chr_sizes.txt |grep -v chrM | tr -d 'chr' | sort -k 1n > human_sizes.tmp\n\n\njoin -1 2 -2 1 primer_pair_counts.tmp  human_sizes.tmp   | tr -s ' ' '\\t' | perl -ne 'chomp;my($chrom,$primers,$size)=split(\"\\t\");print \"$chrom\\t$primers\\t$size\\t\",int(100000*$primers\/$size)\/10,\"\\n\";' > primers_per10kb.txt","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135747","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"70582A7404574788882087FD6EF102FD","previous_guid":"5817AAB64BC54140BD169B0C2F4DF6DB","previous_id":"135746","last_modified":"1447096006","components":[{"component_id":"136499","previous_id":0,"original_id":"0","guid":"C0B4D80602D84370A309E2E60081B614","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Make .sts files for e-PCR","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Make .sts files for e-PCR"},"is_project":0},{"component_id":"136500","previous_id":"136499","original_id":"0","guid":"37A93CD329E140D096505C2C6304D04A","previous_guid":"C0B4D80602D84370A309E2E60081B614","component_type_id":"6","data_id":"0","data":"Select unique primer pairs","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Select unique primer pairs"},"is_project":0},{"component_id":"136501","previous_id":"136500","original_id":"0","guid":"758FBCD2D57B4C54BCF73812CA430E08","previous_guid":"37A93CD329E140D096505C2C6304D04A","component_type_id":"15","data_id":"111","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd \/home\/nylenny\/hdfish\/primers\/primer3_output\n\nfor file in *.parsed\ndo\n cat $file |  perl -ne 'chomp;my($id,$leftp,$rightp,$left_start,$right_start)=split(\"\\t\");my($window,$wstart,$wstop)=split(\"_\",$id);print \"$id\\t$leftp\\t$rightp\\t\",$wstart+$left_start,\"\\t\",$wstart+$right_start,\"\\n\";' | sort -k 4n > \/home\/nylenny\/hdfish\/primers\/epcr_input\/${file%%_primer3_output.txt.parsed}_primer3_rawcoord.txt\ndone\n\ncd \/home\/nylenny\/hdfish\/primers\/epcr_input\/\n\nfor file in *.txt\ndo\n  cat $file |   perl -ne 'chomp;my($id,$","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135748","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"CB71F2D776334E2385C7A2A138529477","previous_guid":"70582A7404574788882087FD6EF102FD","previous_id":"135747","last_modified":"1447096006","components":[{"component_id":"136502","previous_id":0,"original_id":"0","guid":"DA7505DB304E42DCB246BD50A3D13290","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Run e-PCR against the entire human genome","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Run e-PCR against the entire human genome"},"is_project":0},{"component_id":"136503","previous_id":"136502","original_id":"0","guid":"DBC6AC9C9AF848CE9D3E3AA67A5D3825","previous_guid":"DA7505DB304E42DCB246BD50A3D13290","component_type_id":"6","data_id":"0","data":"Select unique primer pairs","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Select unique primer pairs"},"is_project":0},{"component_id":"136504","previous_id":"136503","original_id":"0","guid":"54CD958029054E7C934435896EEAA48B","previous_guid":"DBC6AC9C9AF848CE9D3E3AA67A5D3825","component_type_id":"15","data_id":"112","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd \/home\/nylenny\/hdfish\/primers\/epcr_input\n\n\nexport stsfile=chr22_primer3_rawcoord.sts\n\ncd \/home\/nylenny\/hdfish\/databases\/fasta\n\nfor chromosome in *.fa\ndo\n    export chrom=$chromosome\n    qsub -V -o \/home\/nylenny\/hdfish\/primers\/epcr_output\/${stsfile%%_primer3_rawcoord.sts}_to_$chrom.epcr -e \/home\/nylenny\/hdfish\/cluster_eo\/${stsfile}_to_$chrom.e \/home\/nylenny\/hdfish\/qsub_runs\/epcr.sh\ndone","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135749","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"102E0708C66D4A32AD04CA0957D5234F","previous_guid":"CB71F2D776334E2385C7A2A138529477","previous_id":"135748","last_modified":"1447096006","components":[{"component_id":"136505","previous_id":0,"original_id":"0","guid":"B5995F32482C405685A8CD1F0AB047AB","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Check for completion of batch jobs for each chromosome","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Check for completion of batch jobs for each chromosome"},"is_project":0},{"component_id":"136506","previous_id":"136505","original_id":"0","guid":"A9B34F2A2B704710A54C4BD60E4AB966","previous_guid":"B5995F32482C405685A8CD1F0AB047AB","component_type_id":"6","data_id":"0","data":"Select unique primer pairs","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Select unique primer pairs"},"is_project":0},{"component_id":"136507","previous_id":"136506","original_id":"0","guid":"448A8FA638AA4BF4B12F65BD8603A95F","previous_guid":"A9B34F2A2B704710A54C4BD60E4AB966","component_type_id":"15","data_id":"113","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd \/home\/nylenny\/hdfish\/primers\/epcr_output\n\nfor file in chr22_*; do echo $file |perl -ne 'chomp;s\/chr3_to_\/\/s;s\/.fa.epcr\/\/;print \"$_\\t\";'; tail -1 $file ;done | tr -s ' ' '\\t' | cut -f 1,4\n\n\nqrsh \n\ncd \/home\/nylenny\/hdfish\/primers\/epcr_output\/\n\nmkdir bychrom\nmv * bychrom\/\n\nfor file in chr1 chr10 chr11 chr12 chr13 chr14 chr15 chr16 chr17 chr18 chr19 chr2 chr20 chr21 chr22 chr3 chr4 chr5 chr6 chr7 chr8 chr9 chrX chrY\ndo\n  qsub -e \/home\/nylenny\/hdfish\/cluster_eo\/ -o \/home\/nylenny\/hdfish\/primers\/epcr_output\/$fi","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135750","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"3CA9A21DE6E54F5697BC6BA9ABDA5B17","previous_guid":"102E0708C66D4A32AD04CA0957D5234F","previous_id":"135749","last_modified":"1447096006","components":[{"component_id":"136508","previous_id":0,"original_id":"0","guid":"D4C140C9214343D0A38122D122C21AA5","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Exclude primers where e-PCR match is not to the exact same position as targeted","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Exclude primers where e-PCR match is not to the exact same position as targeted"},"is_project":0},{"component_id":"136509","previous_id":"136508","original_id":"0","guid":"7EFD179831E541CBB7FBB2384C52320B","previous_guid":"D4C140C9214343D0A38122D122C21AA5","component_type_id":"6","data_id":"0","data":"Select unique primer pairs","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"Select unique primer pairs"},"is_project":0},{"component_id":"136510","previous_id":"136509","original_id":"0","guid":"C3C2E7764A6443C7BE123499641E8152","previous_guid":"7EFD179831E541CBB7FBB2384C52320B","component_type_id":"15","data_id":"114","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cat chr*.txt| tr -s ' ' '\\t' | tr -s '.' '\\t' | tr -s ',' '\\t' | tr -s '_' '\\t' | perl -ne 'chomp;$line=$_;my($echrom,$estart,$estop,$chrom,undef,undef,$start,$stop)=split(\"\\t\",$line);if ($echrom ne $chrom or $start!=$estart or $stop!=$estop){print \"$chrom\\t$start\\t$stop\\n\";}' |uniq|sort|uniq > wrong_match.txt\n\n perl \/home\/nylenny\/hdfish\/scripts\/exclude_primers_bylist.pl -i ..\/epcr_input\/all_primers.txt -e wrong_match.txt > unique_primers.txt","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135751","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"41EC97DC3EB141B3A227A6B370A59AC1","previous_guid":"3CA9A21DE6E54F5697BC6BA9ABDA5B17","previous_id":"135750","last_modified":"1447100193","components":[{"component_id":"136511","previous_id":0,"original_id":"0","guid":"B682445952614E149796843D85D20070","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Now screen the probe sequence of the unique primers pairs by BLAT for uniqueness in the genome.","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Now screen the probe sequence of the unique primers pairs by BLAT for uniqueness in the genome."},"is_project":0},{"component_id":"136512","previous_id":"136511","original_id":"0","guid":"6E9B3B50F4BB4CE495966C7CBC93FB18","previous_guid":"B682445952614E149796843D85D20070","component_type_id":"6","data_id":"0","data":"BLAT, round 2","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"BLAT, round 2"},"is_project":0},{"component_id":"136526","previous_id":"136512","original_id":"0","guid":"588932823C0C40E3B70F47CE8898BDFD","previous_guid":"6E9B3B50F4BB4CE495966C7CBC93FB18","component_type_id":"26","data_id":"9247","data":"","order_id":"2","name":"Note","data_by_id":"1","type_id":"26","source_data":{"annotation_id":"9247","thread_id":"9247","id":"9247","thread_title":"Annotation on step 26 of Design of genome-wide HD-FISH probes","uri":"annotation-on-step-26-of-design-of-genomewide-hdfish","thread_uri":"annotation-on-step-26-of-design-of-genomewide-hdfish","step_id":"135751","protocol_uri":"Design-of-genome-wide-HD-FISH-probes-d6m9c5","protocol_name":"Design of genome-wide HD-FISH probes","protocol_name_html":"Design of genome-wide HD-FISH probes","annotation":"This second round of BLAT (on the 200bp probes) is stricter and uses 70% cutoff to avoid cross-hybridizing probes.","thread_text":"This second round of BLAT (on the 200bp probes) is stricter and uses 70% cutoff to avoid cross-hybridizing probes.","body":"This second round of BLAT (on the 200bp probes) is stricter and uses 70% cutoff to avoid cross-hybridizing probes.","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1447096287","created_on":"1447096287","modified_on":"1447096375","last_updated":"1447096375","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/st2cz36.png","full_name":"Lenny Teytelman","affiliation":"protocols.io","username":"lenny-teytelman8","email":"lenny@protocols.io","pa_useranme":"lenny-teytelman8","comments":[]},"is_project":0},{"component_id":"136513","previous_id":"136526","original_id":"0","guid":"38B909AD1EAA4D01B762D43E7C65E7F0","previous_guid":"588932823C0C40E3B70F47CE8898BDFD","component_type_id":"15","data_id":"115","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd \/media\/Elements\/projects\/hdfish\/unique_primers\n\ncat unique_primers.txt | tr -s '_' '\\t' | cut -f 1,6,7 > unique_primers_toget.txt \n\nperl ~\/programs\/Scripts\/get_fasta_sequence.pl -f \/media\/Elements\/projects\/hdfish\/databases\/fastas\/human\/all_human.fasta -seq_list unique_primers_toget.txt > unique_probes_for_round2.fa\n\nscp  unique_probes_for_round2.fa nylenny@rous.mit.edu:\/home\/nylenny\/hdfish\/databases\/unique_for_round2\/\n\n\ncd \/home\/nylenny\/hdfish\/databases\/blatdb\n\nfor chromosome in *.2bit\ndo\n    export chro","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"135754","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"ECBE69C3CC3F4316B096A589130431AB","previous_guid":"41EC97DC3EB141B3A227A6B370A59AC1","previous_id":"135751","last_modified":"1491803667","components":[{"component_id":"136523","previous_id":0,"original_id":"0","guid":"FA0C1B87CC3B4D1194BA8EEE6194B196","previous_guid":null,"component_type_id":"1","data_id":"0","data":"Count hits per probe and select single-hit ones only","order_id":"0","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Count hits per probe and select single-hit ones only"},"is_project":0},{"component_id":"136524","previous_id":"136523","original_id":"0","guid":"C07022CBB0D74D098D76533739413996","previous_guid":"FA0C1B87CC3B4D1194BA8EEE6194B196","component_type_id":"6","data_id":"0","data":"BLAT, round 2","order_id":"1","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":"BLAT, round 2"},"is_project":0},{"component_id":"708704","previous_id":"136524","original_id":"0","guid":"FEAAA983EC3747A4AB8BB7AD83AEB90D","previous_guid":"C07022CBB0D74D098D76533739413996","component_type_id":"13","data_id":"15096","data":"","order_id":"2","name":"Comment","data_by_id":"1","type_id":"13","source_data":{"annotation_id":"15096","thread_id":"15096","id":"15096","thread_title":"Annotation on step 27 of Design of genome-wide HD-FISH probes","uri":"annotation-on-step-27-of-design-of-genomewide-hdfish","thread_uri":"annotation-on-step-27-of-design-of-genomewide-hdfish","step_id":"135754","protocol_uri":"Design-of-genome-wide-HD-FISH-probes-d6m9c5","protocol_name":"Design of genome-wide HD-FISH probes","protocol_name_html":"Design of genome-wide HD-FISH probes","annotation":"<p>\u00a0\u00a0<\/p>","thread_text":"<p>\u00a0\u00a0<\/p>","body":"<p>\u00a0\u00a0<\/p>","is_private":"0","public_protocol":"1","can_edit":0,"can_delete":"0","show_name":"0","created_date":"1491803630","created_on":"1491803630","modified_on":"1491803667","last_updated":"1491803667","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/st2cz36.png","full_name":"Lenny Teytelman","affiliation":"protocols.io","username":"lenny-teytelman8","email":"lenny@protocols.io","pa_useranme":"lenny-teytelman8","comments":[]},"is_project":0},{"component_id":"136525","previous_id":"708704","original_id":"0","guid":"5DE4347BAE76430191D86689A5D592D6","previous_guid":"FEAAA983EC3747A4AB8BB7AD83AEB90D","component_type_id":"15","data_id":"116","data":null,"order_id":"3","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"cd hdfish\/blat_results\/round2\/\n\ncat probes_round2_to_chr*.psl > round2_to_allhuman.psl\n\nperl \/home\/nylenny\/hdfish\/scripts\/count_blat_hits.pl -i round2_to_allhuman.psl > counts\/round2_all_blatcounts.txt\n\ncat round2_all_blatcounts.txt | perl -ne 'chomp;my($name,$count)=split(\"\\t\");print \"$name\\t$count\\n\" if $count==1;' > round2_unique_probes.txt","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]}]}