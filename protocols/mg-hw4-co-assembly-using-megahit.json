{"uri":"mg-hw4-co-assembly-using-megahit-fwrbpd6","version_id":"0","protocol_name":"MG_HW4: Co-assembly using Megahit","protocol_name_html":"MG_HW4: Co-assembly using Megahit","is_prepublished":"0","can_edit":"0","parent_id":null,"api_version":"2","is_new_mode":"1","last_modified":"1521699062","type_id":"1","link":"","fork_id":"","public_fork_note":"","number_of_steps":"8","has_versions":"1","first_published_date":"1475098895","publish_date":"2016-09-28 21:41:35","documents":"null","have_protocol_in_step":"0","is_protocol_in_step":"0","vendor_name":"Contributed by users","vendor_link":"https:\/\/www.protocols.io","vendor_logo":"\/img\/vendors\/1.png","mod_mins":"-45","mod_secs":"1","description":"<p>This protocol describes the procedure for performing a co-assembly of short reads to obtain contigs using the Megahit assembler. This procedure is performed on a node at the UoA HPC due to memory considerations.\u00a0<\/p>","is_bookmarked":"0","can_reassign":"1","before_start":"","has_guidelines":"1","materials":[],"warning":"","version_class":"3761","public":"1","is_owner":"1","is_original_owner":"1","created_on":"1474900656","protocol_affiliation":"Hurwitz Lab","affiliation":"Hurwitz Lab ","doi":"dx.doi.org\/10.17504\/protocols.io.fwrbpd6","doi_status":"2","changed_fork_steps":null,"profile_url":"James-w2u264z2w2","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/67c2w6.jpg","full_name":"James Thornton Jr","created_by":"James Thornton Jr","private_link":"A64E5FF2474150D695C764F96B6A6263","original_img":"1","username":"james-thornton-jr","is_retracted":"0","retraction_reason":null,"plos_id":null,"manuscript_citation":null,"journal_name":null,"is_donations_disabled":"0","is_donations_disabled_by_user":"9","item_record_id":219751,"fork_info":[],"compare_forks":[],"protocols":[],"groups":[{"group_id":"52","group_uri":"hurwitz-lab","group_name":"Hurwitz Lab","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/iscwwe.png","requested_uid":null,"request_flag":null,"my_request":"1"},{"group_id":"224","group_uri":"metafunc-course","group_name":"MetaFunc Course","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/emybvtw.jpg","requested_uid":null,"request_flag":null,"my_request":"1"}],"number_of_shared_runs":[],"ownership_history":[],"keywords":"","transfer_to_user":[],"sub_transfer":false,"is_transfer_pending":false,"number_of_bookmarks":"1","collections":[],"tags":[],"archived":0,"sub_authors":[],"sub_protocols_number":0,"can_edit_shared":0,"shared_runs":[],"is_shared_run":0,"is_shared":1,"banner":null,"contact_badges":[{"badge_id":"1","badge_image":"\/img\/ambassador.svg","badge_description":"Ambassador"},{"badge_id":"4","badge_image":"\/img\/badges\/gold.svg","badge_description":"Gold power author!"},{"badge_id":"5","badge_image":"\/img\/badges\/earlyadopter.svg","badge_description":"Early adopter"},{"badge_id":"6","badge_image":"\/img\/badges\/socialbutterfly.svg","badge_description":"Social butterfly"}],"number_of_comments":0,"is_locked":0,"is_locked_by":false,"authors":"James Thornton","authors_list":[{"name":"James Thornton","affiliation":"Hurwitz Lab","username":null,"profile_image":null}],"user":{"profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/67c2w6.jpg","username":"james-thornton-jr","full_name":"James Thornton Jr","created_by":"James Thornton Jr"},"access":{"can_view":"1","can_remove":"0","can_add":"0","can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":"0","can_move":"1","can_transfer":"1","can_download":"1","is_locked":"0"},"is_contact_suspended":0,"guidelines":"<p><a href=\"http:\/\/rc.arizona.edu\/hpc-htc\/using-systems\" target=\"_blank\">UoA HPC: Using the Systems<\/a><\/p>\n<p>\u00a0<\/p>\n<p><a href=\"https:\/\/github.com\/voutcn\/megahit\" target=\"_blank\">Megahit github<\/a><\/p>","status_id":"1","is_research":"1","status_info":null,"steps":[{"id":"177343","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"6850909994D94A639C5880433FCDA220","previous_guid":null,"previous_id":"0","last_modified":"1502718920","components":[{"component_id":"986151","previous_id":0,"original_id":"0","guid":"8C038DA8CF914C4A9CA045C3BE36BC3A","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"208484","previous_id":"986151","original_id":"0","guid":"40E1F7AED8FB4654971831DE947E55A1","previous_guid":"8C038DA8CF914C4A9CA045C3BE36BC3A","component_type_id":"1","data_id":"0","data":"<p>Login to the HPC and move into Cluster(ICE).\u00a0<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Login to the HPC and move into Cluster(ICE).\u00a0<\/p>"},"is_project":0},{"component_id":"208488","previous_id":"208484","original_id":"0","guid":"37C59A4D750A4D5F985752D89D1A27F3","previous_guid":"40E1F7AED8FB4654971831DE947E55A1","component_type_id":"15","data_id":"1278","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ ssh hpc\n$ ice","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"177348","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"CC7B5333088542BFA17BAEA7C6A7276A","previous_guid":"6850909994D94A639C5880433FCDA220","previous_id":"177343","last_modified":"1502718921","components":[{"component_id":"986152","previous_id":0,"original_id":"0","guid":"A38AF797660C47C282EEA81E374F0D39","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"208490","previous_id":"986152","original_id":"0","guid":"48FB42DAF1D040A4B898D1420EBC1AB1","previous_guid":"A38AF797660C47C282EEA81E374F0D39","component_type_id":"1","data_id":"0","data":"<p>Assembly must be run on a node at UoAs HPC due to the high memory requirements of the job.\u00a0Copy the below script into a new file called run-assembly.sh :\u00a0<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Assembly must be run on a node at UoAs HPC due to the high memory requirements of the job.\u00a0Copy the below script into a new file called run-assembly.sh :\u00a0<\/p>"},"is_project":0},{"component_id":"208496","previous_id":"208490","original_id":"0","guid":"AD0FBE03D9F54F2C92FA0D742553C1AF","previous_guid":"48FB42DAF1D040A4B898D1420EBC1AB1","component_type_id":"15","data_id":"1279","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"#!\/bin\/bash\n\n#PBS -W group_list=bh_class\n#PBS -q windfall\n#PBS -l select=1:ncpus=12:mem=23gb\n#PBS -l pvmem=22gb\n#PBS -l walltime=24:00:00\n#PBS -l cput=24:00:00\n#PBS -M netid@email.arizona.edu\n#PBS -m bea\n\necho \u201cmy job_id is: ${PBS_JOBID}\u201d \n\nFASTA_DIR='\/rsgrps\/bh_class\/username\/fastq'\nASSEM_DIR='\/rsgrps\/bh_class\/username\/assembly\/megahit-out'\n\ncd $FASTA_DIR\n\nFASTA=$(ls .\/*.fasta | python -c 'import sys; print \",\".join([x.strip() for x in sys.stdin.readlines()])')\n\ncd $ASSEM_DIR\n\nmegahit -r $FASTA --min-contig-len 1000 -t 12 -o $ASSEM_DIR","description":"Make sure to replace netid and username. (username appears twice in this script)\n\n#PBS -l select=1:ncpus=12:mem=23gb is the memory allocations for the job. 1 node, 12 CPUs, and 23gb of RAM.\n\nFASTA=$(ls .\/*.fasta) will find all files with the extension .fasta in your FASTA_DIR. and is piped into the python command to join then on commas.","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"177359","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"42F352299CEB41209DD0DD5ADC063613","previous_guid":"CC7B5333088542BFA17BAEA7C6A7276A","previous_id":"177348","last_modified":"1502718921","components":[{"component_id":"986153","previous_id":0,"original_id":"0","guid":"7A67CF46067E4870B6F257C153507D65","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"208506","previous_id":"986153","original_id":"0","guid":"DC078DB8122A48E48B3814B883666803","previous_guid":"7A67CF46067E4870B6F257C153507D65","component_type_id":"1","data_id":"0","data":"<p>Submit run-assembly.sh using qsub:<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Submit run-assembly.sh using qsub:<\/p>"},"is_project":0},{"component_id":"208508","previous_id":"208506","original_id":"0","guid":"C15B4600B0D3468086C08C89F9A14B9B","previous_guid":"DC078DB8122A48E48B3814B883666803","component_type_id":"15","data_id":"1280","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ qsub -e std-err\/ -o std-out\/ run-assembly.sh","description":"Execute this command in your \/rsgrps\/bh_class\/username\/assembly directory which is the same place where the run-assembly.sh script should be\n\n-e and -o declare where to print stdout and stderr.","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"177958","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"CDB4594A60014F68A390FB9783FBFE32","previous_guid":"42F352299CEB41209DD0DD5ADC063613","previous_id":"177359","last_modified":"1502718922","components":[{"component_id":"986258","previous_id":0,"original_id":"0","guid":"3B0C3E6E3A8747AD884178B4B54F28C7","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"209432","previous_id":"986258","original_id":"0","guid":"70F28571C76445DAADF82B8517CF7C11","previous_guid":"3B0C3E6E3A8747AD884178B4B54F28C7","component_type_id":"1","data_id":"0","data":"<p>Check the status of your job:\u00a0<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Check the status of your job:\u00a0<\/p>"},"is_project":0},{"component_id":"209437","previous_id":"209432","original_id":"0","guid":"91DC6F7B04F6430593BDB5D486A2625F","previous_guid":"70F28571C76445DAADF82B8517CF7C11","component_type_id":"15","data_id":"1286","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ qstat -u jamesthornton","description":"use your netid username","os_name":"","os_version":"","can_edit":"1"},"is_project":0},{"component_id":"209439","previous_id":"209437","original_id":"0","guid":"0E58D23AD8244A7C9AE056CF470EFCDF","previous_guid":"91DC6F7B04F6430593BDB5D486A2625F","component_type_id":"17","data_id":"370","data":"<p><img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/e8ic2w6.png\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/e8ic2w6.png\" data-ofn=\"Screen Shot 2016-09-27 at 10.57.22 AM.png\" \/><\/p>","order_id":"3","name":"Expected result","data_by_id":"1","type_id":"17","source_data":{"result":"<p><img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/e8ic2w6.png\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/e8ic2w6.png\" data-ofn=\"Screen Shot 2016-09-27 at 10.57.22 AM.png\" \/><\/p>"},"is_project":0}]},{"id":"177964","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"6C75CC5F4B74410A980F627B70A4B82D","previous_guid":"CDB4594A60014F68A390FB9783FBFE32","previous_id":"177958","last_modified":"1502718922","components":[{"component_id":"986259","previous_id":0,"original_id":"0","guid":"9AD42350472945729CC64A3F23E1CEA1","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"209442","previous_id":"986259","original_id":"0","guid":"81A9EFC863344C84A435F76DA93E6715","previous_guid":"9AD42350472945729CC64A3F23E1CEA1","component_type_id":"1","data_id":"0","data":"<p>The status of the job will go from a 'Q' to 'R' when it is running. Once complete the list will be empty. You should receive email notifications once the job begins running and is complete.\u00a0<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>The status of the job will go from a 'Q' to 'R' when it is running. Once complete the list will be empty. You should receive email notifications once the job begins running and is complete.\u00a0<\/p>"},"is_project":0}]},{"id":"177997","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"2613214A88DA4E568EE48B0395497F6A","previous_guid":"6C75CC5F4B74410A980F627B70A4B82D","previous_id":"177964","last_modified":"1502718923","components":[{"component_id":"986265","previous_id":0,"original_id":"0","guid":"05273D863B394F58A168E9434F61E1E6","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"209501","previous_id":"986265","original_id":"0","guid":"44254E13F2074C2FB37D1375EEB57F23","previous_guid":"05273D863B394F58A168E9434F61E1E6","component_type_id":"1","data_id":"0","data":"<p>Once the job is complete move into the assembly directory and check its contents.\u00a0<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Once the job is complete move into the assembly directory and check its contents.\u00a0<\/p>"},"is_project":0},{"component_id":"209505","previous_id":"209501","original_id":"0","guid":"A7F6603A9E2C442FAFD3265D36532299","previous_guid":"44254E13F2074C2FB37D1375EEB57F23","component_type_id":"15","data_id":"1288","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ cd \/rsgrps\/bh_class\/username\/assembly\n$ ls","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"178003","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"10C961D87DD34A41906B6E199F800FC9","previous_guid":"2613214A88DA4E568EE48B0395497F6A","previous_id":"177997","last_modified":"1502718923","components":[{"component_id":"986266","previous_id":0,"original_id":"0","guid":"4727A72A10FA479D80CFEFA24328037E","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"209509","previous_id":"986266","original_id":"0","guid":"8D5100576B674521A14C75F793CDC9B8","previous_guid":"4727A72A10FA479D80CFEFA24328037E","component_type_id":"1","data_id":"0","data":"<p>Rename the final.contigs.fa to contigs.fa :<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Rename the final.contigs.fa to contigs.fa :<\/p>"},"is_project":0},{"component_id":"209512","previous_id":"209509","original_id":"0","guid":"D836A716EC404CD588D275715F7DB2B4","previous_guid":"8D5100576B674521A14C75F793CDC9B8","component_type_id":"15","data_id":"1289","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ mv final.contigs.fa .\/contigs.fa","description":"","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]},{"id":"178007","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"E4BA938D5DDA4B2BA1E3BDD3EF521746","previous_guid":"10C961D87DD34A41906B6E199F800FC9","previous_id":"178003","last_modified":"1502718923","components":[{"component_id":"986267","previous_id":0,"original_id":"0","guid":"2678BEE5B78A47439BD61548D3C7266B","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"209514","previous_id":"986267","original_id":"0","guid":"D47D6DD8B473408E93118E182EDF28E9","previous_guid":"2678BEE5B78A47439BD61548D3C7266B","component_type_id":"1","data_id":"0","data":"<p>Check the log file and report number of contigs, min\/max length, and N50 in your google doc.\u00a0<\/p>","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"<p>Check the log file and report number of contigs, min\/max length, and N50 in your google doc.\u00a0<\/p>"},"is_project":0},{"component_id":"209516","previous_id":"209514","original_id":"0","guid":"96B910EED34247D5849BF370846EF424","previous_guid":"D47D6DD8B473408E93118E182EDF28E9","component_type_id":"15","data_id":"1290","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"$ tail log","description":"tail can be used since the information you need is at the bottom of the log file.","os_name":"","os_version":"","can_edit":"1"},"is_project":0}]}]}