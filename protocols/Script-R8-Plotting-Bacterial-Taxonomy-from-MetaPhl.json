{"uri":"Script-R8-Plotting-Bacterial-Taxonomy-from-MetaPhl-ejbbcin","version_id":"0","protocol_name":"Script R8: Plotting Bacterial Taxonomy from MetaPhlan","protocol_name_html":"Script R8: Plotting Bacterial Taxonomy from MetaPhlan","is_prepublished":"0","can_edit":"0","parent_id":null,"api_version":"2","is_new_mode":"1","last_modified":"1520834402","type_id":"1","link":"http:\/\/mbio.asm.org\/content\/6\/5\/e01578-15.full","fork_id":"","public_fork_note":"","number_of_steps":"7","has_versions":"0","first_published_date":"1457616670","publish_date":"2016-03-11 03:02:24","documents":null,"have_protocol_in_step":"0","is_protocol_in_step":"0","vendor_name":"Contributed by users","vendor_link":"https:\/\/www.protocols.io","vendor_logo":"\/img\/vendors\/1.png","mod_mins":"-45","mod_secs":"1","description":"This protocol\u00a0outlines the analysis used to plot MetaPhlAn taxonomic assignments. Based on methods from the following publication:<br \/><br \/>Hannigan, Geoffrey D., et al. \"The Human Skin Double-Stranded DNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and Dynamic Associations with the Host Microbiome.\"\u00a0<em>mBio<\/em>\u00a06.5 (2015): e01578-15.","is_bookmarked":"0","can_reassign":"1","before_start":"Supplemental information available at:<br \/><br \/><a href=\"https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248\" target=\"_blank\">https:\/\/figshare.com\/articles\/The_Human_Skin_dsDNA_Virome_Topographical_and_Temporal_Diversity_Genetic_Enrichment_and_Dynamic_Associations_with_the_Host_Microbiome\/1281248<\/a>","has_guidelines":"1","materials":[],"warning":"","version_class":"2371","public":"1","is_owner":"1","is_original_owner":"1","created_on":"1455643476","protocol_affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","affiliation":"Merck Research Labs","doi":"dx.doi.org\/10.17504\/protocols.io.ejbbcin","doi_status":"2","changed_fork_steps":null,"profile_url":"Geoffrey-w2y254v2q2","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","full_name":"Geoffrey Hannigan","created_by":"Geoffrey Hannigan","private_link":"8A02386F9375A56AC059CDF8984A0106","original_img":"1","username":"geoffrey-hannigan","is_retracted":"0","retraction_reason":null,"plos_id":null,"manuscript_citation":null,"journal_name":null,"is_donations_disabled":"0","is_donations_disabled_by_user":"9","item_record_id":226789,"fork_info":[],"compare_forks":[],"protocols":[],"groups":[{"group_id":"45","group_uri":"verve-net","group_name":"VERVE Net","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/cdqcwwe.png","requested_uid":null,"request_flag":null,"my_request":"1"},{"group_id":"138","group_uri":"club-grice","group_name":"Club Grice","group_logo":"https:\/\/s3.amazonaws.com\/pr-journal\/cp7dzme.png","requested_uid":null,"request_flag":null,"my_request":"1"}],"number_of_shared_runs":[],"ownership_history":[],"keywords":"","transfer_to_user":[],"sub_transfer":false,"is_transfer_pending":false,"number_of_bookmarks":"0","collections":[{"protocol_name":"The Human Skin dsDNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and its Dynamic Associations with the Host Microbiome","protocol_name_html":"The Human Skin dsDNA Virome: Topographical and Temporal Diversity, Genetic Enrichment, and its Dynamic Associations with the Host Microbiome","uri":"The-Human-Skin-dsDNA-Virome-Topographical-and-Temp-ekubcww","username":"geoffrey-hannigan","profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","protocol_img":"https:\/\/www.protocols.io\/img\/default_protocol.png","full_name":"Geoffrey Hannigan"}],"tags":[],"archived":0,"sub_authors":[],"sub_protocols_number":0,"can_edit_shared":0,"shared_runs":[],"is_shared_run":0,"is_shared":1,"banner":null,"contact_badges":[{"badge_id":"4","badge_image":"\/img\/badges\/gold.svg","badge_description":"Gold power author!"},{"badge_id":"5","badge_image":"\/img\/badges\/earlyadopter.svg","badge_description":"Early adopter"},{"badge_id":"6","badge_image":"\/img\/badges\/socialbutterfly.svg","badge_description":"Social butterfly"}],"number_of_comments":0,"is_locked":0,"is_locked_by":false,"authors":"HANNIGAN GD, GRICE EA, ET AL.","authors_list":[{"name":"HANNIGAN GD","affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null},{"name":" GRICE EA","affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null},{"name":" ET AL.","affiliation":"DEPARTMENT OF DERMATOLOGY UNIVERSITY OF PENNSYLVANIA","username":null,"profile_image":null}],"user":{"profile_image":"https:\/\/s3.amazonaws.com\/pr-journal\/cpedy2n.jpg","username":"geoffrey-hannigan","full_name":"Geoffrey Hannigan","created_by":"Geoffrey Hannigan"},"access":{"can_view":"1","can_remove":"0","can_add":"0","can_edit":0,"can_publish":0,"can_get_doi":0,"can_share":"0","can_move":"1","can_transfer":"1","can_download":"1","is_locked":"0"},"is_contact_suspended":0,"guidelines":"<span class=\"identifier\">sessionInfo<\/span><span class=\"paren\">(<\/span><span class=\"paren\">)<br \/><br \/>## R version 3.2.0 (2015-04-16) <br \/>## Platform: x86_64-apple-darwin13.4.0 (64-bit) <br \/>## Running under: OS X 10.10.4 (Yosemite) <br \/>## ## locale: <br \/>## [1] en_US.UTF-8\/en_US.UTF-8\/en_US.UTF-8\/C\/en_US.UTF-8\/en_US.UTF-8 <br \/>## <br \/>## attached base packages: <br \/>## [1] stats graphics grDevices utils datasets methods base <br \/>## <br \/>## loaded via a namespace (and not attached): <br \/>## [1] magrittr_1.5 \u00a0 \u00a0formatR_1.2 \u00a0 \u00a0tools_3.2.0 \u00a0 \u00a0htmltools_0.2.6 <br \/>## [5] yaml_2.1.13 \u00a0 \u00a0stringi_0.4-1 \u00a0 \u00a0rmarkdown_0.7 \u00a0 \u00a0knitr_1.10.5 <br \/>## [9] stringr_1.0.0 \u00a0 \u00a0digest_0.6.8 \u00a0 \u00a0evaluate_0.7<\/span>","status_id":"1","is_research":"1","status_info":null,"steps":[{"id":"142761","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"075B81D51FCA4117B87B534DDBC121BD","previous_guid":null,"previous_id":"0","last_modified":"1502718728","components":[{"component_id":"978052","previous_id":0,"original_id":"0","guid":"B950E75AC2B343D789DD5119B22F146A","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150611","previous_id":"978052","original_id":"0","guid":"11292BCA523944A79E5AE3BDB2AE889A","previous_guid":"B950E75AC2B343D789DD5119B22F146A","component_type_id":"1","data_id":"0","data":"Load the libraries needed for analysis.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Load the libraries needed for analysis."},"is_project":0},{"component_id":"150612","previous_id":"150611","original_id":"0","guid":"7797A99612F94171B7245C9238EA5B89","previous_guid":"11292BCA523944A79E5AE3BDB2AE889A","component_type_id":"15","data_id":"866","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"library(ggplot2)\npackageVersion(\"ggplot2\")\n\nlibrary(reshape2)\npackageVersion(\"reshape2\")\n\nlibrary(plyr)\npackageVersion(\"plyr\")\n\nlibrary(RColorBrewer)\npackageVersion(\"RColorBrewer\")","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0},{"component_id":"150613","previous_id":"150612","original_id":"0","guid":"AB8C588DCF14497A9E25198EC717F621","previous_guid":"7797A99612F94171B7245C9238EA5B89","component_type_id":"17","data_id":"152","data":"<pre><code>## [1] '1.0.1'<\/code><\/pre>\n<pre class=\"r\">\u00a0<\/pre>","order_id":"3","name":"Expected result","data_by_id":"1","type_id":"17","source_data":{"result":"<pre><code>## [1] '1.0.1'<\/code><\/pre>\n<pre class=\"r\">\u00a0<\/pre>"},"is_project":0},{"component_id":"150614","previous_id":"150613","original_id":"0","guid":"3A275847192040D4A1A3A0D9A7771988","previous_guid":"AB8C588DCF14497A9E25198EC717F621","component_type_id":"17","data_id":"153","data":"<pre><code>## [1] '1.4.1'<\/code><\/pre>\n<pre class=\"r\">\u00a0<\/pre>","order_id":"4","name":"Expected result","data_by_id":"1","type_id":"17","source_data":{"result":"<pre><code>## [1] '1.4.1'<\/code><\/pre>\n<pre class=\"r\">\u00a0<\/pre>"},"is_project":0},{"component_id":"150615","previous_id":"150614","original_id":"0","guid":"A35A45D4A50F4DE4B55A2C8398D8908D","previous_guid":"3A275847192040D4A1A3A0D9A7771988","component_type_id":"17","data_id":"154","data":"<pre><code>## [1] '1.8.2'<\/code><\/pre>\n<pre class=\"r\">\u00a0<\/pre>","order_id":"5","name":"Expected result","data_by_id":"1","type_id":"17","source_data":{"result":"<pre><code>## [1] '1.8.2'<\/code><\/pre>\n<pre class=\"r\">\u00a0<\/pre>"},"is_project":0},{"component_id":"150616","previous_id":"150615","original_id":"0","guid":"C9A38F0DC88C416397F6ACCBCECDC5CC","previous_guid":"A35A45D4A50F4DE4B55A2C8398D8908D","component_type_id":"17","data_id":"155","data":"<pre><code>## [1] '1.1.2'<\/code><\/pre>","order_id":"6","name":"Expected result","data_by_id":"1","type_id":"17","source_data":{"result":"<pre><code>## [1] '1.1.2'<\/code><\/pre>"},"is_project":0}]},{"id":"142763","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"832C893F0D24418DAF6F2DFB8AE98924","previous_guid":"075B81D51FCA4117B87B534DDBC121BD","previous_id":"142761","last_modified":"1502718728","components":[{"component_id":"978053","previous_id":0,"original_id":"0","guid":"8867805568AB444AB4D012A5CA13BC63","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150618","previous_id":"978053","original_id":"0","guid":"C5444F28CE2B45239EE8C0CF7ED98211","previous_guid":"8867805568AB444AB4D012A5CA13BC63","component_type_id":"1","data_id":"0","data":"Read in the metadata and format it so that it matches the samples we are working with.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Read in the metadata and format it so that it matches the samples we are working with."},"is_project":0},{"component_id":"150619","previous_id":"150618","original_id":"0","guid":"58D0200383634ABF99014D0F94A491CB","previous_guid":"C5444F28CE2B45239EE8C0CF7ED98211","component_type_id":"15","data_id":"867","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"skinmet_metadata<-read.delim(\"..\/..\/IntermediateOutput\/Mapping_files\/SkinMet_and_Virome_001_metadata.tsv\")\nskinmet_metadata<-skinmet_metadata[,c(\"NexteraXT_SampleID\",\"SubjectID\",\"Site_Symbol\",\"TimePoint\")]\nskinmet_metadata$NexteraXT_SampleID<-as.character(skinmet_metadata$NexteraXT_SampleID)\ncolnames(skinmet_metadata)[1]<-\"SampleID\"\nskinmet_metadata<-subset(skinmet_metadata, skinmet_metadata$SampleID != \"NA\")\nskinmet_metadata<-subset(skinmet_metadata, skinmet_metadata$TimePoint != 1)\nskinmet_metadata<-subset(skinmet_metadata, !(skinmet_metadata$SubjectID %in% c(2,3,9,11)))\nskinmet_metadata<-subset(skinmet_metadata, !(skinmet_metadata$Site_Symbol %in% c(\"Neg\", \"Vf\", \"Ba\", \"Ph\")))","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"142764","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"53FCB19BB48C4FB2A06BEA8BC8821CC2","previous_guid":"832C893F0D24418DAF6F2DFB8AE98924","previous_id":"142763","last_modified":"1502718728","components":[{"component_id":"978054","previous_id":0,"original_id":"0","guid":"B9D684DCE78241DB901B146E77D0DC32","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150620","previous_id":"978054","original_id":"0","guid":"89E758AC9F5E4576AB5EE4771EDD37B6","previous_guid":"B9D684DCE78241DB901B146E77D0DC32","component_type_id":"1","data_id":"0","data":"We only want to look at a certain number of taxa to make the data more visually informative.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"We only want to look at a certain number of taxa to make the data more visually informative."},"is_project":0},{"component_id":"150621","previous_id":"150620","original_id":"0","guid":"407FEC32CDD5450D805F2751311DE7AF","previous_guid":"89E758AC9F5E4576AB5EE4771EDD37B6","component_type_id":"15","data_id":"868","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"topTaxa<- function(data, numTaxa){\n  if(nrow(data)>numTaxa){\n    data$RowSum<-rowSums(data)\n    data<-data[order(-data$RowSum),]\n    tmp<-data[numTaxa:nrow(data),]\n    data<-data[-c(numTaxa:nrow(data)),]\n    other<-colSums(tmp)\n    data<-rbind(data,other)\n    row.names(data)[nrow(data)]<-\"Other\"\n  }\n  data$RowSum<-NULL\n  return(data)\n}","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"142765","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"E2ECF86B26E4444FB556FEA09D8E4831","previous_guid":"53FCB19BB48C4FB2A06BEA8BC8821CC2","previous_id":"142764","last_modified":"1502718728","components":[{"component_id":"978055","previous_id":0,"original_id":"0","guid":"D3023934821643D39B97BC2B88601307","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150622","previous_id":"978055","original_id":"0","guid":"9B0159A109214077859E5EE421BA5A04","previous_guid":"D3023934821643D39B97BC2B88601307","component_type_id":"1","data_id":"0","data":"Now we are ready to read in the MetaPhlAn merged output at the genus level and format it for plotting.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Now we are ready to read in the MetaPhlAn merged output at the genus level and format it for plotting."},"is_project":0},{"component_id":"150623","previous_id":"150622","original_id":"0","guid":"53F60D863C6143CF8E679DF7A2602C5E","previous_guid":"9B0159A109214077859E5EE421BA5A04","component_type_id":"15","data_id":"869","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"skinmet_data<-read.delim(\"..\/..\/IntermediateOutput\/MetaPhlAn\/skinmet_metaphlan_merged_output_genera.txt\",sep=\"\\t\",header=TRUE)","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"142766","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"30243A2481474147B575F2F13E69815D","previous_guid":"E2ECF86B26E4444FB556FEA09D8E4831","previous_id":"142765","last_modified":"1502718728","components":[{"component_id":"978056","previous_id":0,"original_id":"0","guid":"8B3E6E3C11E44E029FF74282BE526534","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150624","previous_id":"978056","original_id":"0","guid":"722F480590E74ADB8320B516BCF19A5F","previous_guid":"8B3E6E3C11E44E029FF74282BE526534","component_type_id":"1","data_id":"0","data":"Format sample IDs.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Format sample IDs."},"is_project":0},{"component_id":"150625","previous_id":"150624","original_id":"0","guid":"3992FE13BF404973B9C078CD3A93DA80","previous_guid":"722F480590E74ADB8320B516BCF19A5F","component_type_id":"15","data_id":"870","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"skinmet_data$ID<-gsub(x=skinmet_data$ID,pattern=\"g__\",replacement=\"\")\ncolnames(skinmet_data)<-gsub(x=colnames(skinmet_data),pattern=\"_R1_trimmed_metaphlan_genera\",replacement=\"\")\nrownames(skinmet_data)<-skinmet_data[,1]\nskinmet_data<-skinmet_data[,-1]\nhead(skinmet_data[,1:4])","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0},{"component_id":"150626","previous_id":"150625","original_id":"0","guid":"23503F6449FA4936A951B7D9D73410C0","previous_guid":"3992FE13BF404973B9C078CD3A93DA80","component_type_id":"17","data_id":"156","data":"<table>\n<tbody>\n<tr>\n<td>##<\/td>\n<td>\u00a0<\/td>\n<td>MG100128<\/td>\n<td>\u00a0<\/td>\n<td>MG100129<\/td>\n<td>\u00a0<\/td>\n<td>MG100130<\/td>\n<td>\u00a0<\/td>\n<td>MG100131<\/td>\n<\/tr>\n<tr>\n<td>## Abiotrophia<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<\/tr>\n<tr>\n<td>## Acetobacteraceae_unclassified<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<\/tr>\n<tr>\n<td>Achromobacter<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<\/tr>\n<tr>\n<td>Acidaminococcaceae_unclassified<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<\/tr>\n<tr>\n<td>Acidovorax<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<\/tr>\n<tr>\n<td>Acinetobacter<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<\/tr>\n<\/tbody>\n<\/table>","order_id":"3","name":"Expected result","data_by_id":"1","type_id":"17","source_data":{"result":"<table>\n<tbody>\n<tr>\n<td>##<\/td>\n<td>\u00a0<\/td>\n<td>MG100128<\/td>\n<td>\u00a0<\/td>\n<td>MG100129<\/td>\n<td>\u00a0<\/td>\n<td>MG100130<\/td>\n<td>\u00a0<\/td>\n<td>MG100131<\/td>\n<\/tr>\n<tr>\n<td>## Abiotrophia<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<\/tr>\n<tr>\n<td>## Acetobacteraceae_unclassified<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<\/tr>\n<tr>\n<td>Achromobacter<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<\/tr>\n<tr>\n<td>Acidaminococcaceae_unclassified<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<\/tr>\n<tr>\n<td>Acidovorax<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<\/tr>\n<tr>\n<td>Acinetobacter<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<td>\u00a0<\/td>\n<td>0<\/td>\n<\/tr>\n<\/tbody>\n<\/table>"},"is_project":0}]},{"id":"142767","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"38EED37E6B194AE58FA2807FA1112850","previous_guid":"30243A2481474147B575F2F13E69815D","previous_id":"142766","last_modified":"1502718728","components":[{"component_id":"978057","previous_id":0,"original_id":"0","guid":"72AA38AA63884511A67BA4F2864E4641","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150627","previous_id":"978057","original_id":"0","guid":"058397ACD73A4B058F87F2F9C6FCD91D","previous_guid":"72AA38AA63884511A67BA4F2864E4641","component_type_id":"1","data_id":"0","data":"Look at top 10 taxa.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Look at top 10 taxa."},"is_project":0},{"component_id":"150628","previous_id":"150627","original_id":"0","guid":"D2BCC00E82EA4CAEB8450EBFFFE7783A","previous_guid":"058397ACD73A4B058F87F2F9C6FCD91D","component_type_id":"15","data_id":"871","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"skinmet_data<-topTaxa(skinmet_data,10)\ntaxa_order<-as.vector(row.names(skinmet_data))\n\nskinmet_datat<-as.data.frame(t(skinmet_data))\nskinmet_data2<-merge(skinmet_datat,skinmet_metadata,by.x=\"row.names\",by.y=\"SampleID\")\ncolnames(skinmet_data2)[1]<-\"SampleID\" \nskinmet_datam<-melt(skinmet_data2, id.var=colnames(skinmet_metadata))\nskinmet_datam$variable<-factor(skinmet_datam$variable, levels=c(taxa_order))","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0}]},{"id":"142768","is_changed":"0","original_id":"0","is_skipped":"0","is_checked":"0","guid":"483CC99CFC2F43CC8A54D1A742B6A52B","previous_guid":"38EED37E6B194AE58FA2807FA1112850","previous_id":"142767","last_modified":"1502718728","components":[{"component_id":"978058","previous_id":0,"original_id":"0","guid":"73E24B87005A453F931E09588EA79EBC","previous_guid":null,"component_type_id":"6","data_id":null,"data":null,"order_id":"0","name":"Section","data_by_id":"0","type_id":"6","source_data":{"section":null},"is_project":0},{"component_id":"150629","previous_id":"978058","original_id":"0","guid":"400023E43D914F08B217B78AF33BA5CD","previous_guid":"73E24B87005A453F931E09588EA79EBC","component_type_id":"1","data_id":"0","data":"Plot by site symbol and site categories.","order_id":"1","name":"Description","data_by_id":"0","type_id":"1","source_data":{"description":"Plot by site symbol and site categories."},"is_project":0},{"component_id":"150630","previous_id":"150629","original_id":"0","guid":"0E1B527FC5EF431B92C52074B219C54B","previous_guid":"400023E43D914F08B217B78AF33BA5CD","component_type_id":"15","data_id":"872","data":null,"order_id":"2","name":"Command","data_by_id":"1","type_id":"15","source_data":{"name":"ggplot(skinmet_datam, aes(x=factor(SampleID), y=value, fill=variable, order=variable))+theme_bw()+geom_bar(stat = \"identity\") +theme(axis.text.x=element_text(angle=90),legend.position='right')+ggtitle(\"MetaPhlAn- Top 10 Genera Relative Abundance\") +facet_wrap(Site_Symbol~TimePoint,scales=\"free_x\",nrow=1)+guides(fill = guide_legend(reverse = TRUE))+xlab(\"Sample\")+ylab(\"Relative Abundance\")+guides(fill = guide_legend(reverse = TRUE))+scale_fill_manual(values = c(\"#e41a1c\", \"#377eb8\", \"#33CCCC\", \"#4daf4a\", \"#984ea3\", \"#ff7f00\", \"#ffff33\", \"#a65628\",\"#f781bf\", \"#999999\"))","description":"","os_name":"","os_version":"","can_edit":"0"},"is_project":0},{"component_id":"150631","previous_id":"150630","original_id":"0","guid":"3CA03DCE2AD74BFFA79C62B7A4DE0F6F","previous_guid":"0E1B527FC5EF431B92C52074B219C54B","component_type_id":"17","data_id":"157","data":"<img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/cgxc2w6.png\" alt=\"\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/cgwc2w6.png\" data-ofn=\"r8_plot.png\" \/>","order_id":"3","name":"Expected result","data_by_id":"1","type_id":"17","source_data":{"result":"<img id=\"s-mce-img\" class=\"s-mce-img\" src=\"https:\/\/s3.amazonaws.com\/pr-journal\/cgxc2w6.png\" alt=\"\" data-src=\"https:\/\/s3.amazonaws.com\/pr-journal\/cgwc2w6.png\" data-ofn=\"r8_plot.png\" \/>"},"is_project":0}]}]}